{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/xtream/groups.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/xtream/groups.vue","mtime":1625147934145},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlIHZ1ZS9uby1zaWRlLWVmZmVjdHMtaW4tY29tcHV0ZWQtcHJvcGVydGllcyAqLwppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL2VidXMiOwppbXBvcnQgeyBodHRwU2VydmljZSB9IGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL2h0dHAiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZVRhYjogMCwKICAgICAgcGxheWxpc3RzOiBbXSwKICAgICAgZ3JvdXBzOiBbXSwKICAgICAgZ3JvdXA6IG51bGwsCiAgICAgIGVkaXRvcjogZmFsc2UsCiAgICAgIHNlYXJjaDogbnVsbCwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgZnJvbTogMCwKICAgICAgdG86IDAsCiAgICAgIHRvdGFsOiAwLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgZmllbGRzOiBbCiAgICAgICAgewogICAgICAgICAga2V5OiAicGxheWxpc3QiLAogICAgICAgICAgbGFiZWw6IHRoaXMuJHQoInh0cmVhbS5wbGF5bGlzdCIpLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgfSwKICAgICAgICB7IGtleTogImdyb3VwX25hbWUiLCBsYWJlbDogdGhpcy4kdCgieHRyZWFtLm5hbWUiKSwgc29ydGFibGU6IHRydWUgfSwKICAgICAgICB7IGtleTogImdyb3VwX29yZGVyIiwgbGFiZWw6IHRoaXMuJHQoInh0cmVhbS5vcmRlciIpLCBzb3J0YWJsZTogdHJ1ZSB9LAogICAgICAgIHsga2V5OiAiZ3JvdXBfdHlwZSIsIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0udHlwZSIpLCBzb3J0YWJsZTogdHJ1ZSB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogImdyb3VwX2lzX2hpZGRlbiIsCiAgICAgICAgICBsYWJlbDogdGhpcy4kdCgieHRyZWFtLmhpZGRlbiIpLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJzdHJlYW1zIiwKICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0uc3RyZWFtcyIpLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJhY3Rpb25zIiwKICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ1c2Vycy5hY3Rpb25zIiksCiAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICB0aENsYXNzOiAidGV4dC1yaWdodCIsCiAgICAgICAgICB0ZENsYXNzOiAidGV4dC1yaWdodCIsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgZ3JvdXBUeXBlczogWwogICAgICAgIHsgdGV4dDogdGhpcy4kdCgieHRyZWFtLmxpdmUiKSwgdmFsdWU6IDEgfSwKICAgICAgICB7IHRleHQ6IHRoaXMuJHQoInh0cmVhbS5tb3ZpZXMiKSwgdmFsdWU6IDIgfSwKICAgICAgICB7IHRleHQ6IHRoaXMuJHQoInh0cmVhbS5zZXJpZXMiKSwgdmFsdWU6IDMgfSwKICAgICAgXSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbImN1cnJlbnRVc2VyIiwgInNldHRpbmdzIl0pLAogICAgc2hvd1Rvb2x0aXBzICgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3Muc2hvd1Rvb2x0aXBzOwogICAgfSwKICAgIHBlclBhZ2UoKSB7CiAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnBlclBhZ2U7CiAgICB9LAogICAgc2VhcmNoRmlsdGVyZWQoKSB7CiAgICAgIGlmICh0aGlzLnNlYXJjaCA9PT0gbnVsbCkgewogICAgICAgIHJldHVybiB0aGlzLmdyb3VwczsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKHRoaXMuc2VhcmNoLCAiaSIpOwogICAgICAgIHJldHVybiB0aGlzLmdyb3Vwcy5maWx0ZXIoKGdyb3VwKSA9PiB7CiAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBTdHJpbmcoZ3JvdXAuZ3JvdXBfbmFtZSkubWF0Y2gocmUpIHx8CiAgICAgICAgICAgIFN0cmluZyhncm91cC5ncm91cF9vcmRlcikubWF0Y2gocmUpIHx8CiAgICAgICAgICAgIHRoaXMuJHQoYGNhdGVnb3J5LXR5cGUuJHtncm91cC5ncm91cF90eXBlfWApLm1hdGNoKHJlKQogICAgICAgICAgKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHBhZ2VkKCkgewogICAgICB0aGlzLnRvdGFsID0gdGhpcy5zZWFyY2hGaWx0ZXJlZC5sZW5ndGg7CiAgICAgIHRoaXMuZnJvbSA9ICh0aGlzLmN1cnJlbnRQYWdlIC0gMSkgKiB0aGlzLnBlclBhZ2U7CiAgICAgIHRoaXMudG8gPQogICAgICAgIHRoaXMuZnJvbSArIHRoaXMucGVyUGFnZSA+IHRoaXMudG90YWwKICAgICAgICAgID8gdGhpcy50b3RhbAogICAgICAgICAgOiB0aGlzLmZyb20gKyB0aGlzLnBlclBhZ2U7CiAgICAgIHJldHVybiB0aGlzLnNlYXJjaEZpbHRlcmVkLnNsaWNlKHRoaXMuZnJvbSwgdGhpcy50byk7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgbG9hZEdyb3VwcygpIHsKICAgICAgbGV0IGFtb3VudCA9IDUwOwogICAgICBsZXQgZ3JvdXBzID0gW107CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgUHJvbWlzZS5hbGwoW2h0dHBTZXJ2aWNlLmdldCgiZ3JvdXAvdG90YWwiKSwgaHR0cFNlcnZpY2UuZ2V0KCJwbGF5bGlzdCIpXSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAocmVzWzBdLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgICBsZXQgcmVxdWVzdHMgPSBbXTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBNYXRoLmNlaWwocmVzWzBdLmRhdGEgLyBhbW91bnQpOyBpKyspIHsKICAgICAgICAgICAgICByZXF1ZXN0cy5wdXNoKGh0dHBTZXJ2aWNlLmdldChgZ3JvdXAvJHtpICogYW1vdW50fS8ke2Ftb3VudH1gKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgUHJvbWlzZS5hbGwocmVxdWVzdHMpLnRoZW4oKHJlc3VsdHMpID0+IHsKICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIHJlc3VsdHMubWFwKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgIGdyb3VwcyA9IFsuLi5ncm91cHMsIC4uLnJlcy5kYXRhXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50VXNlci5zdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uX3R5cGUgPT0gMCkgewogICAgICAgICAgICAgICAgdGhpcy5ncm91cHMgPSBncm91cHMuZmlsdGVyKChncm91cCkgPT4gewogICAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXAuZ3JvdXBfdHlwZSA9PT0gMTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmdyb3VwcyA9IGdyb3VwczsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHJlc1sxXS5zdGF0dXMgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5wbGF5bGlzdHMgPSByZXNbMV0uZGF0YS5tYXAoKHBsYXlsaXN0KSA9PiB7CiAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHRleHQ6IHBsYXlsaXN0Lm5hbWUsCiAgICAgICAgICAgICAgICB2YWx1ZTogcGxheWxpc3QuaWQsCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJG5vdGlmeSgKICAgICAgICAgICAgImVycm9yIiwKICAgICAgICAgICAgdGhpcy4kdCgicHJvZmlsZS5mYWlsZWQiKSwKICAgICAgICAgICAgdGhpcy4kdCgieHRyZWFtLmdyb3VwLWxvYWQtZXJyb3IiKSwKICAgICAgICAgICAgImxhLXVzZXItc2hpZWxkIiwKICAgICAgICAgICAgeyBkdXJhdGlvbjogNTAwMCwgcGVybWFuZW50OiBmYWxzZSB9CiAgICAgICAgICApOwogICAgICAgIH0pOwogICAgfSwKICAgIGFkZEdyb3VwKCkgewogICAgICBodHRwU2VydmljZQogICAgICAgIC5wb3N0KCJncm91cC9hZGQiKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSAmJiByZXMuZGF0YSkgewogICAgICAgICAgICB0aGlzLmdyb3VwID0gewogICAgICAgICAgICAgIGlkOiByZXMuZGF0YSwKICAgICAgICAgICAgICBncm91cF9uYW1lOiAiIiwKICAgICAgICAgICAgICBncm91cF9vcmRlcjogMCwKICAgICAgICAgICAgICBncm91cF90eXBlOiAxLAogICAgICAgICAgICAgIGdyb3VwX3BhcmVudF9jb2RlOiAiIiwKICAgICAgICAgICAgICBncm91cF9pc19oaWRkZW46IGZhbHNlLAogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLmVkaXRvciA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJG5vdGlmeSgKICAgICAgICAgICAgImVycm9yIiwKICAgICAgICAgICAgdGhpcy4kdCgicHJvZmlsZS5mYWlsZWQiKSwKICAgICAgICAgICAgdGhpcy4kdCgieHRyZWFtLmdyb3VwLWxvYWQtZXJyb3IiKSwKICAgICAgICAgICAgImxhLXVzZXItc2hpZWxkIiwKICAgICAgICAgICAgeyBkdXJhdGlvbjogNTAwMCwgcGVybWFuZW50OiBmYWxzZSB9CiAgICAgICAgICApOwogICAgICAgIH0pOwogICAgfSwKICAgIGVkaXRHcm91cChncm91cCkgewogICAgICB0aGlzLmdyb3VwID0gT2JqZWN0LmFzc2lnbih7fSwgZ3JvdXApOwogICAgICB0aGlzLmVkaXRvciA9IHRydWU7CiAgICB9LAogICAgY2FuY2VsRWRpdG9yKCkgewogICAgICB0aGlzLmVkaXRvciA9IGZhbHNlOwogICAgfSwKICAgIHNhdmVFZGl0b3IoKSB7CiAgICAgIGxldCBncm91cCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ3JvdXApOwogICAgICBkZWxldGUgZ3JvdXAuaWQ7CiAgICAgIGRlbGV0ZSBncm91cC5wbGF5bGlzdDsKICAgICAgZGVsZXRlIGdyb3VwLnN0cmVhbXM7CgogICAgICBodHRwU2VydmljZQogICAgICAgIC5wdXQoYGdyb3VwLyR7dGhpcy5ncm91cC5pZH1gLCBncm91cCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLiRub3RpZnkoCiAgICAgICAgICAgICAgInByaW1hcnkiLAogICAgICAgICAgICAgIHRoaXMuJHQoInByb2ZpbGUuc3VjY2VzcyIpLAogICAgICAgICAgICAgIHRoaXMuJHQoInh0cmVhbS5ncm91cC1zYXZlLXN1Y2Nlc3MiKSwKICAgICAgICAgICAgICAibGEtdXNlci1zaGllbGQiLAogICAgICAgICAgICAgIHsgZHVyYXRpb246IDUwMDAsIHBlcm1hbmVudDogZmFsc2UgfQogICAgICAgICAgICApOwogICAgICAgICAgICB0aGlzLmVkaXRvciA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmxvYWRHcm91cHMoKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRub3RpZnkoCiAgICAgICAgICAgICJlcnJvciIsCiAgICAgICAgICAgIHRoaXMuJHQoInByb2ZpbGUuZmFpbGVkIiksCiAgICAgICAgICAgIHRoaXMuJHQoInh0cmVhbS5ncm91cC1zYXZlLWVycm9yIiksCiAgICAgICAgICAgICJsYS11c2VyLXNoaWVsZCIsCiAgICAgICAgICAgIHsgZHVyYXRpb246IDUwMDAsIHBlcm1hbmVudDogZmFsc2UgfQogICAgICAgICAgKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVHcm91cChpZCkgewogICAgICBodHRwU2VydmljZQogICAgICAgIC5kZWxldGUoYGdyb3VwLyR7aWR9YCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLiRub3RpZnkoCiAgICAgICAgICAgICAgInByaW1hcnkiLAogICAgICAgICAgICAgIHRoaXMuJHQoInByb2ZpbGUuc3VjY2VzcyIpLAogICAgICAgICAgICAgIHRoaXMuJHQoInh0cmVhbS5ncm91cC1kZWxldGUtc3VjY2VzcyIpLAogICAgICAgICAgICAgICJsYS11c2VyLXNoaWVsZCIsCiAgICAgICAgICAgICAgeyBkdXJhdGlvbjogNTAwMCwgcGVybWFuZW50OiBmYWxzZSB9CiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHRoaXMubG9hZEdyb3VwcygpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIHRoaXMuJG5vdGlmeSgKICAgICAgICAgICAgImVycm9yIiwKICAgICAgICAgICAgdGhpcy4kdCgicHJvZmlsZS5mYWlsZWQiKSwKICAgICAgICAgICAgdGhpcy4kdCgieHRyZWFtLmdyb3VwLWRlbGV0ZS1lcnJvciIpLAogICAgICAgICAgICAibGEtdXNlci1zaGllbGQiLAogICAgICAgICAgICB7IGR1cmF0aW9uOiA1MDAwLCBwZXJtYW5lbnQ6IGZhbHNlIH0KICAgICAgICAgICk7CiAgICAgICAgfSk7CiAgICB9LAogICAgc2VhcmNoR3JvdXAoc2VhcmNoKSB7CiAgICAgIGlmIChzZWFyY2gubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy5zZWFyY2ggPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VhcmNoID0gc2VhcmNoOwogICAgICB9CiAgICB9LAogICAgcHJpbnRHcm91cHMoKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJncm91cHMiKS5wcmludCgpOwogICAgfSwKICAgIGZvcm1hdERhdGUoZGF0ZSkgewogICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZSkudG9Mb2NhbGVTdHJpbmcoCiAgICAgICAgdGhpcy4kdCgiZGF0ZS5sb2NhbGUiKSwKICAgICAgICB0aGlzLmRhdGVPcHRpb25zCiAgICAgICk7CiAgICB9LAogICAgZG9UYWJDaGFuZ2UodGFiKSB7CiAgICAgIGlmICh0YWIgPT0gMSkgewogICAgICAgIHRoaXMubG9hZEdyb3VwcygpOwogICAgICB9CiAgICAgIHRoaXMuYWN0aXZlVGFiID0gdGFiOwogICAgfSwKICB9LAogIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5sb2FkR3JvdXBzKCk7CiAgICBFdmVudEJ1cy4kb24oInNlYXJjaCIsIHRoaXMuc2VhcmNoR3JvdXApOwogICAgRXZlbnRCdXMuJG9uKCJwcmludCIsIHRoaXMucHJpbnRHcm91cHMpOwogICAgRXZlbnRCdXMuJG9uKCJyZWZyZXNoIiwgdGhpcy5sb2FkR3JvdXBzKTsKICAgIEV2ZW50QnVzLiRvbigiYWRkIiwgdGhpcy5hZGRHcm91cCk7CiAgICBFdmVudEJ1cy4kb24oImNhbmNlbCIsIHRoaXMuY2FuY2VsRWRpdG9yKTsKICAgIEV2ZW50QnVzLiRvbigic2F2ZSIsIHRoaXMuc2F2ZUVkaXRvcik7CiAgICBFdmVudEJ1cy4kb24oInRhYi1jaGFuZ2UiLCB0aGlzLmRvVGFiQ2hhbmdlKTsKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICBFdmVudEJ1cy4kb2ZmKCJzZWFyY2giLCB0aGlzLnNlYXJjaEdyb3VwKTsKICAgIEV2ZW50QnVzLiRvZmYoInByaW50IiwgdGhpcy5wcmludEdyb3Vwcyk7CiAgICBFdmVudEJ1cy4kb2ZmKCJyZWZyZXNoIiwgdGhpcy5sb2FkR3JvdXBzKTsKICAgIEV2ZW50QnVzLiRvZmYoImFkZCIsIHRoaXMuYWRkR3JvdXApOwogICAgRXZlbnRCdXMuJG9mZigiY2FuY2VsIiwgdGhpcy5jYW5jZWxFZGl0b3IpOwogICAgRXZlbnRCdXMuJG9mZigic2F2ZSIsIHRoaXMuc2F2ZUVkaXRvcik7CiAgICBFdmVudEJ1cy4kb2ZmKCJ0YWItY2hhbmdlIiwgdGhpcy5kb1RhYkNoYW5nZSk7CiAgfSwKICB3YXRjaDogewogICAgZnJvbTogZnVuY3Rpb24gKHZhbCkgewogICAgICBFdmVudEJ1cy4kZW1pdCgidXBkYXRlLWZyb20iLCB2YWwpOwogICAgfSwKICAgIHRvOiBmdW5jdGlvbiAodmFsKSB7CiAgICAgIEV2ZW50QnVzLiRlbWl0KCJ1cGRhdGUtdG8iLCB2YWwpOwogICAgfSwKICAgIHRvdGFsOiBmdW5jdGlvbiAodmFsKSB7CiAgICAgIEV2ZW50QnVzLiRlbWl0KCJ1cGRhdGUtdG90YWwiLCB2YWwpOwogICAgfSwKICAgIGVkaXRvcjogZnVuY3Rpb24gKHZhbCkgewogICAgICBFdmVudEJ1cy4kZW1pdCgidXBkYXRlLWVkaXRvciIsIHZhbCk7CiAgICAgIGlmICghdmFsKSB7CiAgICAgICAgdGhpcy5sb2FkR3JvdXBzKCk7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["groups.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"groups.vue","sourceRoot":"src/views/app/xtream","sourcesContent":["<template>\n  <erd-row class=\"m-0 p-0\" id=\"groups\">\n    <erd-spinner v-if=\"isLoading\" size=\"lg\" overlay absolute></erd-spinner>\n    <erd-col xl=\"12\" sm=\"12\" v-if=\"!editor\">\n      <b-table :items=\"paged\" :fields=\"fields\" striped small>\n        <template v-slot:cell(group_type)=\"row\">\n          {{ $t(`category-type.${row.item.group_type}`) }}\n        </template>\n        <template v-slot:cell(group_is_hidden)=\"row\">\n          <erd-badge\n            class=\"py-1 px-2\"\n            variant=\"danger\"\n            v-if=\"row.item.group_is_hidden\"\n            >{{ $t(\"general.yes\") }}</erd-badge\n          >\n          <erd-badge class=\"py-1 px-2\" variant=\"success\" v-else>{{\n            $t(\"general.no\")\n          }}</erd-badge>\n        </template>\n        <template v-slot:cell(actions)=\"row\">\n          <erd-tooltip :tooltip=\"$t('xtream.tooltip-edit-group')\" :enabled=\"showTooltips\">\n            <erd-button\n              variant=\"info\"\n              class=\"btn-table\"\n              @click=\"editGroup(row.item)\"\n              ><i class=\"las la-pen\"></i\n            ></erd-button>\n          </erd-tooltip>\n          <erd-tooltip :tooltip=\"$t('xtream.tooltip-delete-group')\" :enabled=\"showTooltips\">\n            <erd-button\n              variant=\"danger\"\n              class=\"btn-table\"\n              @click=\"deleteGroup(row.item.id)\"\n              ><i class=\"las la-trash\"></i\n            ></erd-button>\n          </erd-tooltip>\n        </template>\n      </b-table>\n      <b-pagination\n        class=\"w-100 my-3\"\n        size=\"sm\"\n        align=\"center\"\n        :total-rows=\"total\"\n        :per-page=\"perPage\"\n        v-model=\"currentPage\"\n      >\n        <template v-slot:next-text>\n          <i class=\"las la-angle-right\" />\n        </template>\n        <template v-slot:prev-text>\n          <i class=\"las la-angle-left\" />\n        </template>\n        <template v-slot:first-text>\n          <i class=\"las la-angle-double-left\" />\n        </template>\n        <template v-slot:last-text>\n          <i class=\"las la-angle-double-right\" />\n        </template>\n      </b-pagination>\n    </erd-col>\n    <erd-col xl=\"12\" sm=\"12\" v-if=\"editor\">\n      <label class=\"d-block\" for=\"playlist\">{{ $t(\"xtream.playlist\") }}</label>\n      <erd-select\n        id=\"playlist\"\n        ref=\"playlist\"\n        class=\"mt-1 mb-2 w-100\"\n        v-model=\"group.playlist_id\"\n        :items=\"playlists\"\n      ></erd-select>\n      <template v-if=\"currentUser.subscription.subscription_type !== 0\">\n        <label class=\"d-block\" for=\"group-type\">{{\n          $t(\"xtream.group-type\")\n        }}</label>\n        <erd-select\n          id=\"group-type\"\n          ref=\"group-type\"\n          class=\"mt-1 mb-2 w-100\"\n          v-model=\"group.group_type\"\n          :items=\"groupTypes\"\n        ></erd-select>\n      </template>\n      <label class=\"d-block\" for=\"name\">{{ $t(\"xtream.name\") }}</label>\n      <erd-input\n        id=\"name\"\n        class=\"mt-1 mb-2 w-100\"\n        v-model=\"group.group_name\"\n      ></erd-input>\n      <label class=\"d-block\" for=\"order\">{{ $t(\"xtream.order\") }}</label>\n      <erd-input\n        id=\"order\"\n        class=\"mt-1 mb-2 w-100\"\n        v-model=\"group.group_order\"\n        type=\"number\"\n      ></erd-input>\n      <erd-checkbox\n        class=\"mb-2 w-100\"\n        v-model=\"group.group_is_hidden\"\n        :true-value=\"1\"\n        :false-value=\"0\"\n        >{{ $t(\"xtream.hidden\") }}</erd-checkbox\n      >\n    </erd-col>\n  </erd-row>\n</template>\n\n<script>\n/* eslint-disable vue/no-side-effects-in-computed-properties */\nimport { EventBus } from \"../../../services/ebus\";\nimport { httpService } from \"../../../services/http\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      activeTab: 0,\n      playlists: [],\n      groups: [],\n      group: null,\n      editor: false,\n      search: null,\n      isLoading: false,\n      from: 0,\n      to: 0,\n      total: 0,\n      currentPage: 1,\n      fields: [\n        {\n          key: \"playlist\",\n          label: this.$t(\"xtream.playlist\"),\n          sortable: true,\n        },\n        { key: \"group_name\", label: this.$t(\"xtream.name\"), sortable: true },\n        { key: \"group_order\", label: this.$t(\"xtream.order\"), sortable: true },\n        { key: \"group_type\", label: this.$t(\"xtream.type\"), sortable: true },\n        {\n          key: \"group_is_hidden\",\n          label: this.$t(\"xtream.hidden\"),\n          sortable: true,\n        },\n        {\n          key: \"streams\",\n          label: this.$t(\"xtream.streams\"),\n          sortable: true,\n        },\n        {\n          key: \"actions\",\n          label: this.$t(\"users.actions\"),\n          sortable: false,\n          thClass: \"text-right\",\n          tdClass: \"text-right\",\n        },\n      ],\n      groupTypes: [\n        { text: this.$t(\"xtream.live\"), value: 1 },\n        { text: this.$t(\"xtream.movies\"), value: 2 },\n        { text: this.$t(\"xtream.series\"), value: 3 },\n      ],\n    };\n  },\n  computed: {\n    ...mapGetters([\"currentUser\", \"settings\"]),\n    showTooltips () {\n      return this.settings.showTooltips;\n    },\n    perPage() {\n      return this.settings.perPage;\n    },\n    searchFiltered() {\n      if (this.search === null) {\n        return this.groups;\n      } else {\n        var re = new RegExp(this.search, \"i\");\n        return this.groups.filter((group) => {\n          return (\n            String(group.group_name).match(re) ||\n            String(group.group_order).match(re) ||\n            this.$t(`category-type.${group.group_type}`).match(re)\n          );\n        });\n      }\n    },\n    paged() {\n      this.total = this.searchFiltered.length;\n      this.from = (this.currentPage - 1) * this.perPage;\n      this.to =\n        this.from + this.perPage > this.total\n          ? this.total\n          : this.from + this.perPage;\n      return this.searchFiltered.slice(this.from, this.to);\n    },\n  },\n  methods: {\n    loadGroups() {\n      let amount = 50;\n      let groups = [];\n      this.isLoading = true;\n      Promise.all([httpService.get(\"group/total\"), httpService.get(\"playlist\")])\n        .then((res) => {\n          if (res[0].status === true) {\n            let requests = [];\n            for (var i = 0; i < Math.ceil(res[0].data / amount); i++) {\n              requests.push(httpService.get(`group/${i * amount}/${amount}`));\n            }\n            Promise.all(requests).then((results) => {\n              this.isLoading = false;\n              results.map((res) => {\n                if (res.status === true) {\n                  groups = [...groups, ...res.data];\n                }\n              });\n              if (this.currentUser.subscription.subscription_type == 0) {\n                this.groups = groups.filter((group) => {\n                  return group.group_type === 1;\n                });\n              } else {\n                this.groups = groups;\n              }\n            });\n          }\n          if (res[1].status === true) {\n            this.playlists = res[1].data.map((playlist) => {\n              return {\n                text: playlist.name,\n                value: playlist.id,\n              };\n            });\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"xtream.group-load-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    addGroup() {\n      httpService\n        .post(\"group/add\")\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true && res.data) {\n            this.group = {\n              id: res.data,\n              group_name: \"\",\n              group_order: 0,\n              group_type: 1,\n              group_parent_code: \"\",\n              group_is_hidden: false,\n            };\n            this.editor = true;\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"xtream.group-load-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    editGroup(group) {\n      this.group = Object.assign({}, group);\n      this.editor = true;\n    },\n    cancelEditor() {\n      this.editor = false;\n    },\n    saveEditor() {\n      let group = Object.assign({}, this.group);\n      delete group.id;\n      delete group.playlist;\n      delete group.streams;\n\n      httpService\n        .put(`group/${this.group.id}`, group)\n        .then((res) => {\n          if (res.status === true) {\n            this.$notify(\n              \"primary\",\n              this.$t(\"profile.success\"),\n              this.$t(\"xtream.group-save-success\"),\n              \"la-user-shield\",\n              { duration: 5000, permanent: false }\n            );\n            this.editor = false;\n            this.loadGroups();\n          }\n        })\n        .catch(() => {\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"xtream.group-save-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    deleteGroup(id) {\n      httpService\n        .delete(`group/${id}`)\n        .then((res) => {\n          if (res.status === true) {\n            this.$notify(\n              \"primary\",\n              this.$t(\"profile.success\"),\n              this.$t(\"xtream.group-delete-success\"),\n              \"la-user-shield\",\n              { duration: 5000, permanent: false }\n            );\n            this.loadGroups();\n          }\n        })\n        .catch(() => {\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"xtream.group-delete-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    searchGroup(search) {\n      if (search.length === 0) {\n        this.search = null;\n      } else {\n        this.search = search;\n      }\n    },\n    printGroups() {\n      document.getElementById(\"groups\").print();\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString(\n        this.$t(\"date.locale\"),\n        this.dateOptions\n      );\n    },\n    doTabChange(tab) {\n      if (tab == 1) {\n        this.loadGroups();\n      }\n      this.activeTab = tab;\n    },\n  },\n  beforeMount() {\n    this.loadGroups();\n    EventBus.$on(\"search\", this.searchGroup);\n    EventBus.$on(\"print\", this.printGroups);\n    EventBus.$on(\"refresh\", this.loadGroups);\n    EventBus.$on(\"add\", this.addGroup);\n    EventBus.$on(\"cancel\", this.cancelEditor);\n    EventBus.$on(\"save\", this.saveEditor);\n    EventBus.$on(\"tab-change\", this.doTabChange);\n  },\n  beforeDestroy() {\n    EventBus.$off(\"search\", this.searchGroup);\n    EventBus.$off(\"print\", this.printGroups);\n    EventBus.$off(\"refresh\", this.loadGroups);\n    EventBus.$off(\"add\", this.addGroup);\n    EventBus.$off(\"cancel\", this.cancelEditor);\n    EventBus.$off(\"save\", this.saveEditor);\n    EventBus.$off(\"tab-change\", this.doTabChange);\n  },\n  watch: {\n    from: function (val) {\n      EventBus.$emit(\"update-from\", val);\n    },\n    to: function (val) {\n      EventBus.$emit(\"update-to\", val);\n    },\n    total: function (val) {\n      EventBus.$emit(\"update-total\", val);\n    },\n    editor: function (val) {\n      EventBus.$emit(\"update-editor\", val);\n      if (!val) {\n        this.loadGroups();\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.modal-groups {\n  max-height: 250px;\n  overflow: hidden;\n\n  .ps {\n    max-height: 250px;\n  }\n}\n</style>\n"]}]}