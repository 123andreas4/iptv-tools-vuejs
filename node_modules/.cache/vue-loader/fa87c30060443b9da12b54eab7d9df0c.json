{"remainingRequest":"/home/ernst/Desktop/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ernst/Desktop/IPTV-Tools/src/views/app/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ernst/Desktop/IPTV-Tools/src/views/app/index.vue","mtime":1622537508670},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcHBMYXlvdXQgZnJvbSAiLi4vLi4vbGF5b3V0cy9BcHBMYXlvdXQiOwppbXBvcnQgU2V0dGluZ3NNZW51IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvQXBwL1NldHRpbmdzTWVudSI7CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAiYXBwLWxheW91dCI6IEFwcExheW91dCwKICAgICJzZXR0aW5ncy1tZW51IjogU2V0dGluZ3NNZW51LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBsYXlsaXN0OiBudWxsLAogICAgICB0bWRiOiBudWxsLAogICAgICB4bWx0djogbnVsbCwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbImN1cnJlbnRVc2VyIiwgInN5bmNUTURCIiwgInN5bmNQbGF5bGlzdCIsICJhcHBYbWx0dlN5bmMiXSksCiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsKICAgICAgImdldFN5bmNUTURCIiwKICAgICAgImdldFN5bmNQbGF5bGlzdCIsCiAgICAgICJzeW5jaHJvbml6ZVRNREIiLAogICAgICAic3luY2hyb25pemVQbGF5bGlzdCIsCiAgICAgICJhZGRBbGVydCIsCiAgICAgICJnZXRBcHBYbWx0dlN5bmMiLAogICAgXSksCiAgICB0bWRiU3luY1N0YXJ0Tm90aWZ5KCkgewogICAgICB0aGlzLiRub3RpZnkoCiAgICAgICAgImluZm8iLAogICAgICAgIHRoaXMuJHQoImdlbmVyYWwub25lLW1vbWVudCIpLAogICAgICAgIHRoaXMuJHQoIm0zdS5tM3UtdG1kYi1zdGFydCIpLAogICAgICAgICJsYS1zeW5jIiwKICAgICAgICB7IGR1cmF0aW9uOiA1MDAwLCBwZXJtYW5lbnQ6IGZhbHNlIH0KICAgICAgKTsKICAgIH0sCiAgICB0bWRiU3luY0VuZE5vdGlmeSgpIHsKICAgICAgdGhpcy4kbm90aWZ5KAogICAgICAgICJwcmltYXJ5IiwKICAgICAgICB0aGlzLiR0KCJwcm9maWxlLnN1Y2Nlc3MiKSwKICAgICAgICB0aGlzLiR0KCJtM3UubTN1LXRtZGItc3RvcCIpLAogICAgICAgICJsYS11c2VyLXNoaWVsZCIsCiAgICAgICAgeyBkdXJhdGlvbjogNTAwMCwgcGVybWFuZW50OiBmYWxzZSB9CiAgICAgICk7CiAgICB9LAogICAgcGxheWxpc3RTeW5jU3RhcnROb3RpZnkoKSB7CiAgICAgIHRoaXMuJG5vdGlmeSgKICAgICAgICAiaW5mbyIsCiAgICAgICAgdGhpcy4kdCgiZ2VuZXJhbC5vbmUtbW9tZW50IiksCiAgICAgICAgdGhpcy4kdCgibTN1Lm0zdS1zeW5jLXN0YXJ0IiksCiAgICAgICAgImxhLXN5bmMiLAogICAgICAgIHsgZHVyYXRpb246IDUwMDAsIHBlcm1hbmVudDogZmFsc2UgfQogICAgICApOwogICAgfSwKICAgIHBsYXlsaXN0U3luY0VuZE5vdGlmeSgpIHsKICAgICAgdGhpcy4kbm90aWZ5KAogICAgICAgICJwcmltYXJ5IiwKICAgICAgICB0aGlzLiR0KCJwcm9maWxlLnN1Y2Nlc3MiKSwKICAgICAgICB0aGlzLiR0KCJtM3UubTN1LXN5bmMtc3RvcCIpLAogICAgICAgICJsYS11c2VyLXNoaWVsZCIsCiAgICAgICAgeyBkdXJhdGlvbjogNTAwMCwgcGVybWFuZW50OiBmYWxzZSB9CiAgICAgICk7CiAgICB9LAogICAgeG1sdHZTdGFydE5vdGlmeSgpIHsKICAgICAgdGhpcy4kbm90aWZ5KAogICAgICAgICJpbmZvIiwKICAgICAgICB0aGlzLiR0KCJnZW5lcmFsLm9uZS1tb21lbnQiKSwKICAgICAgICB0aGlzLiR0KCJ4bWx0di5zeW5jLXN0YXJ0IiksCiAgICAgICAgImxhLXN5bmMiLAogICAgICAgIHsgZHVyYXRpb246IDUwMDAsIHBlcm1hbmVudDogZmFsc2UgfQogICAgICApOwogICAgfSwKICAgIHhtbHR2RW5kTm90aWZ5KCkgewogICAgICB0aGlzLiRub3RpZnkoCiAgICAgICAgInByaW1hcnkiLAogICAgICAgIHRoaXMuJHQoInByb2ZpbGUuc3VjY2VzcyIpLAogICAgICAgIHRoaXMuJHQoInhtbHR2LnN5bmMtc3RvcCIpLAogICAgICAgICJsYS11c2VyLXNoaWVsZCIsCiAgICAgICAgeyBkdXJhdGlvbjogNTAwMCwgcGVybWFuZW50OiBmYWxzZSB9CiAgICAgICk7CiAgICB9LAogICAgcmVzZXRUbWRiSW50ZXJ2YWwoaW50ZXJ2YWwpIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRtZGIpOwogICAgICB0aGlzLnRtZGIgPSBzZXRJbnRlcnZhbCh0aGlzLmdldFN5bmNUTURCLCBpbnRlcnZhbCAqIDEwMDApOwogICAgfSwKICAgIHJlc2V0UGxheWxpc3RJbnRlcnZhbChpbnRlcnZhbCkgewogICAgICBjbGVhckludGVydmFsKHRoaXMucGxheWxpc3QpOwogICAgICB0aGlzLnBsYXlsaXN0ID0gc2V0SW50ZXJ2YWwodGhpcy5nZXRTeW5jUGxheWxpc3QsIGludGVydmFsICogMTAwMCk7CiAgICB9LAogICAgcmVzZXRBcHBYbWx0dlN5bmNJbnRlcnZhbChpbnRlcnZhbCkgewogICAgICBjbGVhckludGVydmFsKHRoaXMueG1sdHYpOwogICAgICB0aGlzLnhtbHR2ID0gc2V0SW50ZXJ2YWwodGhpcy5nZXRBcHBYbWx0dlN5bmMsIGludGVydmFsICogMTAwMCk7CiAgICB9LAogIH0sCiAgYmVmb3JlTW91bnQoKSB7CiAgICBpZiAoWzMsIDQsIDVdLmluY2x1ZGVzKHRoaXMuY3VycmVudFVzZXIudXNlci5yb2xlKSkgewogICAgICB0aGlzLmdldFN5bmNUTURCKCk7CiAgICAgIHRoaXMuZ2V0U3luY1BsYXlsaXN0KCk7CiAgICAgIHRoaXMudG1kYiA9IHNldEludGVydmFsKHRoaXMuZ2V0U3luY1RNREIsIDMwICogMTAwMCk7CiAgICAgIHRoaXMucGxheWxpc3QgPSBzZXRJbnRlcnZhbCh0aGlzLmdldFN5bmNQbGF5bGlzdCwgMzAgKiAxMDAwKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuZ2V0QXBwWG1sdHZTeW5jKCk7CiAgICAgIHRoaXMueG1sdHYgPSBzZXRJbnRlcnZhbCh0aGlzLmdldEFwcFhtbHR2U3luYywgMzAgKiAxMDAwKTsKICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICBpZiAoWzMsIDQsIDVdLmluY2x1ZGVzKHRoaXMuY3VycmVudFVzZXIudXNlci5yb2xlKSkgewogICAgICBjbGVhckludGVydmFsKHRoaXMudG1kYik7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5wbGF5bGlzdCk7CiAgICB9IGVsc2UgewogICAgICBjbGVhckludGVydmFsKHRoaXMueG1sdHYpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHN5bmNUTURCOiBmdW5jdGlvbiAodmFsKSB7CiAgICAgIGlmICh2YWwpIHsKICAgICAgICB0aGlzLnJlc2V0VG1kYkludGVydmFsKDEwKTsKICAgICAgICB0aGlzLnRtZGJTeW5jU3RhcnROb3RpZnkoKTsKICAgICAgICB0aGlzLmFkZEFsZXJ0KHsKICAgICAgICAgIGljb246ICJsYS1zeW5jIiwKICAgICAgICAgIHRvOiAiL2FwcC9zdGFydC9kYXNoYm9hcmQiLAogICAgICAgICAgdGV4dDogdGhpcy4kdCgibTN1Lm0zdS10bWRiLXN0YXJ0IiksCiAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucmVzZXRUbWRiSW50ZXJ2YWwoMzApOwogICAgICAgIHRoaXMudG1kYlN5bmNFbmROb3RpZnkoKTsKICAgICAgICB0aGlzLmFkZEFsZXJ0KHsKICAgICAgICAgIGljb246ICJsYS1zeW5jIiwKICAgICAgICAgIHRvOiAiL2FwcC9zdGFydC9kYXNoYm9hcmQiLAogICAgICAgICAgdGV4dDogdGhpcy4kdCgibTN1Lm0zdS10bWRiLXN0b3AiKSwKICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCksCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzeW5jUGxheWxpc3Q6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHRoaXMucmVzZXRQbGF5bGlzdEludGVydmFsKDEwKTsKICAgICAgICB0aGlzLnBsYXlsaXN0U3luY1N0YXJ0Tm90aWZ5KCk7CiAgICAgICAgdGhpcy5hZGRBbGVydCh7CiAgICAgICAgICBpY29uOiAibGEtc3luYyIsCiAgICAgICAgICB0bzogIi9hcHAvc3RhcnQvZGFzaGJvYXJkIiwKICAgICAgICAgIHRleHQ6IHRoaXMuJHQoIm0zdS5tM3Utc3luYy1zdGFydCIpLAogICAgICAgICAgZGF0ZTogbmV3IERhdGUoKSwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnJlc2V0UGxheWxpc3RJbnRlcnZhbCgzMCk7CiAgICAgICAgdGhpcy5wbGF5bGlzdFN5bmNFbmROb3RpZnkoKTsKICAgICAgICB0aGlzLmFkZEFsZXJ0KHsKICAgICAgICAgIGljb246ICJsYS1zeW5jIiwKICAgICAgICAgIHRvOiAiL2FwcC9zdGFydC9kYXNoYm9hcmQiLAogICAgICAgICAgdGV4dDogdGhpcy4kdCgibTN1Lm0zdS1zeW5jLXN0b3AiKSwKICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCksCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhcHBYbWx0dlN5bmM6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHRoaXMucmVzZXRBcHBYbWx0dlN5bmNJbnRlcnZhbCgxMCk7CiAgICAgICAgdGhpcy54bWx0dlN0YXJ0Tm90aWZ5KCk7CiAgICAgICAgdGhpcy5hZGRBbGVydCh7CiAgICAgICAgICBpY29uOiAibGEtc3luYyIsCiAgICAgICAgICB0bzogIi9hcHAvc291cmNlcy94bWx0diIsCiAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCJ4bWx0di5zeW5jLXN0YXJ0IiksCiAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucmVzZXRBcHBYbWx0dlN5bmNJbnRlcnZhbCgzMCk7CiAgICAgICAgdGhpcy54bWx0dkVuZE5vdGlmeSgpOwogICAgICAgIHRoaXMuYWRkQWxlcnQoewogICAgICAgICAgaWNvbjogImxhLXN5bmMiLAogICAgICAgICAgdG86ICIvYXBwL3NvdXJjZXMveG1sdHYiLAogICAgICAgICAgdGV4dDogdGhpcy4kdCgieG1sdHYuc3luYy1zdG9wIiksCiAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/app","sourcesContent":["<template>\n  <app-layout>\n    <router-view />\n    <settings-menu></settings-menu>\n  </app-layout>\n</template>\n\n<script>\nimport AppLayout from \"../../layouts/AppLayout\";\nimport SettingsMenu from \"../../components/App/SettingsMenu\";\nimport { mapGetters, mapActions } from \"vuex\";\n\nexport default {\n  components: {\n    \"app-layout\": AppLayout,\n    \"settings-menu\": SettingsMenu,\n  },\n  data() {\n    return {\n      playlist: null,\n      tmdb: null,\n      xmltv: null,\n    };\n  },\n  computed: {\n    ...mapGetters([\"currentUser\", \"syncTMDB\", \"syncPlaylist\", \"appXmltvSync\"]),\n  },\n  methods: {\n    ...mapActions([\n      \"getSyncTMDB\",\n      \"getSyncPlaylist\",\n      \"synchronizeTMDB\",\n      \"synchronizePlaylist\",\n      \"addAlert\",\n      \"getAppXmltvSync\",\n    ]),\n    tmdbSyncStartNotify() {\n      this.$notify(\n        \"info\",\n        this.$t(\"general.one-moment\"),\n        this.$t(\"m3u.m3u-tmdb-start\"),\n        \"la-sync\",\n        { duration: 5000, permanent: false }\n      );\n    },\n    tmdbSyncEndNotify() {\n      this.$notify(\n        \"primary\",\n        this.$t(\"profile.success\"),\n        this.$t(\"m3u.m3u-tmdb-stop\"),\n        \"la-user-shield\",\n        { duration: 5000, permanent: false }\n      );\n    },\n    playlistSyncStartNotify() {\n      this.$notify(\n        \"info\",\n        this.$t(\"general.one-moment\"),\n        this.$t(\"m3u.m3u-sync-start\"),\n        \"la-sync\",\n        { duration: 5000, permanent: false }\n      );\n    },\n    playlistSyncEndNotify() {\n      this.$notify(\n        \"primary\",\n        this.$t(\"profile.success\"),\n        this.$t(\"m3u.m3u-sync-stop\"),\n        \"la-user-shield\",\n        { duration: 5000, permanent: false }\n      );\n    },\n    xmltvStartNotify() {\n      this.$notify(\n        \"info\",\n        this.$t(\"general.one-moment\"),\n        this.$t(\"xmltv.sync-start\"),\n        \"la-sync\",\n        { duration: 5000, permanent: false }\n      );\n    },\n    xmltvEndNotify() {\n      this.$notify(\n        \"primary\",\n        this.$t(\"profile.success\"),\n        this.$t(\"xmltv.sync-stop\"),\n        \"la-user-shield\",\n        { duration: 5000, permanent: false }\n      );\n    },\n    resetTmdbInterval(interval) {\n      clearInterval(this.tmdb);\n      this.tmdb = setInterval(this.getSyncTMDB, interval * 1000);\n    },\n    resetPlaylistInterval(interval) {\n      clearInterval(this.playlist);\n      this.playlist = setInterval(this.getSyncPlaylist, interval * 1000);\n    },\n    resetAppXmltvSyncInterval(interval) {\n      clearInterval(this.xmltv);\n      this.xmltv = setInterval(this.getAppXmltvSync, interval * 1000);\n    },\n  },\n  beforeMount() {\n    if ([3, 4, 5].includes(this.currentUser.user.role)) {\n      this.getSyncTMDB();\n      this.getSyncPlaylist();\n      this.tmdb = setInterval(this.getSyncTMDB, 30 * 1000);\n      this.playlist = setInterval(this.getSyncPlaylist, 30 * 1000);\n    } else {\n      this.getAppXmltvSync();\n      this.xmltv = setInterval(this.getAppXmltvSync, 30 * 1000);\n    }\n  },\n  beforeDestroy() {\n    if ([3, 4, 5].includes(this.currentUser.user.role)) {\n      clearInterval(this.tmdb);\n      clearInterval(this.playlist);\n    } else {\n      clearInterval(this.xmltv);\n    }\n  },\n  watch: {\n    syncTMDB: function (val) {\n      if (val) {\n        this.resetTmdbInterval(10);\n        this.tmdbSyncStartNotify();\n        this.addAlert({\n          icon: \"la-sync\",\n          to: \"/app/start/dashboard\",\n          text: this.$t(\"m3u.m3u-tmdb-start\"),\n          date: new Date(),\n        });\n      } else {\n        this.resetTmdbInterval(30);\n        this.tmdbSyncEndNotify();\n        this.addAlert({\n          icon: \"la-sync\",\n          to: \"/app/start/dashboard\",\n          text: this.$t(\"m3u.m3u-tmdb-stop\"),\n          date: new Date(),\n        });\n      }\n    },\n    syncPlaylist: function (val) {\n      if (val) {\n        this.resetPlaylistInterval(10);\n        this.playlistSyncStartNotify();\n        this.addAlert({\n          icon: \"la-sync\",\n          to: \"/app/start/dashboard\",\n          text: this.$t(\"m3u.m3u-sync-start\"),\n          date: new Date(),\n        });\n      } else {\n        this.resetPlaylistInterval(30);\n        this.playlistSyncEndNotify();\n        this.addAlert({\n          icon: \"la-sync\",\n          to: \"/app/start/dashboard\",\n          text: this.$t(\"m3u.m3u-sync-stop\"),\n          date: new Date(),\n        });\n      }\n    },\n    appXmltvSync: function (val) {\n      if (val) {\n        this.resetAppXmltvSyncInterval(10);\n        this.xmltvStartNotify();\n        this.addAlert({\n          icon: \"la-sync\",\n          to: \"/app/sources/xmltv\",\n          text: this.$t(\"xmltv.sync-start\"),\n          date: new Date(),\n        });\n      } else {\n        this.resetAppXmltvSyncInterval(30);\n        this.xmltvEndNotify();\n        this.addAlert({\n          icon: \"la-sync\",\n          to: \"/app/sources/xmltv\",\n          text: this.$t(\"xmltv.sync-stop\"),\n          date: new Date(),\n        });\n      }\n    },\n  },\n};\n</script>\n"]}]}