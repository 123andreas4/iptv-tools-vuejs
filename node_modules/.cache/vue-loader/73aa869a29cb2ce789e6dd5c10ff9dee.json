{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/components/Utils/ERDContextMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/components/Utils/ERDContextMenu.vue","mtime":1618575858359},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlICovDQppbXBvcnQgeyBjcmVhdGVCb2R5Q2xpY2tMaXN0ZW5lciB9IGZyb20gJy4vLi4vLi4vaGVscGVycyc7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgcHJvcHM6IHsNCiAgICBpZDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ2NvbnRleHQtbWVudScNCiAgICB9LA0KICAgIHJpZ2h0OiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UNCiAgICB9LA0KICAgIGl0ZW1zOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIFtdDQogICAgICB9DQogICAgfSwNCiAgICBkZXB0aDogew0KICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSwNCiAgICAgIGRlZmF1bHQ6IDENCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxvY2Fsczoge30sDQogICAgICBhbGlnbjogJ2xlZnQnLA0KICAgICAgdG9wOiAwLA0KICAgICAgbGVmdDogMCwNCiAgICAgIHZpc2libGU6IGZhbHNlLA0KICAgICAgYm9keUNsaWNrTGlzdGVuZXI6IGNyZWF0ZUJvZHlDbGlja0xpc3RlbmVyKA0KICAgICAgICAoZSkgPT4gew0KICAgICAgICAgIGxldCBpc09wZW4gPSAhIXRoaXMudmlzaWJsZQ0KICAgICAgICAgIGxldCBvdXRzaWRlQ2xpY2sgPSBpc09wZW4gJiYgIXRoaXMuJGVsLmNvbnRhaW5zKGUudGFyZ2V0KQ0KDQogICAgICAgICAgaWYgKG91dHNpZGVDbGljaykgew0KICAgICAgICAgICAgaWYgKGUud2hpY2ggIT09IDEpIHsNCiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpDQogICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCkNCiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2UNCiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsJywgdGhpcy5sb2NhbHMpDQogICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2UNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJywgdGhpcy5sb2NhbHMpDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICApDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc2V0UG9zaXRpb25Gcm9tRXZlbnQoZSkgew0KICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50DQoNCiAgICAgIGNvbnN0IHNjcm9sbGluZ0VsZW1lbnQgPSBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudA0KDQogICAgICBpZiAoZS5wYWdlWCB8fCBlLnBhZ2VZKSB7DQogICAgICAgIHRoaXMubGVmdCA9IGUucGFnZVgNCiAgICAgICAgdGhpcy50b3AgPSBlLnBhZ2VZIC0gc2Nyb2xsaW5nRWxlbWVudC5zY3JvbGxUb3ANCiAgICAgIH0gZWxzZSBpZiAoZS5jbGllbnRYIHx8IGUuY2xpZW50WSkgew0KICAgICAgICB0aGlzLmxlZnQgPSBlLmNsaWVudFggKyBzY3JvbGxpbmdFbGVtZW50LnNjcm9sbExlZnQNCiAgICAgICAgdGhpcy50b3AgPSBlLmNsaWVudFkgKyBzY3JvbGxpbmdFbGVtZW50LnNjcm9sbFRvcA0KICAgICAgfQ0KDQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIGNvbnN0IG1lbnUgPSB0aGlzLiRlbA0KICAgICAgICBjb25zdCBtaW5IZWlnaHQgPSAobWVudS5zdHlsZS5taW5IZWlnaHQgfHwgbWVudS5zdHlsZS5oZWlnaHQpLnJlcGxhY2UoJ3B4JywgJycpIHx8IDMyDQogICAgICAgIGNvbnN0IG1pbldpZHRoID0gKG1lbnUuc3R5bGUubWluV2lkdGggfHwgbWVudS5zdHlsZS53aWR0aCkucmVwbGFjZSgncHgnLCAnJykgfHwgMzINCiAgICAgICAgY29uc3Qgc2Nyb2xsSGVpZ2h0ID0gbWVudS5zY3JvbGxIZWlnaHQgfHwgbWluSGVpZ2h0DQogICAgICAgIGNvbnN0IHNjcm9sbFdpZHRoID0gbWVudS5zY3JvbGxXaWR0aCB8fCBtaW5XaWR0aA0KDQogICAgICAgIGNvbnN0IGxhcmdlc3RIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBzY3JvbGxIZWlnaHQgLSAyNTsNCiAgICAgICAgY29uc3QgbGFyZ2VzdFdpZHRoID0gd2luZG93LmlubmVyV2lkdGggLSBzY3JvbGxXaWR0aCAtIDI1Ow0KDQogICAgICAgIGlmICh0aGlzLnRvcCA+IGxhcmdlc3RIZWlnaHQpIHRoaXMudG9wID0gbGFyZ2VzdEhlaWdodDsNCiAgICAgICAgaWYgKHRoaXMubGVmdCA+IGxhcmdlc3RXaWR0aCkgdGhpcy5sZWZ0ID0gbGFyZ2VzdFdpZHRoOw0KICAgICAgfSkNCiAgICAgIHJldHVybiBlDQogICAgfSwNCiAgICBvcGVuIChlLCBkYXRhKSB7DQogICAgICBpZiAodGhpcy52aXNpYmxlKSB0aGlzLnZpc2libGUgPSBmYWxzZQ0KICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZQ0KICAgICAgdGhpcy4kZW1pdCgnb3BlbicsIHRoaXMubG9jYWxzID0gZGF0YSB8fCB7fSkNCiAgICAgIHRoaXMuc2V0UG9zaXRpb25Gcm9tRXZlbnQoZSkNCiAgICAgIHRoaXMuJGVsLnNldEF0dHJpYnV0ZSgndGFiLWluZGV4JywgLTEpDQogICAgICB0aGlzLmJvZHlDbGlja0xpc3RlbmVyLnN0YXJ0KCkNCiAgICAgIHJldHVybiB0aGlzDQogICAgfSwNCiAgICBtZW51SXRlbUNsaWNrIChpdGVtKSB7DQogICAgICB0aGlzLiRlbWl0KCdtZW51LWNsaWNrJywgaXRlbSwgdGhpcy5sb2NhbHMpOw0KICAgICAgaWYgKGl0ZW0ub25DbGljayAmJiB7fS50b1N0cmluZy5jYWxsKGl0ZW0ub25DbGljaykgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScpIHsNCiAgICAgICAgaXRlbS5vbkNsaWNrKGl0ZW0sIHRoaXMubG9jYWxzKTsNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgdmlzaWJsZSAobmV3VmFsLCBvbGRWYWwpIHsNCiAgICAgIGlmIChvbGRWYWwgPT09IHRydWUgJiYgbmV3VmFsID09PSBmYWxzZSkgew0KICAgICAgICB0aGlzLmJvZHlDbGlja0xpc3RlbmVyLnN0b3AoKGUpID0+IHsNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY29udGV4dCBtZW51IHNlcXVlbmNlIGZpbmlzaGVkJywgZSkNCiAgICAgICAgICAvLyB0aGlzLmxvY2FscyA9IHt9DQogICAgICAgIH0pDQogICAgICB9DQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGRlcHRoQ2xhc3MgKCkgew0KICAgICAgcmV0dXJuIGBkZXB0aC0ke3RoaXMuZGVwdGh9YDsNCiAgICB9LA0KICAgIGNvbnRleHRTdHlsZSgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgICdkaXNwbGF5JyA6IHRoaXMudmlzaWJsZSA/ICdibG9jaycgOiAnbm9uZScsDQogICAgICAgICd0b3AnICAgICA6ICh0aGlzLnRvcCB8fCAwKSArICdweCcsDQogICAgICAgICdsZWZ0JyAgICA6ICh0aGlzLmxlZnQgfHwgMCkgKyAncHgnDQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["ERDContextMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ERDContextMenu.vue","sourceRoot":"src/components/Utils","sourcesContent":["<template>\n  <div\n    ref=\"contextMenu\"\n    @click.stop\n    @contextmenu.stop\n    :id=\"id\"\n    :style=\"contextStyle\"\n    class=\"context-menu-container\"\n  >\n    <div class=\"context\">\n      <ul\n        role=\"menu\"\n        class=\"menu\"\n        :class=\"[{ 'menu-align-right': right }, depthClass]\"\n      >\n        <li\n          v-for=\"(item, index) in items\"\n          :key=\"`context-menu-${index}`\"\n          @click.prevent=\"menuItemClick(item)\"\n        >\n          <div class=\"hr px-4\" v-if=\"item.divider\"></div>\n          <a\n            class=\"context-menu-item\"\n            :class=\"{ disabled: item.disabled }\"\n            href=\"#\"\n            v-else\n            @click.prevent\n            ><i class=\"las\" :class=\"item.icon\"></i>{{ item.text }}</a\n          >\n        </li>\n        <slot></slot>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\r\nimport { createBodyClickListener } from './../../helpers';\r\n\r\nexport default {\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      default: 'context-menu'\r\n    },\r\n    right: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    items: {\r\n      type: Array,\r\n      default: () => {\r\n        return []\r\n      }\r\n    },\r\n    depth: {\r\n      type: [String, Number],\r\n      default: 1\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      locals: {},\r\n      align: 'left',\r\n      top: 0,\r\n      left: 0,\r\n      visible: false,\r\n      bodyClickListener: createBodyClickListener(\r\n        (e) => {\r\n          let isOpen = !!this.visible\r\n          let outsideClick = isOpen && !this.$el.contains(e.target)\r\n\r\n          if (outsideClick) {\r\n            if (e.which !== 1) {\r\n              e.preventDefault()\r\n              e.stopPropagation()\r\n              return false;\r\n            } else {\r\n              this.visible = false\r\n              this.$emit('cancel', this.locals)\r\n              e.stopPropagation()\r\n            }\r\n          } else {\r\n            this.visible = false\r\n            this.$emit('close', this.locals)\r\n          }\r\n        }\r\n      )\r\n    }\r\n  },\r\n  methods: {\r\n    setPositionFromEvent(e) {\r\n      e = e || window.event\r\n\r\n      const scrollingElement = document.scrollingElement || document.documentElement\r\n\r\n      if (e.pageX || e.pageY) {\r\n        this.left = e.pageX\r\n        this.top = e.pageY - scrollingElement.scrollTop\r\n      } else if (e.clientX || e.clientY) {\r\n        this.left = e.clientX + scrollingElement.scrollLeft\r\n        this.top = e.clientY + scrollingElement.scrollTop\r\n      }\r\n\r\n      this.$nextTick(() => {\r\n        const menu = this.$el\r\n        const minHeight = (menu.style.minHeight || menu.style.height).replace('px', '') || 32\r\n        const minWidth = (menu.style.minWidth || menu.style.width).replace('px', '') || 32\r\n        const scrollHeight = menu.scrollHeight || minHeight\r\n        const scrollWidth = menu.scrollWidth || minWidth\r\n\r\n        const largestHeight = window.innerHeight - scrollHeight - 25;\r\n        const largestWidth = window.innerWidth - scrollWidth - 25;\r\n\r\n        if (this.top > largestHeight) this.top = largestHeight;\r\n        if (this.left > largestWidth) this.left = largestWidth;\r\n      })\r\n      return e\r\n    },\r\n    open (e, data) {\r\n      if (this.visible) this.visible = false\r\n      this.visible = true\r\n      this.$emit('open', this.locals = data || {})\r\n      this.setPositionFromEvent(e)\r\n      this.$el.setAttribute('tab-index', -1)\r\n      this.bodyClickListener.start()\r\n      return this\r\n    },\r\n    menuItemClick (item) {\r\n      this.$emit('menu-click', item, this.locals);\r\n      if (item.onClick && {}.toString.call(item.onClick) === '[object Function]') {\r\n        item.onClick(item, this.locals);\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    visible (newVal, oldVal) {\r\n      if (oldVal === true && newVal === false) {\r\n        this.bodyClickListener.stop((e) => {\r\n          // console.log('context menu sequence finished', e)\r\n          // this.locals = {}\r\n        })\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    depthClass () {\r\n      return `depth-${this.depth}`;\r\n    },\r\n    contextStyle() {\r\n      return {\r\n        'display' : this.visible ? 'block' : 'none',\r\n        'top'     : (this.top || 0) + 'px',\r\n        'left'    : (this.left || 0) + 'px'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>"]}]}