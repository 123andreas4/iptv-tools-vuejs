{"remainingRequest":"/home/ernst/Desktop/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ernst/Desktop/IPTV-Tools/src/views/app/dashboard/start/start.vue?vue&type=style&index=0&id=151f7962&scoped=true&lang=scss&","dependencies":[{"path":"/home/ernst/Desktop/IPTV-Tools/src/views/app/dashboard/start/start.vue","mtime":1622029843381},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmRhc2hib2FyZC1jYXJkIHsKICBkaXNwbGF5OiB0YWJsZTsKfQouZGFzaGJvYXJkLWNhcmQtdGl0bGUgewogIGRpc3BsYXk6IHRhYmxlLWNlbGw7CiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICB3aWR0aDogMTAwJTsKICBwYWRkaW5nLWxlZnQ6IDAuNXJlbTsKfQoubGlzdC1jYXJkIHsKICB1c2VyLXNlbGVjdDogbm9uZTsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgaGVpZ2h0OiAzNDBweDsKCiAgLnJlZnJlc2gtYnV0dG9uIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHJpZ2h0OiAyMHB4OwogICAgdG9wOiAyMHB4OwogICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgaGVpZ2h0OiAzMnB4OwogICAgd2lkdGg6IDMycHg7CiAgICBsaW5lLWhlaWdodDogMzJweDsKICAgIHBhZGRpbmc6IDA7CiAgfQoKICAucHMgewogICAgaGVpZ2h0OiAyMzBweDsKICAgIHBhZGRpbmctcmlnaHQ6IDFyZW07CiAgfQoKICAubGlzdCB7CiAgICBoZWlnaHQ6IDIwMHB4OwogIH0KCiAgLmRhc2hib2FyZC1saXN0LWl0ZW0gewogICAgZGlzcGxheTogdGFibGU7CiAgICBwYWRkaW5nLWJvdHRvbTogOHB4OwoKICAgICY6bm90KDpmaXJzdC1jaGlsZCkgewogICAgICBwYWRkaW5nLXRvcDogOHB4OwogICAgfQoKICAgICY6bm90KDpsYXN0LWNoaWxkKSB7CiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAkc2VwYXJhdG9yLWNvbG9yLWxpZ2h0OwogICAgfQoKICAgIC5kZXRhaWxzIHsKICAgICAgZGlzcGxheTogdGFibGUtY2VsbDsKICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIHBhZGRpbmctbGVmdDogMC4yNXJlbTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["start.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"start.vue","sourceRoot":"src/views/app/dashboard/start","sourcesContent":["<template>\n  <erd-row class=\"m-0 p-0\" id=\"dashboard\">\n    <erd-spinner v-if=\"isLoading\" size=\"lg\" overlay absolute></erd-spinner>\n    <erd-col xl=\"12\" xs=\"12\" class=\"m-0 p-0\">\n      <erd-row class=\"m-0 p-0\">\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-microchip la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{ $t(\"dashboard.cpu-cores\").format(server.cpu.cores) }}\n                </h5>\n                <p class=\"m-0 color-theme-1\">\n                  {{ $t(\"dashboard.cpu-load\").format(server.cpu.load + \"%\") }}\n                </p>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-memory la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{ $t(\"dashboard.memory-total\").format(server.memory.total) }}\n                </h5>\n                <p class=\"m-0 color-theme-1\">\n                  {{\n                    $t(\"dashboard.memory-used\").format(\n                      Math.abs(server.memory.total_used_percent) + \"%\"\n                    )\n                  }}\n                </p>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-hdd la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{ $t(\"dashboard.disk-total\").format(server.hdd.total) }}\n                </h5>\n                <p class=\"m-0 color-theme-1\">\n                  {{\n                    $t(\"dashboard.disk-used\").format(\n                      server.hdd.total_used_percent + \"%\"\n                    )\n                  }}\n                </p>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-ethernet la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{ $t(\"dashboard.network-rx\").format(server.network.rx) }}\n                  <span class=\"text-muted text-small\"\n                    >({{ server.network.receive }} B)</span\n                  >\n                </h5>\n                <p class=\"m-0 color-theme-1\">\n                  {{ $t(\"dashboard.network-tx\").format(server.network.tx) }}\n                  <span class=\"text-muted text-small\"\n                    >({{ server.network.send }} B)</span\n                  >\n                </p>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n      </erd-row>\n    </erd-col>\n    <erd-col xl=\"12\" xs=\"12\" class=\"m-0 p-0\">\n      <erd-row class=\"m-0 p-0\">\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-table la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{\n                    $t(\"dashboard.database-tables\").format(\n                      formatNumber(database.tables)\n                    )\n                  }}\n                </h5>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-list la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{\n                    $t(\"dashboard.database-rows\").format(\n                      formatNumber(database.rows)\n                    )\n                  }}\n                </h5>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-columns la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{\n                    $t(\"dashboard.database-columns\").format(\n                      formatNumber(database.columns)\n                    )\n                  }}\n                </h5>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-server la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{ $t(\"dashboard.database-size\").format(database.size) }}\n                </h5>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n      </erd-row>\n    </erd-col>\n  </erd-row>\n</template>\n\n<script>\nimport { EventBus } from \"../../../../services/ebus\";\nimport { mapActions, mapGetters } from \"vuex\";\nimport { httpService } from \"../../../../services/http\";\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      handles: {\n        server: null,\n        database: null,\n      },\n      server: {\n        cpu: {\n          cores: 0,\n          load: 0,\n        },\n        memory: {\n          total: 0,\n          total_free: 0,\n          total_used: 0,\n          total_used_percent: 0,\n        },\n        hdd: {\n          total: 0,\n          total_free: 0,\n          total_used: 0,\n          total_used_percent: 0,\n        },\n        network: {\n          rx: 0,\n          tx: 0,\n        },\n      },\n      database: {\n        columns: 0,\n        rows: 0,\n        tables: 0,\n        size: 0,\n      },\n    };\n  },\n  computed: {\n    ...mapGetters([\"currentUser\"]),\n    memberSince() {\n      return new Date(this.currentUser.user.created).toLocaleDateString(\n        this.$t(\"date.locale\")\n      );\n    },\n    memberStatus() {\n      return this.currentUser.subscription\n        ? this.$t(`status.${this.currentUser.subscription.subscription_type}`)\n        : this.$t(\"status.none\");\n    },\n    userRole() {\n      return this.currentUser.user\n        ? this.$t(`roles.${this.currentUser.user.role}`)\n        : this.$t(\"roles.none\");\n    },\n  },\n  methods: {\n    ...mapActions([]),\n    pagePrint() {\n      document.getElementById(\"dashboard\").print();\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleDateString(\n        this.$t(\"date.locale\"),\n        this.dateOptions\n      );\n    },\n    formatNumber(num) {\n      return new Intl.NumberFormat(this.$t(\"date.locale\"), {}).format(num);\n    },\n    loadServer() {\n      httpService\n        .post(\"administration/dashboard/server\")\n        .then((res) => {\n          if (res.status === true) {\n            this.server = res.data;\n          }\n        })\n        .catch(() => {\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"dashboard.load-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    loadDatabase() {\n      httpService\n        .post(\"administration/dashboard/database\")\n        .then((res) => {\n          if (res.status === true) {\n            this.database = res.data;\n          }\n        })\n        .catch(() => {\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"dashboard.load-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n  },\n  beforeMount() {\n    this.loadServer();\n    this.loadDatabase();\n    EventBus.$on(\"print\", this.pagePrint);\n    this.handles.server = setInterval(this.loadServer, 10 * 1000);\n    this.handles.database = setInterval(this.loadDatabase, 60 * 1000);\n  },\n  beforeDestroy() {\n    EventBus.$off(\"print\", this.pagePrint);\n    clearInterval(this.handles.server);\n    clearInterval(this.handles.database);\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.dashboard-card {\n  display: table;\n}\n.dashboard-card-title {\n  display: table-cell;\n  vertical-align: middle;\n  width: 100%;\n  padding-left: 0.5rem;\n}\n.list-card {\n  user-select: none;\n  position: relative;\n  height: 340px;\n\n  .refresh-button {\n    position: absolute;\n    right: 20px;\n    top: 20px;\n    border-radius: 50%;\n    height: 32px;\n    width: 32px;\n    line-height: 32px;\n    padding: 0;\n  }\n\n  .ps {\n    height: 230px;\n    padding-right: 1rem;\n  }\n\n  .list {\n    height: 200px;\n  }\n\n  .dashboard-list-item {\n    display: table;\n    padding-bottom: 8px;\n\n    &:not(:first-child) {\n      padding-top: 8px;\n    }\n\n    &:not(:last-child) {\n      border-bottom: 1px solid $separator-color-light;\n    }\n\n    .details {\n      display: table-cell;\n      vertical-align: middle;\n      width: 100%;\n      padding-left: 0.25rem;\n    }\n  }\n}\n</style>\n"]}]}