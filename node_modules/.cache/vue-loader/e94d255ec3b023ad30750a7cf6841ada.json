{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/app-sources/scheduler.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/app-sources/scheduler.vue","mtime":1622629984062},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnBmcy13cmFwcGVyIHsKICAucHMgewogICAgaGVpZ2h0OiAzMDBweDsKICB9Cn0K"},{"version":3,"sources":["scheduler.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAumBA;AACA;AACA;AACA;AACA","file":"scheduler.vue","sourceRoot":"src/views/app/app-sources","sourcesContent":["<template>\n  <erd-row class=\"m-0 p-0\">\n    <erd-modal\n      v-show=\"outputModal\"\n      @close=\"closeModal\"\n      :title=\"$t('scheduler.output')\"\n      class=\"select-none\"\n      small\n    >\n      <div class=\"pfs-wrapper\">\n        <perfect-scrollbar>\n          <span v-html=\"output\"></span>\n        </perfect-scrollbar>\n      </div>\n      <template v-slot:footer>\n        <erd-button @click=\"closeModal\" icon=\"la-times\" class=\"mr-1\">{{\n          $t(\"general.close\")\n        }}</erd-button>\n      </template>\n    </erd-modal>\n\n    <erd-spinner v-if=\"isLoading\" size=\"lg\" overlay absolute></erd-spinner>\n    <erd-col xl=\"12\" v-if=\"!editor\" id=\"scheduler\">\n      <b-table :items=\"paged\" :fields=\"fields\" striped small>\n        <template v-slot:cell(created_at)=\"row\">\n          {{ formatDate(row.item.created_at) }}\n        </template>\n        <template v-slot:cell(last_updated)=\"row\">\n          {{ formatDate(row.item.last_updated) }}\n        </template>\n        <template v-slot:cell(enabled)=\"row\">\n          <erd-badge variant=\"success\" v-if=\"row.item.enabled\">{{\n            $t(\"general.yes\")\n          }}</erd-badge>\n          <erd-badge variant=\"danger\" v-else>{{ $t(\"general.no\") }}</erd-badge>\n        </template>\n        <template v-slot:cell(actions)=\"row\">\n          <erd-button\n            variant=\"info\"\n            class=\"btn-table\"\n            @click=\"executeSchedule(row.item.id)\"\n            ><i class=\"las la-terminal\"></i\n          ></erd-button>\n          <erd-button\n            variant=\"info\"\n            class=\"btn-table\"\n            @click=\"showOutputModal(row.item)\"\n            ><i class=\"las la-search\"></i\n          ></erd-button>\n          <erd-button\n            variant=\"primary\"\n            class=\"btn-table\"\n            @click=\"editSchedule(row.item)\"\n            ><i class=\"las la-pen\"></i\n          ></erd-button>\n          <erd-button\n            variant=\"danger\"\n            class=\"btn-table\"\n            @click=\"deleteSchedule(row.item.id)\"\n            ><i class=\"las la-trash\"></i\n          ></erd-button>\n        </template>\n      </b-table>\n      <b-pagination\n        class=\"w-100 my-3\"\n        size=\"sm\"\n        align=\"center\"\n        :total-rows=\"total\"\n        :per-page=\"perPage\"\n        v-model=\"currentPage\"\n      >\n        <template v-slot:next-text>\n          <i class=\"las la-angle-right\" />\n        </template>\n        <template v-slot:prev-text>\n          <i class=\"las la-angle-left\" />\n        </template>\n        <template v-slot:first-text>\n          <i class=\"las la-angle-double-left\" />\n        </template>\n        <template v-slot:last-text>\n          <i class=\"las la-angle-double-right\" />\n        </template>\n      </b-pagination>\n    </erd-col>\n    <erd-col xl=\"12\" v-if=\"editor\">\n      <label for=\"title\">{{ $t(\"scheduler.name\") }}</label>\n      <erd-input\n        id=\"title\"\n        class=\"mt-1 mb-2 w-100\"\n        :placeholder=\"$t('scheduler.name')\"\n        v-model=\"editorSchedule.name\"\n      ></erd-input>\n      <label for=\"group\">{{ $t(\"scheduler.group\") }}</label>\n      <erd-input\n        id=\"group\"\n        class=\"mt-1 mb-2 w-100\"\n        :placeholder=\"$t('scheduler.group')\"\n        v-model=\"editorSchedule.group\"\n      ></erd-input>\n      <label for=\"command\">{{ $t(\"scheduler.command\") }}</label>\n      <erd-input\n        id=\"command\"\n        class=\"mt-1 mb-2 w-100\"\n        :placeholder=\"$t('scheduler.command')\"\n        v-model=\"editorSchedule.command\"\n      ></erd-input>\n      <label for=\"minute\">{{ $t(\"scheduler.minute\") }}</label>\n      <erd-row class=\"m-0 p-0\">\n        <erd-col xl=\"4\" sm=\"4\" class=\"m-0 p-0\">\n          <erd-input\n            id=\"minute\"\n            class=\"mt-1 mb-2 w-100\"\n            :placeholder=\"$t('scheduler.minute')\"\n            v-model=\"editorSchedule.minute\"\n          ></erd-input>\n        </erd-col>\n        <erd-col xl=\"8\" sm=\"8\" class=\"m-0 p-0 pl-2\">\n          <erd-select\n            class=\"mt-1 mb-2 w-100\"\n            v-model=\"minute\"\n            ref=\"minutes\"\n            :items=\"select.minute\"\n            :placeholder=\"$t('scheduler.default-settings')\"\n          ></erd-select>\n        </erd-col>\n      </erd-row>\n      <label for=\"hour\">{{ $t(\"scheduler.hour\") }}</label>\n      <erd-row class=\"m-0 p-0\">\n        <erd-col xl=\"4\" sm=\"4\" class=\"m-0 p-0\">\n          <erd-input\n            id=\"hour\"\n            class=\"mt-1 mb-2 w-100\"\n            :placeholder=\"$t('scheduler.hour')\"\n            v-model=\"editorSchedule.hour\"\n          ></erd-input>\n        </erd-col>\n        <erd-col xl=\"8\" sm=\"8\" class=\"m-0 p-0 pl-2\">\n          <erd-select\n            class=\"mt-1 mb-2 w-100\"\n            v-model=\"hour\"\n            ref=\"hour\"\n            :items=\"select.hour\"\n            :placeholder=\"$t('scheduler.default-settings')\"\n          ></erd-select>\n        </erd-col>\n      </erd-row>\n      <label for=\"day\">{{ $t(\"scheduler.day\") }}</label>\n      <erd-row class=\"m-0 p-0\">\n        <erd-col xl=\"4\" sm=\"4\" class=\"m-0 p-0\">\n          <erd-input\n            id=\"day\"\n            class=\"mt-1 mb-2 w-100\"\n            :placeholder=\"$t('scheduler.day')\"\n            v-model=\"editorSchedule.day\"\n          ></erd-input>\n        </erd-col>\n        <erd-col xl=\"8\" sm=\"8\" class=\"m-0 p-0 pl-2\">\n          <erd-select\n            class=\"mt-1 mb-2 w-100\"\n            v-model=\"day\"\n            ref=\"day\"\n            :items=\"select.day\"\n            :placeholder=\"$t('scheduler.default-settings')\"\n          ></erd-select>\n        </erd-col>\n      </erd-row>\n      <label for=\"month\">{{ $t(\"scheduler.month\") }}</label>\n      <erd-row class=\"m-0 p-0\">\n        <erd-col xl=\"4\" sm=\"4\" class=\"m-0 p-0\">\n          <erd-input\n            id=\"month\"\n            class=\"mt-1 mb-2 w-100\"\n            :placeholder=\"$t('scheduler.month')\"\n            v-model=\"editorSchedule.month\"\n          ></erd-input>\n        </erd-col>\n        <erd-col xl=\"8\" sm=\"8\" class=\"m-0 p-0 pl-2\">\n          <erd-select\n            class=\"mt-1 mb-2 w-100\"\n            v-model=\"month\"\n            ref=\"month\"\n            :items=\"select.month\"\n            :placeholder=\"$t('scheduler.default-settings')\"\n          ></erd-select>\n        </erd-col>\n      </erd-row>\n      <label for=\"weekday\">{{ $t(\"scheduler.weekday\") }}</label>\n      <erd-row class=\"m-0 p-0\">\n        <erd-col xl=\"4\" sm=\"4\" class=\"m-0 p-0\">\n          <erd-input\n            id=\"weekday\"\n            class=\"mt-1 mb-2 w-100\"\n            :placeholder=\"$t('scheduler.weekday')\"\n            v-model=\"editorSchedule.weekday\"\n          ></erd-input>\n        </erd-col>\n        <erd-col xl=\"8\" sm=\"8\" class=\"m-0 p-0 pl-2\">\n          <erd-select\n            class=\"mt-1 mb-2 w-100\"\n            v-model=\"weekday\"\n            ref=\"weekday\"\n            :items=\"select.weekday\"\n            :placeholder=\"$t('scheduler.default-settings')\"\n          ></erd-select>\n        </erd-col>\n      </erd-row>\n      <erd-checkbox\n        :true-value=\"1\"\n        :false-value=\"0\"\n        v-model=\"editorSchedule.enabled\"\n        >{{ $t(\"scheduler.enabled\") }}</erd-checkbox\n      >\n    </erd-col>\n  </erd-row>\n</template>\n\n<script>\n/* eslint-disable vue/no-side-effects-in-computed-properties */\nimport { EventBus } from \"../../../services/ebus\";\nimport { httpService } from \"../../../services/http\";\nimport { mapGetters, mapActions } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      search: null,\n      isLoading: false,\n      from: 0,\n      to: 0,\n      total: 0,\n      currentPage: 1,\n      editor: false,\n      editorSchedule: null,\n      schedules: [],\n      fields: [\n        { key: \"id\", label: this.$t(\"scheduler.id\"), sortable: true },\n        {\n          key: \"created_at\",\n          label: this.$t(\"scheduler.created\"),\n          sortable: true,\n        },\n        {\n          key: \"last_updated\",\n          label: this.$t(\"scheduler.last-updated\"),\n          sortable: true,\n        },\n        { key: \"name\", label: this.$t(\"scheduler.name\"), sortable: true },\n        { key: \"group\", label: this.$t(\"scheduler.group\"), sortable: true },\n        { key: \"enabled\", label: this.$t(\"scheduler.enabled\"), sortable: true },\n        { key: \"minute\", label: this.$t(\"scheduler.minute\"), sortable: true },\n        { key: \"hour\", label: this.$t(\"scheduler.hour\"), sortable: true },\n        { key: \"day\", label: this.$t(\"scheduler.day\"), sortable: true },\n        { key: \"month\", label: this.$t(\"scheduler.month\"), sortable: true },\n        { key: \"weekday\", label: this.$t(\"scheduler.weekday\"), sortable: true },\n        { key: \"command\", label: this.$t(\"scheduler.command\"), sortable: true },\n        {\n          key: \"actions\",\n          label: this.$t(\"users.actions\"),\n          sortable: false,\n          thClass: \"text-right\",\n          tdClass: \"text-right\",\n        },\n      ],\n      select: {\n        minute: [\n          { text: this.$t(\"scheduler.minute-*\"), value: \"*\" },\n          { text: this.$t(\"scheduler.minute-0\"), value: \"0\" },\n          { text: this.$t(\"scheduler.minute-15\"), value: \"15\" },\n          { text: this.$t(\"scheduler.minute-30\"), value: \"30\" },\n          { text: this.$t(\"scheduler.minute-45\"), value: \"45\" },\n        ],\n        hour: [\n          { text: this.$t(\"scheduler.hour-*\"), value: \"*\" },\n          { text: this.$t(\"scheduler.hour-0\"), value: \"0\" },\n          { text: this.$t(\"scheduler.hour-30\"), value: \"30\" },\n        ],\n        day: [\n          { text: this.$t(\"scheduler.day-*\"), value: \"*\" },\n          { text: 1, value: \"1\" },\n          { text: 2, value: \"2\" },\n          { text: 3, value: \"3\" },\n          { text: 4, value: \"4\" },\n          { text: 5, value: \"5\" },\n          { text: 6, value: \"6\" },\n          { text: 7, value: \"7\" },\n          { text: 8, value: \"8\" },\n          { text: 9, value: \"9\" },\n          { text: 10, value: \"10\" },\n          { text: 11, value: \"11\" },\n          { text: 12, value: \"12\" },\n          { text: 13, value: \"13\" },\n          { text: 14, value: \"14\" },\n          { text: 15, value: \"15\" },\n          { text: 16, value: \"16\" },\n          { text: 17, value: \"17\" },\n          { text: 18, value: \"18\" },\n          { text: 19, value: \"19\" },\n          { text: 20, value: \"20\" },\n          { text: 21, value: \"21\" },\n          { text: 22, value: \"22\" },\n          { text: 23, value: \"23\" },\n          { text: 24, value: \"24\" },\n          { text: 25, value: \"25\" },\n          { text: 26, value: \"26\" },\n          { text: 27, value: \"27\" },\n          { text: 28, value: \"28\" },\n          { text: 29, value: \"29\" },\n          { text: 30, value: \"30\" },\n          { text: 31, value: \"31\" },\n        ],\n        month: [\n          { text: this.$t(\"scheduler.month-*\"), value: \"*\" },\n          { text: this.$t(\"scheduler.month-1\"), value: \"1\" },\n          { text: this.$t(\"scheduler.month-2\"), value: \"2\" },\n          { text: this.$t(\"scheduler.month-3\"), value: \"3\" },\n          { text: this.$t(\"scheduler.month-4\"), value: \"4\" },\n          { text: this.$t(\"scheduler.month-5\"), value: \"5\" },\n          { text: this.$t(\"scheduler.month-6\"), value: \"6\" },\n          { text: this.$t(\"scheduler.month-7\"), value: \"7\" },\n          { text: this.$t(\"scheduler.month-8\"), value: \"8\" },\n          { text: this.$t(\"scheduler.month-9\"), value: \"9\" },\n          { text: this.$t(\"scheduler.month-10\"), value: \"10\" },\n          { text: this.$t(\"scheduler.month-11\"), value: \"11\" },\n          { text: this.$t(\"scheduler.month-12\"), value: \"12\" },\n        ],\n        weekday: [\n          { text: this.$t(\"scheduler.weekday-*\"), value: \"*\" },\n          { text: this.$t(\"scheduler.weekday-0\"), value: \"0\" },\n          { text: this.$t(\"scheduler.weekday-1\"), value: \"1\" },\n          { text: this.$t(\"scheduler.weekday-2\"), value: \"2\" },\n          { text: this.$t(\"scheduler.weekday-3\"), value: \"3\" },\n          { text: this.$t(\"scheduler.weekday-4\"), value: \"4\" },\n          { text: this.$t(\"scheduler.weekday-5\"), value: \"5\" },\n          { text: this.$t(\"scheduler.weekday-6\"), value: \"6\" },\n        ],\n      },\n      minute: 0,\n      hour: 0,\n      day: 0,\n      month: 0,\n      weekday: 0,\n      outputModal: false,\n      output: \"\",\n    };\n  },\n  computed: {\n    ...mapGetters([\"currentUser\", \"settings\", \"appXmltvSync\"]),\n    perPage() {\n      return this.settings.perPage;\n    },\n    searchFiltered() {\n      if (this.search === null) {\n        return this.schedules;\n      } else {\n        var re = new RegExp(this.search, \"i\");\n        return this.schedules.filter((schedule) => {\n          return (\n            String(schedule.name).match(re) ||\n            String(schedule.group).match(re) ||\n            String(schedule.command).match(re) ||\n            String(schedule.output).match(re) ||\n            this.formatDate(schedule.created_at).match(re) ||\n            this.formatDate(schedule.last_updated).match(re)\n          );\n        });\n      }\n    },\n    paged() {\n      this.total = this.searchFiltered.length;\n      this.from = (this.currentPage - 1) * this.perPage;\n      this.to =\n        this.from + this.perPage > this.total\n          ? this.total\n          : this.from + this.perPage;\n      return this.searchFiltered.slice(this.from, this.to);\n    },\n  },\n  methods: {\n    ...mapActions([\"syncXmltv\"]),\n    closeModal() {\n      this.outputModal = false;\n    },\n    showOutputModal(schedule) {\n      this.output = schedule.output;\n      this.outputModal = true;\n    },\n    updatePerPage(perPage) {\n      this.perPage = perPage;\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString(\n        this.$t(\"date.locale\"),\n        this.dateOptions\n      );\n    },\n    loadSchedules() {\n      this.isLoading = true;\n      httpService\n        .get(\"administration/scheduler\")\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.schedules = res.data;\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"scheduler.load-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    editSchedule(schedule) {\n      this.minute = 0;\n      this.hour = 0;\n      this.day = 0;\n      this.month = 0;\n      this.weekday = 0;\n      this.editorSchedule = Object.assign({}, schedule);\n      this.editor = true;\n    },\n    addXmltv() {\n      this.minute = 0;\n      this.hour = 0;\n      this.day = 0;\n      this.month = 0;\n      this.weekday = 0;\n      this.editorSchedule = {\n        name: \"\",\n        group: \"\",\n        enabled: 1,\n        minute: \"*\",\n        hour: \"*\",\n        day: \"*\",\n        month: \"*\",\n        weekday: \"*\",\n        command: \"\",\n      };\n      this.editor = true;\n    },\n    saveSchedule() {\n      this.editor = false;\n      let schedule = Object.assign({}, this.editorSchedule);\n      if (schedule.id !== undefined) {\n        delete schedule.id;\n        httpService\n          .post(\"administration/scheduler/update\", {\n            id: this.editorSchedule.id,\n            schedule: schedule,\n          })\n          .then((res) => {\n            this.isLoading = false;\n            if (res.status === true) {\n              this.$notify(\n                \"primary\",\n                this.$t(\"profile.success\"),\n                this.$t(\"scheduler.save-success\"),\n                \"la-user-shield\",\n                { duration: 5000, permanent: false }\n              );\n              this.loadSchedules();\n              this.editor = false;\n            }\n          })\n          .catch(() => {\n            this.isLoading = false;\n            this.$notify(\n              \"error\",\n              this.$t(\"profile.failed\"),\n              this.$t(\"scheduler.save-error\"),\n              \"la-user-shield\",\n              { duration: 5000, permanent: false }\n            );\n          });\n      } else {\n        schedule.user_id = this.currentUser.user.id;\n        httpService\n          .post(\"administration/scheduler/insert\", schedule)\n          .then((res) => {\n            this.isLoading = false;\n            if (res.status === true) {\n              this.$notify(\n                \"primary\",\n                this.$t(\"profile.success\"),\n                this.$t(\"scheduler.save-success\"),\n                \"la-user-shield\",\n                { duration: 5000, permanent: false }\n              );\n              this.loadSchedules();\n              this.editor = false;\n            }\n          })\n          .catch(() => {\n            this.isLoading = false;\n            this.$notify(\n              \"error\",\n              this.$t(\"profile.failed\"),\n              this.$t(\"scheduler.save-error\"),\n              \"la-user-shield\",\n              { duration: 5000, permanent: false }\n            );\n          });\n      }\n    },\n    deleteSchedule(id) {\n      httpService\n        .post(\"administration/scheduler/delete\", { id: id })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.$notify(\n              \"primary\",\n              this.$t(\"profile.success\"),\n              this.$t(\"scheduler.delete-success\"),\n              \"la-user-shield\",\n              { duration: 5000, permanent: false }\n            );\n            this.loadSchedules();\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"scheduler.delete-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    cancelSchedule() {\n      this.editor = false;\n    },\n    executeSchedule(id) {\n      this.isLoading = true;\n      httpService\n        .post(\"administration/scheduler/execute\", { id: id })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.output = res.data;\n            this.outputModal = true;\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n        });\n    },\n    searchSchedule(search) {\n      if (search.length === 0) {\n        this.search = null;\n      } else {\n        this.search = search;\n      }\n    },\n    printUsers() {\n      document.getElementById(\"scheduler\").print();\n    },\n  },\n  beforeMount() {\n    this.loadSchedules();\n    EventBus.$on(\"refresh\", this.loadSchedules);\n    EventBus.$on(\"save\", this.saveSchedule);\n    EventBus.$on(\"cancel\", this.cancelSchedule);\n    EventBus.$on(\"search\", this.searchSchedule);\n    EventBus.$on(\"print\", this.printUsers);\n    EventBus.$on(\"add\", this.addXmltv);\n  },\n  beforeDestroy() {\n    EventBus.$off(\"refresh\", this.loadSchedules);\n    EventBus.$off(\"save\", this.saveSchedule);\n    EventBus.$off(\"cancel\", this.cancelSchedule);\n    EventBus.$off(\"search\", this.searchSchedule);\n    EventBus.$off(\"print\", this.printUsers);\n    EventBus.$off(\"add\", this.addXmltv);\n  },\n  watch: {\n    from: function (val) {\n      EventBus.$emit(\"update-from\", val);\n    },\n    to: function (val) {\n      EventBus.$emit(\"update-to\", val);\n    },\n    total: function (val) {\n      EventBus.$emit(\"update-total\", val);\n    },\n    editor: function (val) {\n      EventBus.$emit(\"update-editor\", val);\n    },\n    minute: function (val) {\n      this.editorSchedule.minute = val;\n    },\n    hour: function (val) {\n      this.editorSchedule.hour = val;\n    },\n    day: function (val) {\n      this.editorSchedule.day = val;\n    },\n    month: function (val) {\n      this.editorSchedule.month = val;\n    },\n    weekday: function (val) {\n      this.editorSchedule.weekday = val;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.pfs-wrapper {\n  .ps {\n    height: 300px;\n  }\n}\n</style>\n"]}]}