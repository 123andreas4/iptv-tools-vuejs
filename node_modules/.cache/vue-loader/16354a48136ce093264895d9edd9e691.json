{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/dashboard/start/start.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/dashboard/start/start.vue","mtime":1622029843381},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAiLi4vLi4vLi4vLi4vc2VydmljZXMvZWJ1cyI7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgaHR0cFNlcnZpY2UgfSBmcm9tICIuLi8uLi8uLi8uLi9zZXJ2aWNlcy9odHRwIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgaGFuZGxlczogewogICAgICAgIHNlcnZlcjogbnVsbCwKICAgICAgICBkYXRhYmFzZTogbnVsbCwKICAgICAgfSwKICAgICAgc2VydmVyOiB7CiAgICAgICAgY3B1OiB7CiAgICAgICAgICBjb3JlczogMCwKICAgICAgICAgIGxvYWQ6IDAsCiAgICAgICAgfSwKICAgICAgICBtZW1vcnk6IHsKICAgICAgICAgIHRvdGFsOiAwLAogICAgICAgICAgdG90YWxfZnJlZTogMCwKICAgICAgICAgIHRvdGFsX3VzZWQ6IDAsCiAgICAgICAgICB0b3RhbF91c2VkX3BlcmNlbnQ6IDAsCiAgICAgICAgfSwKICAgICAgICBoZGQ6IHsKICAgICAgICAgIHRvdGFsOiAwLAogICAgICAgICAgdG90YWxfZnJlZTogMCwKICAgICAgICAgIHRvdGFsX3VzZWQ6IDAsCiAgICAgICAgICB0b3RhbF91c2VkX3BlcmNlbnQ6IDAsCiAgICAgICAgfSwKICAgICAgICBuZXR3b3JrOiB7CiAgICAgICAgICByeDogMCwKICAgICAgICAgIHR4OiAwLAogICAgICAgIH0sCiAgICAgIH0sCiAgICAgIGRhdGFiYXNlOiB7CiAgICAgICAgY29sdW1uczogMCwKICAgICAgICByb3dzOiAwLAogICAgICAgIHRhYmxlczogMCwKICAgICAgICBzaXplOiAwLAogICAgICB9LAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsiY3VycmVudFVzZXIiXSksCiAgICBtZW1iZXJTaW5jZSgpIHsKICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMuY3VycmVudFVzZXIudXNlci5jcmVhdGVkKS50b0xvY2FsZURhdGVTdHJpbmcoCiAgICAgICAgdGhpcy4kdCgiZGF0ZS5sb2NhbGUiKQogICAgICApOwogICAgfSwKICAgIG1lbWJlclN0YXR1cygpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFVzZXIuc3Vic2NyaXB0aW9uCiAgICAgICAgPyB0aGlzLiR0KGBzdGF0dXMuJHt0aGlzLmN1cnJlbnRVc2VyLnN1YnNjcmlwdGlvbi5zdWJzY3JpcHRpb25fdHlwZX1gKQogICAgICAgIDogdGhpcy4kdCgic3RhdHVzLm5vbmUiKTsKICAgIH0sCiAgICB1c2VyUm9sZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFVzZXIudXNlcgogICAgICAgID8gdGhpcy4kdChgcm9sZXMuJHt0aGlzLmN1cnJlbnRVc2VyLnVzZXIucm9sZX1gKQogICAgICAgIDogdGhpcy4kdCgicm9sZXMubm9uZSIpOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoW10pLAogICAgcGFnZVByaW50KCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGFzaGJvYXJkIikucHJpbnQoKTsKICAgIH0sCiAgICBmb3JtYXREYXRlKGRhdGUpIHsKICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygKICAgICAgICB0aGlzLiR0KCJkYXRlLmxvY2FsZSIpLAogICAgICAgIHRoaXMuZGF0ZU9wdGlvbnMKICAgICAgKTsKICAgIH0sCiAgICBmb3JtYXROdW1iZXIobnVtKSB7CiAgICAgIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQodGhpcy4kdCgiZGF0ZS5sb2NhbGUiKSwge30pLmZvcm1hdChudW0pOwogICAgfSwKICAgIGxvYWRTZXJ2ZXIoKSB7CiAgICAgIGh0dHBTZXJ2aWNlCiAgICAgICAgLnBvc3QoImFkbWluaXN0cmF0aW9uL2Rhc2hib2FyZC9zZXJ2ZXIiKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlKSB7CiAgICAgICAgICAgIHRoaXMuc2VydmVyID0gcmVzLmRhdGE7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy4kbm90aWZ5KAogICAgICAgICAgICAiZXJyb3IiLAogICAgICAgICAgICB0aGlzLiR0KCJwcm9maWxlLmZhaWxlZCIpLAogICAgICAgICAgICB0aGlzLiR0KCJkYXNoYm9hcmQubG9hZC1lcnJvciIpLAogICAgICAgICAgICAibGEtdXNlci1zaGllbGQiLAogICAgICAgICAgICB7IGR1cmF0aW9uOiA1MDAwLCBwZXJtYW5lbnQ6IGZhbHNlIH0KICAgICAgICAgICk7CiAgICAgICAgfSk7CiAgICB9LAogICAgbG9hZERhdGFiYXNlKCkgewogICAgICBodHRwU2VydmljZQogICAgICAgIC5wb3N0KCJhZG1pbmlzdHJhdGlvbi9kYXNoYm9hcmQvZGF0YWJhc2UiKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlKSB7CiAgICAgICAgICAgIHRoaXMuZGF0YWJhc2UgPSByZXMuZGF0YTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRub3RpZnkoCiAgICAgICAgICAgICJlcnJvciIsCiAgICAgICAgICAgIHRoaXMuJHQoInByb2ZpbGUuZmFpbGVkIiksCiAgICAgICAgICAgIHRoaXMuJHQoImRhc2hib2FyZC5sb2FkLWVycm9yIiksCiAgICAgICAgICAgICJsYS11c2VyLXNoaWVsZCIsCiAgICAgICAgICAgIHsgZHVyYXRpb246IDUwMDAsIHBlcm1hbmVudDogZmFsc2UgfQogICAgICAgICAgKTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKICBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMubG9hZFNlcnZlcigpOwogICAgdGhpcy5sb2FkRGF0YWJhc2UoKTsKICAgIEV2ZW50QnVzLiRvbigicHJpbnQiLCB0aGlzLnBhZ2VQcmludCk7CiAgICB0aGlzLmhhbmRsZXMuc2VydmVyID0gc2V0SW50ZXJ2YWwodGhpcy5sb2FkU2VydmVyLCAxMCAqIDEwMDApOwogICAgdGhpcy5oYW5kbGVzLmRhdGFiYXNlID0gc2V0SW50ZXJ2YWwodGhpcy5sb2FkRGF0YWJhc2UsIDYwICogMTAwMCk7CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgRXZlbnRCdXMuJG9mZigicHJpbnQiLCB0aGlzLnBhZ2VQcmludCk7CiAgICBjbGVhckludGVydmFsKHRoaXMuaGFuZGxlcy5zZXJ2ZXIpOwogICAgY2xlYXJJbnRlcnZhbCh0aGlzLmhhbmRsZXMuZGF0YWJhc2UpOwogIH0sCn07Cg=="},{"version":3,"sources":["start.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"start.vue","sourceRoot":"src/views/app/dashboard/start","sourcesContent":["<template>\n  <erd-row class=\"m-0 p-0\" id=\"dashboard\">\n    <erd-spinner v-if=\"isLoading\" size=\"lg\" overlay absolute></erd-spinner>\n    <erd-col xl=\"12\" xs=\"12\" class=\"m-0 p-0\">\n      <erd-row class=\"m-0 p-0\">\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-microchip la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{ $t(\"dashboard.cpu-cores\").format(server.cpu.cores) }}\n                </h5>\n                <p class=\"m-0 color-theme-1\">\n                  {{ $t(\"dashboard.cpu-load\").format(server.cpu.load + \"%\") }}\n                </p>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-memory la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{ $t(\"dashboard.memory-total\").format(server.memory.total) }}\n                </h5>\n                <p class=\"m-0 color-theme-1\">\n                  {{\n                    $t(\"dashboard.memory-used\").format(\n                      Math.abs(server.memory.total_used_percent) + \"%\"\n                    )\n                  }}\n                </p>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-hdd la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{ $t(\"dashboard.disk-total\").format(server.hdd.total) }}\n                </h5>\n                <p class=\"m-0 color-theme-1\">\n                  {{\n                    $t(\"dashboard.disk-used\").format(\n                      server.hdd.total_used_percent + \"%\"\n                    )\n                  }}\n                </p>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-ethernet la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{ $t(\"dashboard.network-rx\").format(server.network.rx) }}\n                  <span class=\"text-muted text-small\"\n                    >({{ server.network.receive }} B)</span\n                  >\n                </h5>\n                <p class=\"m-0 color-theme-1\">\n                  {{ $t(\"dashboard.network-tx\").format(server.network.tx) }}\n                  <span class=\"text-muted text-small\"\n                    >({{ server.network.send }} B)</span\n                  >\n                </p>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n      </erd-row>\n    </erd-col>\n    <erd-col xl=\"12\" xs=\"12\" class=\"m-0 p-0\">\n      <erd-row class=\"m-0 p-0\">\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-table la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{\n                    $t(\"dashboard.database-tables\").format(\n                      formatNumber(database.tables)\n                    )\n                  }}\n                </h5>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-list la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{\n                    $t(\"dashboard.database-rows\").format(\n                      formatNumber(database.rows)\n                    )\n                  }}\n                </h5>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-columns la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{\n                    $t(\"dashboard.database-columns\").format(\n                      formatNumber(database.columns)\n                    )\n                  }}\n                </h5>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-server la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{ $t(\"dashboard.database-size\").format(database.size) }}\n                </h5>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n      </erd-row>\n    </erd-col>\n  </erd-row>\n</template>\n\n<script>\nimport { EventBus } from \"../../../../services/ebus\";\nimport { mapActions, mapGetters } from \"vuex\";\nimport { httpService } from \"../../../../services/http\";\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      handles: {\n        server: null,\n        database: null,\n      },\n      server: {\n        cpu: {\n          cores: 0,\n          load: 0,\n        },\n        memory: {\n          total: 0,\n          total_free: 0,\n          total_used: 0,\n          total_used_percent: 0,\n        },\n        hdd: {\n          total: 0,\n          total_free: 0,\n          total_used: 0,\n          total_used_percent: 0,\n        },\n        network: {\n          rx: 0,\n          tx: 0,\n        },\n      },\n      database: {\n        columns: 0,\n        rows: 0,\n        tables: 0,\n        size: 0,\n      },\n    };\n  },\n  computed: {\n    ...mapGetters([\"currentUser\"]),\n    memberSince() {\n      return new Date(this.currentUser.user.created).toLocaleDateString(\n        this.$t(\"date.locale\")\n      );\n    },\n    memberStatus() {\n      return this.currentUser.subscription\n        ? this.$t(`status.${this.currentUser.subscription.subscription_type}`)\n        : this.$t(\"status.none\");\n    },\n    userRole() {\n      return this.currentUser.user\n        ? this.$t(`roles.${this.currentUser.user.role}`)\n        : this.$t(\"roles.none\");\n    },\n  },\n  methods: {\n    ...mapActions([]),\n    pagePrint() {\n      document.getElementById(\"dashboard\").print();\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleDateString(\n        this.$t(\"date.locale\"),\n        this.dateOptions\n      );\n    },\n    formatNumber(num) {\n      return new Intl.NumberFormat(this.$t(\"date.locale\"), {}).format(num);\n    },\n    loadServer() {\n      httpService\n        .post(\"administration/dashboard/server\")\n        .then((res) => {\n          if (res.status === true) {\n            this.server = res.data;\n          }\n        })\n        .catch(() => {\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"dashboard.load-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    loadDatabase() {\n      httpService\n        .post(\"administration/dashboard/database\")\n        .then((res) => {\n          if (res.status === true) {\n            this.database = res.data;\n          }\n        })\n        .catch(() => {\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"dashboard.load-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n  },\n  beforeMount() {\n    this.loadServer();\n    this.loadDatabase();\n    EventBus.$on(\"print\", this.pagePrint);\n    this.handles.server = setInterval(this.loadServer, 10 * 1000);\n    this.handles.database = setInterval(this.loadDatabase, 60 * 1000);\n  },\n  beforeDestroy() {\n    EventBus.$off(\"print\", this.pagePrint);\n    clearInterval(this.handles.server);\n    clearInterval(this.handles.database);\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.dashboard-card {\n  display: table;\n}\n.dashboard-card-title {\n  display: table-cell;\n  vertical-align: middle;\n  width: 100%;\n  padding-left: 0.5rem;\n}\n.list-card {\n  user-select: none;\n  position: relative;\n  height: 340px;\n\n  .refresh-button {\n    position: absolute;\n    right: 20px;\n    top: 20px;\n    border-radius: 50%;\n    height: 32px;\n    width: 32px;\n    line-height: 32px;\n    padding: 0;\n  }\n\n  .ps {\n    height: 230px;\n    padding-right: 1rem;\n  }\n\n  .list {\n    height: 200px;\n  }\n\n  .dashboard-list-item {\n    display: table;\n    padding-bottom: 8px;\n\n    &:not(:first-child) {\n      padding-top: 8px;\n    }\n\n    &:not(:last-child) {\n      border-bottom: 1px solid $separator-color-light;\n    }\n\n    .details {\n      display: table-cell;\n      vertical-align: middle;\n      width: 100%;\n      padding-left: 0.25rem;\n    }\n  }\n}\n</style>\n"]}]}