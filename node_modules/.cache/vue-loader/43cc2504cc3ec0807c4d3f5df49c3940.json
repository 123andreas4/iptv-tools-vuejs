{"remainingRequest":"/home/ernst/Desktop/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ernst/Desktop/IPTV-Tools/src/views/user/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ernst/Desktop/IPTV-Tools/src/views/user/login.vue","mtime":1618567551563},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgQXBwUm9vdCB9IGZyb20gIi4uLy4uL2NvbnN0YW50cy9jb25maWciOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgcmVtZW1iZXI6IGZhbHNlLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsicHJvY2Vzc2luZyJdKSwKICAgIGxvZ2luRGlzYWJsZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLnVzZXJuYW1lLmxlbmd0aCA8PSAzIHx8IHRoaXMucGFzc3dvcmQubGVuZ3RoIDw9IDM7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbImxvZ2luIl0pLAogICAgbG9naW5DbGljaygpIHsKICAgICAgdGhpcy5sb2dpbih7CiAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgaWYgKHRoaXMucmVtZW1iZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oCiAgICAgICAgICAgICAgInJlbWVtYmVyIiwKICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgICAgICAgICAgcmVtZW1iZXI6IHRoaXMucmVtZW1iZXIsCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgKTsKICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oInJlbWVtYmVyIikgIT09IG51bGwpIHsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInJlbWVtYmVyIik7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChBcHBSb290KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRub3RpZnkoCiAgICAgICAgICAgICJlcnJvciIsCiAgICAgICAgICAgIHRoaXMuJHQoImxvZ2luLmludmFsaWQtdGl0bGUiKSwKICAgICAgICAgICAgdGhpcy4kdCgibG9naW4uaW52YWxpZC1tZXNzYWdlIiksCiAgICAgICAgICAgICJsYS1zaWduLWluLWFsdCIsCiAgICAgICAgICAgIHsgZHVyYXRpb246IDUwMDAsIHBlcm1hbmVudDogZmFsc2UgfQogICAgICAgICAgKTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgbGV0IHIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicmVtZW1iZXIiKTsKICAgIGlmIChyICE9PSBudWxsKSB7CiAgICAgIGxldCBsb2dpbiA9IEpTT04ucGFyc2Uocik7CiAgICAgIHRoaXMudXNlcm5hbWUgPSBsb2dpbi51c2VybmFtZTsKICAgICAgdGhpcy5wYXNzd29yZCA9IGxvZ2luLnBhc3N3b3JkOwogICAgICB0aGlzLnJlbWVtYmVyID0gbG9naW4ucmVtZW1iZXI7CiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n  <erd-row class=\"h-100\">\n    <erd-col sm=\"12\" md=\"10\" lg=\"7\" class=\"mx-auto my-auto pb-5\">\n      <erd-card class=\"depth-4 login\">\n        <div class=\"image-side\">\n          <div class=\"title\">\n            <h1>{{ $t(\"login.head\") }}</h1>\n            <h5>{{ $t(\"login.subtitle\") }}</h5>\n          </div>\n          <transition name=\"fade\">\n            <erd-spinner\n              variant=\"primary\"\n              v-if=\"processing\"\n              size=\"lg\"\n            ></erd-spinner>\n          </transition>\n        </div>\n        <div class=\"form-side\">\n          <h1 class=\"title\">Login</h1>\n          <div class=\"form\">\n            <div class=\"pb-2\">\n              <label for=\"username\">{{ $t(\"login.username\") }}</label>\n              <erd-input\n                id=\"username\"\n                :placeholder=\"$t('login.username')\"\n                v-model=\"username\"\n              ></erd-input>\n            </div>\n            <div class=\"pb-2\">\n              <label for=\"password\">{{ $t(\"login.password\") }}</label>\n              <erd-input\n                id=\"password\"\n                :placeholder=\"$t('login.password')\"\n                type=\"password\"\n                v-model=\"password\"\n              ></erd-input>\n              <div class=\"pt-2 pb-2\">\n                <a href=\"#\" @click.prevent>{{ $t(\"login.forgot\") }}</a>\n              </div>\n            </div>\n            <div class=\"pb-1\">\n              <erd-checkbox v-model=\"remember\">{{\n                $t(\"login.remember\")\n              }}</erd-checkbox>\n            </div>\n            <div class=\"pb-5\">\n              <erd-button\n                variant=\"primary\"\n                @click=\"loginClick\"\n                :disabled=\"loginDisabled\"\n                >{{ $t(\"login.submit\") }}</erd-button\n              >\n            </div>\n            <div class=\"pb-2\">\n              <router-link to=\"/user/register\">{{\n                $t(\"login.register\")\n              }}</router-link>\n            </div>\n          </div>\n        </div>\n      </erd-card>\n    </erd-col>\n  </erd-row>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nimport { AppRoot } from \"../../constants/config\";\n\nexport default {\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      remember: false,\n    };\n  },\n  computed: {\n    ...mapGetters([\"processing\"]),\n    loginDisabled() {\n      return this.username.length <= 3 || this.password.length <= 3;\n    },\n  },\n  methods: {\n    ...mapActions([\"login\"]),\n    loginClick() {\n      this.login({\n        username: this.username,\n        password: this.password,\n      })\n        .then(() => {\n          if (this.remember === true) {\n            localStorage.setItem(\n              \"remember\",\n              JSON.stringify({\n                username: this.username,\n                password: this.password,\n                remember: this.remember,\n              })\n            );\n          } else if (localStorage.getItem(\"remember\") !== null) {\n            localStorage.removeItem(\"remember\");\n          }\n          this.$router.push(AppRoot);\n        })\n        .catch(() => {\n          this.$notify(\n            \"error\",\n            this.$t(\"login.invalid-title\"),\n            this.$t(\"login.invalid-message\"),\n            \"la-sign-in-alt\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n  },\n  mounted() {\n    let r = localStorage.getItem(\"remember\");\n    if (r !== null) {\n      let login = JSON.parse(r);\n      this.username = login.username;\n      this.password = login.password;\n      this.remember = login.remember;\n    }\n  },\n};\n</script>\n"]}]}