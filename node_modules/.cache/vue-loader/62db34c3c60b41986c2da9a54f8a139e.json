{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/dashboard/start/start.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/dashboard/start/start.vue","mtime":1625832861111},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAiLi4vLi4vLi4vLi4vc2VydmljZXMvZWJ1cyI7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgaHR0cFNlcnZpY2UgfSBmcm9tICIuLi8uLi8uLi8uLi9zZXJ2aWNlcy9odHRwIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0ZU9wdGlvbnM6IHsgZGF5OiAiMi1kaWdpdCIsIG1vbnRoOiAibnVtZXJpYyIsIHllYXI6ICJudW1lcmljIiB9LAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBoYW5kbGVzOiB7CiAgICAgICAgc2VydmVyOiBudWxsLAogICAgICAgIGRhdGFiYXNlOiBudWxsLAogICAgICB9LAogICAgICBzZXJ2ZXI6IHsKICAgICAgICBjcHU6IHsKICAgICAgICAgIGNvcmVzOiAwLAogICAgICAgICAgbG9hZDogMCwKICAgICAgICB9LAogICAgICAgIG1lbW9yeTogewogICAgICAgICAgdG90YWw6IDAsCiAgICAgICAgICB0b3RhbF9mcmVlOiAwLAogICAgICAgICAgdG90YWxfdXNlZDogMCwKICAgICAgICAgIHRvdGFsX3VzZWRfcGVyY2VudDogMCwKICAgICAgICB9LAogICAgICAgIGhkZDogewogICAgICAgICAgdG90YWw6IDAsCiAgICAgICAgICB0b3RhbF9mcmVlOiAwLAogICAgICAgICAgdG90YWxfdXNlZDogMCwKICAgICAgICAgIHRvdGFsX3VzZWRfcGVyY2VudDogMCwKICAgICAgICB9LAogICAgICAgIG5ldHdvcms6IHsKICAgICAgICAgIHJ4OiAwLAogICAgICAgICAgdHg6IDAsCiAgICAgICAgfSwKICAgICAgfSwKICAgICAgZGF0YWJhc2U6IHsKICAgICAgICBjb2x1bW5zOiAwLAogICAgICAgIHJvd3M6IDAsCiAgICAgICAgdGFibGVzOiAwLAogICAgICAgIHNpemU6IDAsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWyJjdXJyZW50VXNlciJdKSwKICAgIG1lbWJlclNpbmNlKCkgewogICAgICByZXR1cm4gbmV3IERhdGUodGhpcy5jdXJyZW50VXNlci51c2VyLmNyZWF0ZWQpLnRvTG9jYWxlRGF0ZVN0cmluZygKICAgICAgICB0aGlzLiR0KCJkYXRlLmxvY2FsZSIpCiAgICAgICk7CiAgICB9LAogICAgbWVtYmVyU3RhdHVzKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50VXNlci5zdWJzY3JpcHRpb24KICAgICAgICA/IHRoaXMuJHQoYHN0YXR1cy4ke3RoaXMuY3VycmVudFVzZXIuc3Vic2NyaXB0aW9uLnN1YnNjcmlwdGlvbl90eXBlfWApCiAgICAgICAgOiB0aGlzLiR0KCJzdGF0dXMubm9uZSIpOwogICAgfSwKICAgIHVzZXJSb2xlKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50VXNlci51c2VyCiAgICAgICAgPyB0aGlzLiR0KGByb2xlcy4ke3RoaXMuY3VycmVudFVzZXIudXNlci5yb2xlfWApCiAgICAgICAgOiB0aGlzLiR0KCJyb2xlcy5ub25lIik7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbXSksCiAgICBwYWdlUHJpbnQoKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkYXNoYm9hcmQiKS5wcmludCgpOwogICAgfSwKICAgIGZvcm1hdERhdGUoZGF0ZSkgewogICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZSkudG9Mb2NhbGVEYXRlU3RyaW5nKAogICAgICAgIHRoaXMuJHQoImRhdGUubG9jYWxlIiksCiAgICAgICAgdGhpcy5kYXRlT3B0aW9ucwogICAgICApOwogICAgfSwKICAgIGZvcm1hdE51bWJlcihudW0pIHsKICAgICAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdCh0aGlzLiR0KCJkYXRlLmxvY2FsZSIpLCB7fSkuZm9ybWF0KG51bSk7CiAgICB9LAogICAgbG9hZFNlcnZlcigpIHsKICAgICAgaHR0cFNlcnZpY2UKICAgICAgICAucG9zdCgiYWRtaW5pc3RyYXRpb24vZGFzaGJvYXJkL3NlcnZlciIpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5zZXJ2ZXIgPSByZXMuZGF0YTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRub3RpZnkoCiAgICAgICAgICAgICJlcnJvciIsCiAgICAgICAgICAgIHRoaXMuJHQoInByb2ZpbGUuZmFpbGVkIiksCiAgICAgICAgICAgIHRoaXMuJHQoImRhc2hib2FyZC5sb2FkLWVycm9yIiksCiAgICAgICAgICAgICJsYS11c2VyLXNoaWVsZCIsCiAgICAgICAgICAgIHsgZHVyYXRpb246IDUwMDAsIHBlcm1hbmVudDogZmFsc2UgfQogICAgICAgICAgKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBsb2FkRGF0YWJhc2UoKSB7CiAgICAgIGh0dHBTZXJ2aWNlCiAgICAgICAgLnBvc3QoImFkbWluaXN0cmF0aW9uL2Rhc2hib2FyZC9kYXRhYmFzZSIpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5kYXRhYmFzZSA9IHJlcy5kYXRhOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIHRoaXMuJG5vdGlmeSgKICAgICAgICAgICAgImVycm9yIiwKICAgICAgICAgICAgdGhpcy4kdCgicHJvZmlsZS5mYWlsZWQiKSwKICAgICAgICAgICAgdGhpcy4kdCgiZGFzaGJvYXJkLmxvYWQtZXJyb3IiKSwKICAgICAgICAgICAgImxhLXVzZXItc2hpZWxkIiwKICAgICAgICAgICAgeyBkdXJhdGlvbjogNTAwMCwgcGVybWFuZW50OiBmYWxzZSB9CiAgICAgICAgICApOwogICAgICAgIH0pOwogICAgfSwKICB9LAogIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5sb2FkU2VydmVyKCk7CiAgICB0aGlzLmxvYWREYXRhYmFzZSgpOwogICAgRXZlbnRCdXMuJG9uKCJwcmludCIsIHRoaXMucGFnZVByaW50KTsKICAgIHRoaXMuaGFuZGxlcy5zZXJ2ZXIgPSBzZXRJbnRlcnZhbCh0aGlzLmxvYWRTZXJ2ZXIsIDEwICogMTAwMCk7CiAgICB0aGlzLmhhbmRsZXMuZGF0YWJhc2UgPSBzZXRJbnRlcnZhbCh0aGlzLmxvYWREYXRhYmFzZSwgNjAgKiAxMDAwKTsKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICBFdmVudEJ1cy4kb2ZmKCJwcmludCIsIHRoaXMucGFnZVByaW50KTsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy5oYW5kbGVzLnNlcnZlcik7CiAgICBjbGVhckludGVydmFsKHRoaXMuaGFuZGxlcy5kYXRhYmFzZSk7CiAgfSwKfTsK"},{"version":3,"sources":["start.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"start.vue","sourceRoot":"src/views/app/dashboard/start","sourcesContent":["<template>\n  <erd-row class=\"m-0 p-0\" id=\"dashboard\">\n    <erd-spinner v-if=\"isLoading\" size=\"lg\" overlay absolute></erd-spinner>\n    <erd-col xl=\"12\" xs=\"12\" class=\"m-0 p-0\">\n      <erd-row class=\"m-0 p-0\">\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-microchip la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{ $t(\"dashboard.cpu-cores\").format(server.cpu.cores) }}\n                </h5>\n                <p class=\"m-0 color-theme-1\">\n                  {{ $t(\"dashboard.cpu-load\").format(server.cpu.load + \"%\") }}\n                </p>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-memory la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{ $t(\"dashboard.memory-total\").format(server.memory.total) }}\n                </h5>\n                <p class=\"m-0 color-theme-1\">\n                  {{\n                    $t(\"dashboard.memory-used\").format(\n                      Math.abs(server.memory.total_used_percent) + \"%\"\n                    )\n                  }}\n                </p>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-hdd la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{ $t(\"dashboard.disk-total\").format(server.hdd.total) }}\n                </h5>\n                <p class=\"m-0 color-theme-1\">\n                  {{\n                    $t(\"dashboard.disk-used\").format(\n                      server.hdd.total_used_percent + \"%\"\n                    )\n                  }}\n                </p>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-ethernet la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{ $t(\"dashboard.network-rx\").format(server.network.rx) }}\n                  <span class=\"text-muted text-small\"\n                    >({{ server.network.receive }} B)</span\n                  >\n                </h5>\n                <p class=\"m-0 color-theme-1\">\n                  {{ $t(\"dashboard.network-tx\").format(server.network.tx) }}\n                  <span class=\"text-muted text-small\"\n                    >({{ server.network.send }} B)</span\n                  >\n                </p>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n      </erd-row>\n    </erd-col>\n    <erd-col xl=\"12\" xs=\"12\" class=\"m-0 p-0\">\n      <erd-row class=\"m-0 p-0\">\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-table la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{\n                    $t(\"dashboard.database-tables\").format(\n                      formatNumber(database.tables)\n                    )\n                  }}\n                </h5>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-list la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{\n                    $t(\"dashboard.database-rows\").format(\n                      formatNumber(database.rows)\n                    )\n                  }}\n                </h5>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-columns la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{\n                    $t(\"dashboard.database-columns\").format(\n                      formatNumber(database.columns)\n                    )\n                  }}\n                </h5>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n        <erd-col xl=\"3\" md=\"6\">\n          <erd-card>\n            <erd-card-body class=\"dashboard-card\">\n              <i class=\"las la-server la-5x color-theme-1\"></i>\n              <div class=\"dashboard-card-title\" style=\"\">\n                <h5 class=\"m-0\">\n                  {{ $t(\"dashboard.database-size\").format(database.size) }}\n                </h5>\n              </div>\n            </erd-card-body>\n          </erd-card>\n        </erd-col>\n      </erd-row>\n    </erd-col>\n  </erd-row>\n</template>\n\n<script>\nimport { EventBus } from \"../../../../services/ebus\";\nimport { mapActions, mapGetters } from \"vuex\";\nimport { httpService } from \"../../../../services/http\";\n\nexport default {\n  data() {\n    return {\n      dateOptions: { day: \"2-digit\", month: \"numeric\", year: \"numeric\" },\n      isLoading: false,\n      handles: {\n        server: null,\n        database: null,\n      },\n      server: {\n        cpu: {\n          cores: 0,\n          load: 0,\n        },\n        memory: {\n          total: 0,\n          total_free: 0,\n          total_used: 0,\n          total_used_percent: 0,\n        },\n        hdd: {\n          total: 0,\n          total_free: 0,\n          total_used: 0,\n          total_used_percent: 0,\n        },\n        network: {\n          rx: 0,\n          tx: 0,\n        },\n      },\n      database: {\n        columns: 0,\n        rows: 0,\n        tables: 0,\n        size: 0,\n      },\n    };\n  },\n  computed: {\n    ...mapGetters([\"currentUser\"]),\n    memberSince() {\n      return new Date(this.currentUser.user.created).toLocaleDateString(\n        this.$t(\"date.locale\")\n      );\n    },\n    memberStatus() {\n      return this.currentUser.subscription\n        ? this.$t(`status.${this.currentUser.subscription.subscription_type}`)\n        : this.$t(\"status.none\");\n    },\n    userRole() {\n      return this.currentUser.user\n        ? this.$t(`roles.${this.currentUser.user.role}`)\n        : this.$t(\"roles.none\");\n    },\n  },\n  methods: {\n    ...mapActions([]),\n    pagePrint() {\n      document.getElementById(\"dashboard\").print();\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleDateString(\n        this.$t(\"date.locale\"),\n        this.dateOptions\n      );\n    },\n    formatNumber(num) {\n      return new Intl.NumberFormat(this.$t(\"date.locale\"), {}).format(num);\n    },\n    loadServer() {\n      httpService\n        .post(\"administration/dashboard/server\")\n        .then((res) => {\n          if (res.status === true) {\n            this.server = res.data;\n          }\n        })\n        .catch(() => {\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"dashboard.load-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    loadDatabase() {\n      httpService\n        .post(\"administration/dashboard/database\")\n        .then((res) => {\n          if (res.status === true) {\n            this.database = res.data;\n          }\n        })\n        .catch(() => {\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"dashboard.load-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n  },\n  beforeMount() {\n    this.loadServer();\n    this.loadDatabase();\n    EventBus.$on(\"print\", this.pagePrint);\n    this.handles.server = setInterval(this.loadServer, 10 * 1000);\n    this.handles.database = setInterval(this.loadDatabase, 60 * 1000);\n  },\n  beforeDestroy() {\n    EventBus.$off(\"print\", this.pagePrint);\n    clearInterval(this.handles.server);\n    clearInterval(this.handles.database);\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.dashboard-card {\n  display: table;\n}\n.dashboard-card-title {\n  display: table-cell;\n  vertical-align: middle;\n  width: 100%;\n  padding-left: 0.5rem;\n}\n.list-card {\n  user-select: none;\n  position: relative;\n  height: 340px;\n\n  .refresh-button {\n    position: absolute;\n    right: 20px;\n    top: 20px;\n    border-radius: 50%;\n    height: 32px;\n    width: 32px;\n    line-height: 32px;\n    padding: 0;\n  }\n\n  .ps {\n    height: 230px;\n    padding-right: 1rem;\n  }\n\n  .list {\n    height: 200px;\n  }\n\n  .dashboard-list-item {\n    display: table;\n    padding-bottom: 8px;\n\n    &:not(:first-child) {\n      padding-top: 8px;\n    }\n\n    &:not(:last-child) {\n      border-bottom: 1px solid $separator-color-light;\n    }\n\n    .details {\n      display: table-cell;\n      vertical-align: middle;\n      width: 100%;\n      padding-left: 0.25rem;\n    }\n  }\n}\n</style>\n"]}]}