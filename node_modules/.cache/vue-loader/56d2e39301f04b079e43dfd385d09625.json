{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/m3u/playlists.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/m3u/playlists.vue","mtime":1625168690796},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlIHZ1ZS9uby1zaWRlLWVmZmVjdHMtaW4tY29tcHV0ZWQtcHJvcGVydGllcyAqLwppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL2VidXMiOwppbXBvcnQgeyBodHRwU2VydmljZSB9IGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL2h0dHAiOwppbXBvcnQgeyBsYW5ndWFnZXMgfSBmcm9tICIuLi8uLi8uLi9oZWxwZXJzIjsKaW1wb3J0IHsgVXNlclJvbGUsIFN1YnNjcmlwdGlvblR5cGUgfSBmcm9tICIuLi8uLi8uLi9jb25zdGFudHMvY29uZmlnIjsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsYW5ndWFnZXMsCiAgICAgIGFjdGl2ZVRhYjogMCwKICAgICAgcGxheWxpc3RHcm91cHM6IHsKICAgICAgICBsaXZlOiBbXSwKICAgICAgICBtb3ZpZXM6IFtdLAogICAgICAgIHNlcmllczogW10sCiAgICAgIH0sCiAgICAgIHBsYXlsaXN0SW5mbzogewogICAgICAgIG1vZGFsOiBmYWxzZSwKICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICB9LAogICAgICBwbGF5bGlzdHM6IFtdLAogICAgICBwbGF5bGlzdDogbnVsbCwKICAgICAgZWRpdG9yOiBmYWxzZSwKICAgICAgc2VhcmNoOiBudWxsLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBmcm9tOiAwLAogICAgICB0bzogMCwKICAgICAgdG90YWw6IDAsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBmaWVsZHM6IFsKICAgICAgICB7IGtleTogImNyZWF0ZWRfYXQiLCBsYWJlbDogdGhpcy4kdCgieHRyZWFtLmNyZWF0ZWQiKSwgc29ydGFibGU6IHRydWUgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJsYXN0X3VwZGF0ZWQiLAogICAgICAgICAgbGFiZWw6IHRoaXMuJHQoInh0cmVhbS5sYXN0LXVwZGF0ZWQiKSwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIH0sCiAgICAgICAgeyBrZXk6ICJuYW1lIiwgbGFiZWw6IHRoaXMuJHQoInh0cmVhbS5uYW1lIiksIHNvcnRhYmxlOiB0cnVlIH0sCiAgICAgICAgeyBrZXk6ICJncm91cHMiLCBsYWJlbDogdGhpcy4kdCgieHRyZWFtLmdyb3VwcyIpLCBzb3J0YWJsZTogdHJ1ZSB9LAogICAgICAgIHsga2V5OiAic3RyZWFtcyIsIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0uc3RyZWFtcyIpLCBzb3J0YWJsZTogdHJ1ZSB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogInN5bmNfaW50ZXJ2YWwiLAogICAgICAgICAgbGFiZWw6IHRoaXMuJHQoInh0cmVhbS5zeW5jLWludGVydmFsIiksCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogInN5bmNlZF9hdCIsCiAgICAgICAgICBsYWJlbDogdGhpcy4kdCgieHRyZWFtLnN5bmNlZC1hdCIpLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJzb3VyY2VfZXhwX2RhdGUiLAogICAgICAgICAgbGFiZWw6IHRoaXMuJHQoInh0cmVhbS5leHBpcmUiKSwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAga2V5OiAic291cmNlX21heF9jb25uZWN0aW9ucyIsCiAgICAgICAgICBsYWJlbDogdGhpcy4kdCgieHRyZWFtLm1heC1jb25uZWN0aW9ucyIpLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJhY3Rpb25zIiwKICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ1c2Vycy5hY3Rpb25zIiksCiAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICB0aENsYXNzOiAidGV4dC1yaWdodCIsCiAgICAgICAgICB0ZENsYXNzOiAidGV4dC1yaWdodCIsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgc3luY0ludGVydmFsczogWwogICAgICAgIHsgdGV4dDogdGhpcy4kdCgic3luYy1pbnRlcnZhbC40OCIpLCB2YWx1ZTogNDggfSwKICAgICAgICB7IHRleHQ6IHRoaXMuJHQoInN5bmMtaW50ZXJ2YWwuMjQiKSwgdmFsdWU6IDI0IH0sCiAgICAgICAgeyB0ZXh0OiB0aGlzLiR0KCJzeW5jLWludGVydmFsLjEyIiksIHZhbHVlOiAxMiB9LAogICAgICAgIHsgdGV4dDogdGhpcy4kdCgic3luYy1pbnRlcnZhbC42IiksIHZhbHVlOiA2IH0sCiAgICAgICAgeyB0ZXh0OiB0aGlzLiR0KCJzeW5jLWludGVydmFsLjEiKSwgdmFsdWU6IDEgfSwKICAgICAgXSwKICAgICAgb3V0cHV0VHlwZXM6IFsKICAgICAgICB7IHRleHQ6IHRoaXMuJHQoIm91dHB1dC4xIiksIHZhbHVlOiAxIH0sCiAgICAgICAgeyB0ZXh0OiB0aGlzLiR0KCJvdXRwdXQuMiIpLCB2YWx1ZTogMiB9LAogICAgICBdLAogICAgICBpcHR2VG9vbHNIb3N0OiAiaHR0cDovL3R2LmlwdHYtdG9vbHMuY29tIiwKICAgICAgaXB0dlRvb2xzUG9ydDogODAsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWyJjdXJyZW50VXNlciIsICJzZXR0aW5ncyIsICJzeW5jVE1EQiIsICJzeW5jUGxheWxpc3QiXSksCiAgICBzaG93VG9vbHRpcHMgKCkgewogICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5zaG93VG9vbHRpcHM7CiAgICB9LAogICAgZXBnT2Zmc2V0KCkgewogICAgICBsZXQgZHQgPSBuZXcgRGF0ZSgpOwogICAgICByZXR1cm4gTWF0aC5hYnMoZHQuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDYwKTsKICAgIH0sCiAgICBwZXJQYWdlKCkgewogICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5wZXJQYWdlOwogICAgfSwKICAgIHNlYXJjaEZpbHRlcmVkKCkgewogICAgICBpZiAodGhpcy5zZWFyY2ggPT09IG51bGwpIHsKICAgICAgICByZXR1cm4gdGhpcy5wbGF5bGlzdHM7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cCh0aGlzLnNlYXJjaCwgImkiKTsKICAgICAgICByZXR1cm4gdGhpcy5wbGF5bGlzdHMuZmlsdGVyKChhY2NvdW50KSA9PiB7CiAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBTdHJpbmcoYWNjb3VudC50aXRsZSkubWF0Y2gocmUpIHx8CiAgICAgICAgICAgIFN0cmluZyhhY2NvdW50Lmhvc3QpLm1hdGNoKHJlKSB8fAogICAgICAgICAgICBTdHJpbmcoYWNjb3VudC5wb3J0KS5tYXRjaChyZSkgfHwKICAgICAgICAgICAgU3RyaW5nKGFjY291bnQudXNlcm5hbWUpLm1hdGNoKHJlKSB8fAogICAgICAgICAgICBTdHJpbmcoYWNjb3VudC5wYXNzd29yZCkubWF0Y2gocmUpIHx8CiAgICAgICAgICAgIHRoaXMuZm9ybWF0RGF0ZShhY2NvdW50LnN5bmNlZF9hdCkubWF0Y2gocmUpIHx8CiAgICAgICAgICAgIHRoaXMuJHQoYHN5bmMtaW50ZXJ2YWwuJHthY2NvdW50LnN5bmNfaW50ZXJ2YWx9YCkubWF0Y2gocmUpCiAgICAgICAgICApOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcGFnZWQoKSB7CiAgICAgIHRoaXMudG90YWwgPSB0aGlzLnNlYXJjaEZpbHRlcmVkLmxlbmd0aDsKICAgICAgdGhpcy5mcm9tID0gKHRoaXMuY3VycmVudFBhZ2UgLSAxKSAqIHRoaXMucGVyUGFnZSB8fCAwOwogICAgICB0aGlzLnRvID0KICAgICAgICB0aGlzLmZyb20gKyB0aGlzLnBlclBhZ2UgPiB0aGlzLnRvdGFsCiAgICAgICAgICA/IHRoaXMudG90YWwKICAgICAgICAgIDogdGhpcy5mcm9tICsgdGhpcy5wZXJQYWdlOwogICAgICByZXR1cm4gdGhpcy5zZWFyY2hGaWx0ZXJlZC5zbGljZSh0aGlzLmZyb20sIHRoaXMudG8pOwogICAgfSwKICAgIGFsbG93ZWRJcHM6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3QuaXBfYWxsb3dlZAogICAgICAgICAgPyB0aGlzLnBsYXlsaXN0LmlwX2FsbG93ZWQuam9pbigiLCIpCiAgICAgICAgICA6ICIiOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICB0aGlzLnBsYXlsaXN0LmlwX2FsbG93ZWQgPSB2YWwuc3BsaXQoIiwiKS5tYXAoKGlwKSA9PiB7CiAgICAgICAgICByZXR1cm4gaXAudHJpbSgpOwogICAgICAgIH0pOwogICAgICB9LAogICAgfSwKICAgIGNvbnRleHRMaXZlKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBsZXQgbGl2ZSA9IFsuLi52bS5wbGF5bGlzdEdyb3Vwcy5saXZlXTsKICAgICAgcmV0dXJuIFsKICAgICAgICB7CiAgICAgICAgICB0ZXh0OiB2bS4kdCgiZ2VuZXJhbC5zZWxlY3QtYWxsIiksCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZtLnBsYXlsaXN0LnN5bmNfbGl2ZSA9IFsuLi5saXZlLm1hcCgoZykgPT4gZy5jYXRlZ29yeV9pZCldOwogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRleHQ6IHZtLiR0KCJnZW5lcmFsLnNlbGVjdC1ub25lIiksCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZtLnBsYXlsaXN0LnN5bmNfbGl2ZSA9IFtdOwogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICBdOwogICAgfSwKICAgIGNvbnRleHRNb3ZpZXMoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGxldCBtb3ZpZXMgPSBbLi4udm0ucGxheWxpc3RHcm91cHMubW92aWVzXTsKICAgICAgcmV0dXJuIFsKICAgICAgICB7CiAgICAgICAgICB0ZXh0OiB2bS4kdCgiZ2VuZXJhbC5zZWxlY3QtYWxsIiksCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh2bS5jYW5Vc2VNb3ZpZXNTZXJpZXMpIHsKICAgICAgICAgICAgICB2bS5wbGF5bGlzdC5zeW5jX21vdmllcyA9IFsuLi5tb3ZpZXMubWFwKChnKSA9PiBnLmNhdGVnb3J5X2lkKV07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBkaXNhYmxlZDogIXZtLmNhblVzZU1vdmllc1NlcmllcywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRleHQ6IHZtLiR0KCJnZW5lcmFsLnNlbGVjdC1ub25lIiksCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZtLnBsYXlsaXN0LnN5bmNfbW92aWVzID0gW107CiAgICAgICAgICB9LAogICAgICAgICAgZGlzYWJsZWQ6ICF2bS5jYW5Vc2VNb3ZpZXNTZXJpZXMsCiAgICAgICAgfSwKICAgICAgXTsKICAgIH0sCiAgICBjb250ZXh0U2VyaWVzKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBsZXQgc2VyaWVzID0gWy4uLnZtLnBsYXlsaXN0R3JvdXBzLnNlcmllc107CiAgICAgIHJldHVybiBbCiAgICAgICAgewogICAgICAgICAgdGV4dDogdm0uJHQoImdlbmVyYWwuc2VsZWN0LWFsbCIpLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAodm0uY2FuVXNlTW92aWVzU2VyaWVzKSB7CiAgICAgICAgICAgICAgdm0ucGxheWxpc3Quc3luY19zZXJpZXMgPSBbLi4uc2VyaWVzLm1hcCgoZykgPT4gZy5jYXRlZ29yeV9pZCldOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgZGlzYWJsZWQ6ICF2bS5jYW5Vc2VNb3ZpZXNTZXJpZXMsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0ZXh0OiB2bS4kdCgiZ2VuZXJhbC5zZWxlY3Qtbm9uZSIpLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2bS5wbGF5bGlzdC5zeW5jX3NlcmllcyA9IFtdOwogICAgICAgICAgfSwKICAgICAgICAgIGRpc2FibGVkOiAhdm0uY2FuVXNlTW92aWVzU2VyaWVzLAogICAgICAgIH0sCiAgICAgIF07CiAgICB9LAogICAgdG1kYkxhbmd1YWdlcygpIHsKICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubGFuZ3VhZ2VzKS5tYXAoKGxhbmd1YWdlKSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZhbHVlOiBsYW5ndWFnZSwKICAgICAgICAgIHRleHQ6IGAke3RoaXMubGFuZ3VhZ2VzW2xhbmd1YWdlXS5uYW1lfSAoJHt0aGlzLmxhbmd1YWdlc1tsYW5ndWFnZV0ubmF0aXZlTmFtZX0pYCwKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICBjYW5Vc2VDdXN0b21Vc2VyUGFzcygpIHsKICAgICAgcmV0dXJuIFtVc2VyUm9sZS5TdXBlckFkbWluLCBVc2VyUm9sZS5BZG1pbiwgVXNlclJvbGUuTW9kZXJhdG9yXS5pbmNsdWRlcygKICAgICAgICB0aGlzLmN1cnJlbnRVc2VyLnVzZXIucm9sZQogICAgICApOwogICAgfSwKICAgIGNhblVzZU1vdmllc1NlcmllcygpIHsKICAgICAgcmV0dXJuIFsKICAgICAgICBTdWJzY3JpcHRpb25UeXBlLlByb2Zlc3Npb25hbCwKICAgICAgICBTdWJzY3JpcHRpb25UeXBlLkZhbWlseSwKICAgICAgICBTdWJzY3JpcHRpb25UeXBlLkJ1c2luZXNzU21hbGwsCiAgICAgICAgU3Vic2NyaXB0aW9uVHlwZS5CdXNpbmVzc1Byb2Zlc3Npb25hbCwKICAgICAgICBTdWJzY3JpcHRpb25UeXBlLkJ1c2luZXNzRW50ZXJwcmlzZSwKICAgICAgICBTdWJzY3JpcHRpb25UeXBlLk1hbmFnZXIsCiAgICAgIF0uaW5jbHVkZXModGhpcy5jdXJyZW50VXNlci5zdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uX3R5cGUpOwogICAgfSwKICAgIHBsYXlsaXN0SXNFbXB0eSgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAodGhpcy5wbGF5bGlzdCAmJiB0aGlzLnBsYXlsaXN0Lmdyb3VwcyA9PSAwKSB8fAogICAgICAgIHRoaXMucGxheWxpc3Quc3RyZWFtcyA9PSAwCiAgICAgICk7CiAgICB9LAogICAgY2FuQWRkUGxheWxpc3QoKSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRVc2VyLnN1YnNjcmlwdGlvbikgewogICAgICAgIGxldCBzdWJzY3JpcHRpb24gPSB0aGlzLmN1cnJlbnRVc2VyLnN1YnNjcmlwdGlvbjsKICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLmVuZF9kYXRlICE9IG51bGwgJiYgbmV3IERhdGUoc3Vic2NyaXB0aW9uLmVuZF9kYXRlKS5nZXRUaW1lKCkgPCBuZXcgRGF0ZSgpLmdldFRpbWUoKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAocGFyc2VJbnQoc3Vic2NyaXB0aW9uLmN1c3RvbV9wbGFuKSA9PT0gMSkgewogICAgICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RzLmxlbmd0aCA8IHN1YnNjcmlwdGlvbi5tYXhfcGxheWxpc3Q7CiAgICAgICAgfQogICAgICAgIGlmIChwYXJzZUludChzdWJzY3JpcHRpb24uZW5hYmxlZCkgIT09IDEpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgc3dpdGNoIChzdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uX3R5cGUpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RzLmxlbmd0aCA8IDI7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiB0aGlzLnBsYXlsaXN0cy5sZW5ndGggPCA1OwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXR1cm4gdGhpcy5wbGF5bGlzdHMubGVuZ3RoIDwgNTsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RzLmxlbmd0aCA8IDEwOwogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICByZXR1cm4gdGhpcy5wbGF5bGlzdHMubGVuZ3RoIDwgMjU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsic3luY2hyb25pemVUTURCIiwgInN5bmNocm9uaXplUGxheWxpc3QiXSksCiAgICBvcGVuQ29udGV4dChjb250ZXh0KSB7CiAgICAgIHRoaXMuJHJlZnNbY29udGV4dF0ub3BlbigpOwogICAgfSwKICAgIGxvYWRHcm91cHMoKSB7CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgaHR0cFNlcnZpY2UKICAgICAgICAucG9zdCgicGxheWxpc3QvbG9hZC1ncm91cHMiLCB7CiAgICAgICAgICBob3N0OiB0aGlzLnBsYXlsaXN0LnNvdXJjZV9ob3N0LAogICAgICAgICAgcG9ydDogdGhpcy5wbGF5bGlzdC5zb3VyY2VfcG9ydCwKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnBsYXlsaXN0LnNvdXJjZV91c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBsYXlsaXN0LnNvdXJjZV9wYXNzd29yZCwKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLnBsYXlsaXN0R3JvdXBzID0gcmVzLmRhdGE7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgbG9hZFBsYXlsaXN0cygpIHsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBodHRwU2VydmljZQogICAgICAgIC5nZXQoInBsYXlsaXN0IikKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5wbGF5bGlzdHMgPSByZXMuZGF0YTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kbm90aWZ5KAogICAgICAgICAgICAiZXJyb3IiLAogICAgICAgICAgICB0aGlzLiR0KCJwcm9maWxlLmZhaWxlZCIpLAogICAgICAgICAgICB0aGlzLiR0KCJ4dHJlYW0ueHRyZWFtLWxvYWQtZXJyb3IiKSwKICAgICAgICAgICAgImxhLXVzZXItc2hpZWxkIiwKICAgICAgICAgICAgeyBkdXJhdGlvbjogNTAwMCwgcGVybWFuZW50OiBmYWxzZSB9CiAgICAgICAgICApOwogICAgICAgIH0pOwogICAgfSwKICAgIGFkZFBsYXlsaXN0KCkgewogICAgICBpZiAodGhpcy5jYW5BZGRQbGF5bGlzdCAhPT0gdHJ1ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBodHRwU2VydmljZQogICAgICAgIC5wb3N0KCJwbGF5bGlzdC9hZGQiKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlICYmIHJlcy5kYXRhICE9PSBmYWxzZSkgewogICAgICAgICAgICB0aGlzLnBsYXlsaXN0ID0gewogICAgICAgICAgICAgIGlkOiByZXMuZGF0YSwKICAgICAgICAgICAgICB1cmw6ICIiLAogICAgICAgICAgICAgIGVuYWJsZWQ6IDEsCiAgICAgICAgICAgICAgc291cmNlX2hvc3Q6ICIiLAogICAgICAgICAgICAgIHNvdXJjZV9wb3J0OiAiIiwKICAgICAgICAgICAgICBzb3VyY2VfdXNlcm5hbWU6ICIiLAogICAgICAgICAgICAgIHNvdXJjZV9wYXNzd29yZDogIiIsCiAgICAgICAgICAgICAgc291cmNlX2V4cF9kYXRlOiBmYWxzZSwKICAgICAgICAgICAgICBzb3VyY2VfbWF4X2Nvbm5lY3Rpb25zOiBmYWxzZSwKICAgICAgICAgICAgICBzeW5jX2VuYWJsZWQ6IDEsCiAgICAgICAgICAgICAgc3luY19pbnRlcnZhbDogNDgsCiAgICAgICAgICAgICAgc3luY19saXZlOiBbXSwKICAgICAgICAgICAgICBzeW5jX21vdmllczogW10sCiAgICAgICAgICAgICAgc3luY19zZXJpZXM6IFtdLAogICAgICAgICAgICAgIGlwX3Byb3RlY3Rpb246IDAsCiAgICAgICAgICAgICAgaXBfYWxsb3dlZDogW10sCiAgICAgICAgICAgICAgYXBpX3VzZXJuYW1lOiB0aGlzLmN1cnJlbnRVc2VyLnVzZXIudXNlcm5hbWUsCiAgICAgICAgICAgICAgYXBpX3Bhc3N3b3JkOiAiIiwKICAgICAgICAgICAgICBhcGlfbWVzc2FnZTogIldlbGNvbWUgdG8gSVBUVi1Ub29scy5jb20iLAogICAgICAgICAgICAgIGFwaV9vdXRwdXRfZm9ybWF0OiAxLAogICAgICAgICAgICAgIG5hbWU6ICIiLAogICAgICAgICAgICAgIHRtZGJfbGFuZ3VhZ2U6IHRoaXMuJGkxOG4ubG9jYWxlLAogICAgICAgICAgICAgIGVwZ19vZmZzZXQ6IHRoaXMuZXBnT2Zmc2V0LAogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLnBsYXlsaXN0R3JvdXBzID0gewogICAgICAgICAgICAgIGxpdmU6IFtdLAogICAgICAgICAgICAgIG1vdmllczogW10sCiAgICAgICAgICAgICAgc2VyaWVzOiBbXSwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5yYW5kb21QYXNzd29yZCgpOwogICAgICAgICAgICB0aGlzLmVkaXRvciA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy4kbm90aWZ5KAogICAgICAgICAgICAiZXJyb3IiLAogICAgICAgICAgICB0aGlzLiR0KCJwcm9maWxlLmZhaWxlZCIpLAogICAgICAgICAgICB0aGlzLiR0KCJ4dHJlYW0ueHRyZWFtLW5ldy1lcnJvciIpLAogICAgICAgICAgICAibGEtdXNlci1zaGllbGQiLAogICAgICAgICAgICB7IGR1cmF0aW9uOiA1MDAwLCBwZXJtYW5lbnQ6IGZhbHNlIH0KICAgICAgICAgICk7CiAgICAgICAgfSk7CiAgICB9LAogICAgZWRpdFBsYXlsaXN0KHBsYXlsaXN0KSB7CiAgICAgIHRoaXMucGxheWxpc3QgPSBPYmplY3QuYXNzaWduKHt9LCBwbGF5bGlzdCk7CiAgICAgIHRoaXMucGxheWxpc3RBdXRoKCk7CiAgICAgIHRoaXMuZWRpdG9yID0gdHJ1ZTsKICAgIH0sCiAgICBwbGF5bGlzdEluZm9Nb2RhbChzaG93LCBwbGF5bGlzdCkgewogICAgICBpZiAocGxheWxpc3QpIHsKICAgICAgICB0aGlzLnBsYXlsaXN0SW5mby51c2VybmFtZSA9IHBsYXlsaXN0LmFwaV91c2VybmFtZTsKICAgICAgICB0aGlzLnBsYXlsaXN0SW5mby5wYXNzd29yZCA9IHBsYXlsaXN0LmFwaV9wYXNzd29yZDsKICAgICAgfQogICAgICB0aGlzLnBsYXlsaXN0SW5mby5tb2RhbCA9IHNob3c7CiAgICB9LAogICAgY2FuY2VsRWRpdG9yKCkgewogICAgICB0aGlzLmVkaXRvciA9IGZhbHNlOwogICAgfSwKICAgIHNhdmVFZGl0b3IoKSB7CiAgICAgIGxldCBwbGF5bGlzdCA9IHRoaXMucGxheWxpc3Q7CiAgICAgIGxldCBwbGF5bGlzdElkID0gdGhpcy5wbGF5bGlzdC5pZDsKICAgICAgZGVsZXRlIHBsYXlsaXN0LmlkOwogICAgICBkZWxldGUgcGxheWxpc3QudXJsOwogICAgICBkZWxldGUgcGxheWxpc3QuZ3JvdXBzOwogICAgICBkZWxldGUgcGxheWxpc3Quc3RyZWFtczsKCiAgICAgIHBsYXlsaXN0Lmxhc3RfdXBkYXRlZCA9IG5ldyBEYXRlKCk7CiAgICAgIGh0dHBTZXJ2aWNlCiAgICAgICAgLnB1dChgcGxheWxpc3QvJHtwbGF5bGlzdElkfWAsIHBsYXlsaXN0KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlICYmIHJlcy5kYXRhID09PSB0cnVlKSB7CiAgICAgICAgICAgIHRoaXMuJG5vdGlmeSgKICAgICAgICAgICAgICAicHJpbWFyeSIsCiAgICAgICAgICAgICAgdGhpcy4kdCgicHJvZmlsZS5zdWNjZXNzIiksCiAgICAgICAgICAgICAgdGhpcy4kdCgieHRyZWFtLnh0cmVhbS1zYXZlLXN1Y2Nlc3MiKSwKICAgICAgICAgICAgICAibGEtdXNlci1zaGllbGQiLAogICAgICAgICAgICAgIHsgZHVyYXRpb246IDUwMDAsIHBlcm1hbmVudDogZmFsc2UgfQogICAgICAgICAgICApOwogICAgICAgICAgICB0aGlzLmVkaXRvciA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmxvYWRQbGF5bGlzdHMoKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRub3RpZnkoCiAgICAgICAgICAgICJlcnJvciIsCiAgICAgICAgICAgIHRoaXMuJHQoInByb2ZpbGUuZmFpbGVkIiksCiAgICAgICAgICAgIHRoaXMuJHQoInh0cmVhbS54dHJlYW0tc2F2ZS1lcnJvciIpLAogICAgICAgICAgICAibGEtdXNlci1zaGllbGQiLAogICAgICAgICAgICB7IGR1cmF0aW9uOiA1MDAwLCBwZXJtYW5lbnQ6IGZhbHNlIH0KICAgICAgICAgICk7CiAgICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlUGxheWxpc3QoaWQpIHsKICAgICAgaHR0cFNlcnZpY2UKICAgICAgICAuZGVsZXRlKGBwbGF5bGlzdC8ke2lkfWApCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy4kbm90aWZ5KAogICAgICAgICAgICAgICJwcmltYXJ5IiwKICAgICAgICAgICAgICB0aGlzLiR0KCJwcm9maWxlLnN1Y2Nlc3MiKSwKICAgICAgICAgICAgICB0aGlzLiR0KCJ4dHJlYW0ueHRyZWFtLWRlbGV0ZS1zdWNjZXNzIiksCiAgICAgICAgICAgICAgImxhLXVzZXItc2hpZWxkIiwKICAgICAgICAgICAgICB7IGR1cmF0aW9uOiA1MDAwLCBwZXJtYW5lbnQ6IGZhbHNlIH0KICAgICAgICAgICAgKTsKICAgICAgICAgICAgdGhpcy5sb2FkUGxheWxpc3RzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy4kbm90aWZ5KAogICAgICAgICAgICAiZXJyb3IiLAogICAgICAgICAgICB0aGlzLiR0KCJwcm9maWxlLmZhaWxlZCIpLAogICAgICAgICAgICB0aGlzLiR0KCJ4dHJlYW0ueHRyZWFtLWRlbGV0ZS1lcnJvciIpLAogICAgICAgICAgICAibGEtdXNlci1zaGllbGQiLAogICAgICAgICAgICB7IGR1cmF0aW9uOiA1MDAwLCBwZXJtYW5lbnQ6IGZhbHNlIH0KICAgICAgICAgICk7CiAgICAgICAgfSk7CiAgICB9LAogICAgc2VhcmNoQWNjb3VudChzZWFyY2gpIHsKICAgICAgaWYgKHNlYXJjaC5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLnNlYXJjaCA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWFyY2ggPSBzZWFyY2g7CiAgICAgIH0KICAgIH0sCiAgICBwcmludEFjY291bnRzKCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGxheWxpc3RzIikucHJpbnQoKTsKICAgIH0sCiAgICBmb3JtYXREYXRlKGRhdGUpIHsKICAgICAgcmV0dXJuIGRhdGUgPT09IGZhbHNlCiAgICAgICAgPyAiIgogICAgICAgIDogZGF0ZSA9PT0gbnVsbCB8fAogICAgICAgICAgZGF0ZSA9PT0gIjAwMDAtMDAtMDAgMDA6MDA6MDAiIHx8CiAgICAgICAgICBkYXRlID09PSAwIHx8CiAgICAgICAgICBkYXRlID09PSAiIgogICAgICAgID8gdGhpcy4kdCgieHRyZWFtLnVubGltaXRlZCIpCiAgICAgICAgOiBuZXcgRGF0ZShkYXRlKS50b0xvY2FsZVN0cmluZygKICAgICAgICAgICAgdGhpcy4kdCgiZGF0ZS5sb2NhbGUiKSwKICAgICAgICAgICAgdGhpcy5kYXRlT3B0aW9ucwogICAgICAgICAgKTsKICAgIH0sCiAgICBmb3JtYXRNYXhDb25uZWN0aW9ucyhtYXgpIHsKICAgICAgcmV0dXJuIG1heCA9PT0gZmFsc2UKICAgICAgICA/ICIiCiAgICAgICAgOiBtYXggPT09IG51bGwgfHwgbWF4IDw9IDAKICAgICAgICA/IHRoaXMuJHQoInh0cmVhbS51bmxpbWl0ZWQiKQogICAgICAgIDogbWF4OwogICAgfSwKICAgIGRvVGFiQ2hhbmdlKHRhYikgewogICAgICBpZiAodGFiID09IDEpIHsKICAgICAgICAvL3RoaXMubG9hZEdyb3VwcygpOwogICAgICB9CiAgICAgIHRoaXMuYWN0aXZlVGFiID0gdGFiOwogICAgfSwKICAgIHJhbmRvbVBhc3N3b3JkKCkgewogICAgICBodHRwU2VydmljZQogICAgICAgIC5wb3N0KCJwbGF5bGlzdC9yYW5kb20tcGFzc3dvcmQiLCB7CiAgICAgICAgICB1c2VybmFtZTogdGhpcy5wbGF5bGlzdC5hcGlfdXNlcm5hbWUsCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLnBsYXlsaXN0LmFwaV9wYXNzd29yZCA9IHJlcy5kYXRhOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKICAgIHBsYXlsaXN0QXV0aCgpIHsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBodHRwU2VydmljZQogICAgICAgIC5wb3N0KCJwbGF5bGlzdC9hdXRoZW50aWNhdGUiLCB7CiAgICAgICAgICBob3N0OiB0aGlzLnBsYXlsaXN0LnNvdXJjZV9ob3N0LAogICAgICAgICAgcG9ydDogdGhpcy5wbGF5bGlzdC5zb3VyY2VfcG9ydCwKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnBsYXlsaXN0LnNvdXJjZV91c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBsYXlsaXN0LnNvdXJjZV9wYXNzd29yZCwKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSAmJiByZXMuZGF0YS5hdXRoKSB7CiAgICAgICAgICAgIHRoaXMucGxheWxpc3Quc291cmNlX2V4cF9kYXRlID0gcmVzLmRhdGEuZXhwX2RhdGU7CiAgICAgICAgICAgIHRoaXMucGxheWxpc3Quc291cmNlX21heF9jb25uZWN0aW9ucyA9IHJlcy5kYXRhLm1heF9jb25uZWN0aW9uczsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIGdldElQQWRkcmVzcygpIHsKICAgICAgaHR0cFNlcnZpY2UKICAgICAgICAuZ2V0KCJwbGF5bGlzdC9pcC1hZGRyZXNzIikKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLnBsYXlsaXN0LmlwX2FsbG93ZWQucHVzaChyZXMuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogICAgY2hlY2tBdmFpbGFiaWxpdHkoKSB7CiAgICAgIGh0dHBTZXJ2aWNlCiAgICAgICAgLnBvc3QoInBsYXlsaXN0L3VzZXItcGFzcy1leGlzdHMiLCB7CiAgICAgICAgICB1c2VybmFtZTogdGhpcy5wbGF5bGlzdC5hcGlfdXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wbGF5bGlzdC5hcGlfcGFzc3dvcmQsCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgICBpZiAocmVzLmRhdGEgPT09IHRydWUpIHsKICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoCiAgICAgICAgICAgICAgICAiZXJyb3IiLAogICAgICAgICAgICAgICAgdGhpcy4kdCgieHRyZWFtLm5vdC1hdmFpbGFibGUiKSwKICAgICAgICAgICAgICAgIHRoaXMuJHQoInh0cmVhbS51c2VyLXBhc3MtdXNlZCIpLAogICAgICAgICAgICAgICAgImxhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlIiwKICAgICAgICAgICAgICAgIHsgZHVyYXRpb246IDUwMDAsIHBlcm1hbmVudDogZmFsc2UgfQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KAogICAgICAgICAgICAgICAgInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgdGhpcy4kdCgieHRyZWFtLmF2YWlsYWJsZSIpLAogICAgICAgICAgICAgICAgdGhpcy4kdCgieHRyZWFtLnVzZXItcGFzcy1hdmFpbGFibGUiKSwKICAgICAgICAgICAgICAgICJsYS1jaGVjay1jaXJjbGUiLAogICAgICAgICAgICAgICAgeyBkdXJhdGlvbjogNTAwMCwgcGVybWFuZW50OiBmYWxzZSB9CiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKICAgIGV4cG9ydE0zVSgpIHsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBodHRwU2VydmljZQogICAgICAgIC5kb3dubG9hZChgcGxheWxpc3QvZXhwb3J0L20zdS8ke3RoaXMucGxheWxpc3QuaWR9YCkKICAgICAgICAudGhlbigoYmxvYikgPT4gewogICAgICAgICAgdmFyIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgICBhLmhyZWYgPSB1cmw7CiAgICAgICAgICBhLmRvd25sb2FkID0gImV4cG9ydC5tM3UiOwogICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICAgIGEuY2xpY2soKTsKICAgICAgICAgIGEucmVtb3ZlKCk7CiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIGV4cG9ydFNJUFRWKCkgewogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIGh0dHBTZXJ2aWNlCiAgICAgICAgLmRvd25sb2FkKGBwbGF5bGlzdC9leHBvcnQvc2lwdHYvJHt0aGlzLnBsYXlsaXN0LmlkfWApCiAgICAgICAgLnRoZW4oKGJsb2IpID0+IHsKICAgICAgICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgYS5ocmVmID0gdXJsOwogICAgICAgICAgYS5kb3dubG9hZCA9ICJleHBvcnQudHh0IjsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgICBhLmNsaWNrKCk7CiAgICAgICAgICBhLnJlbW92ZSgpOwogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBleHBvcnRCb3VxdWV0KCkgewogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIGh0dHBTZXJ2aWNlCiAgICAgICAgLmRvd25sb2FkKGBwbGF5bGlzdC9leHBvcnQvYm91cXVldC8ke3RoaXMucGxheWxpc3QuaWR9YCkKICAgICAgICAudGhlbigoYmxvYikgPT4gewogICAgICAgICAgdmFyIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgICBhLmhyZWYgPSB1cmw7CiAgICAgICAgICBhLmRvd25sb2FkID0gImV4cG9ydC56aXAiOwogICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICAgIGEuY2xpY2soKTsKICAgICAgICAgIGEucmVtb3ZlKCk7CiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIGV4cG9ydENTVigpIHsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBodHRwU2VydmljZQogICAgICAgIC5kb3dubG9hZChgcGxheWxpc3QvZXhwb3J0L2Nzdi8ke3RoaXMucGxheWxpc3QuaWR9YCkKICAgICAgICAudGhlbigoYmxvYikgPT4gewogICAgICAgICAgdmFyIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgICBhLmhyZWYgPSB1cmw7CiAgICAgICAgICBhLmRvd25sb2FkID0gImV4cG9ydC56aXAiOwogICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICAgIGEuY2xpY2soKTsKICAgICAgICAgIGEucmVtb3ZlKCk7CiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIGV4cG9ydEpTT04oKSB7CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgaHR0cFNlcnZpY2UKICAgICAgICAuZG93bmxvYWQoYHBsYXlsaXN0L2V4cG9ydC9qc29uLyR7dGhpcy5wbGF5bGlzdC5pZH1gKQogICAgICAgIC50aGVuKChibG9iKSA9PiB7CiAgICAgICAgICB2YXIgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICAgIGEuaHJlZiA9IHVybDsKICAgICAgICAgIGEuZG93bmxvYWQgPSAiZXhwb3J0LnppcCI7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOwogICAgICAgICAgYS5jbGljaygpOwogICAgICAgICAgYS5yZW1vdmUoKTsKICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAogICAgYmFja3VwUGxheWxpc3QocGF0aCkgewogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIGh0dHBTZXJ2aWNlCiAgICAgICAgLmRvd25sb2FkKGBwbGF5bGlzdC9iYWNrLXVwLyR7cGF0aH0vJHt0aGlzLnBsYXlsaXN0LmlkfWApCiAgICAgICAgLnRoZW4oKGJsb2IpID0+IHsKICAgICAgICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgYS5ocmVmID0gdXJsOwogICAgICAgICAgYS5kb3dubG9hZCA9ICJiYWNrdXAuemlwIjsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgICBhLmNsaWNrKCk7CiAgICAgICAgICBhLnJlbW92ZSgpOwogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBiYWNrdXBFUEdDb2RlcygpIHsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBodHRwU2VydmljZQogICAgICAgIC5kb3dubG9hZChgcGxheWxpc3QvYmFjay11cC9lcGctY29kZXMvJHt0aGlzLnBsYXlsaXN0LmlkfWApCiAgICAgICAgLnRoZW4oKGJsb2IpID0+IHsKICAgICAgICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgYS5ocmVmID0gdXJsOwogICAgICAgICAgYS5kb3dubG9hZCA9ICJiYWNrdXAuemlwIjsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgICBhLmNsaWNrKCk7CiAgICAgICAgICBhLnJlbW92ZSgpOwogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICByZXN0b3JlRVBHQ29kZXMoZSkgewogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIGlmIChlICYmIGUudGFyZ2V0LmZpbGVzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJiYWNrdXAuemlwIiwgZS50YXJnZXQuZmlsZXNbMF0pOwogICAgICAgIGh0dHBTZXJ2aWNlCiAgICAgICAgICAucG9zdEZpbGUoYHBsYXlsaXN0L3Jlc3RvcmUvZXBnLWNvZGVzLyR7dGhpcy5wbGF5bGlzdC5pZH1gLCBmb3JtRGF0YSkKICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IHRydWUgJiYgcmVzLmRhdGEgPT09IHRydWUpIHsKICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoCiAgICAgICAgICAgICAgICAicHJpbWFyeSIsCiAgICAgICAgICAgICAgICB0aGlzLiR0KCJwcm9maWxlLnN1Y2Nlc3MiKSwKICAgICAgICAgICAgICAgIHRoaXMuJHQoInh0cmVhbS5yZXN0b3JlLWVwZ2NvZGVzLXN1Y2Nlc3MiKSwKICAgICAgICAgICAgICAgICJsYS11c2VyLXNoaWVsZCIsCiAgICAgICAgICAgICAgICB7IGR1cmF0aW9uOiA1MDAwLCBwZXJtYW5lbnQ6IGZhbHNlIH0KICAgICAgICAgICAgICApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSgKICAgICAgICAgICAgICAgICJlcnJvciIsCiAgICAgICAgICAgICAgICB0aGlzLiR0KCJwcm9maWxlLmZhaWxlZCIpLAogICAgICAgICAgICAgICAgdGhpcy4kdCgieHRyZWFtLnJlc3RvcmUtZXBnY29kZXMtZXJyb3IiKSwKICAgICAgICAgICAgICAgICJsYS11c2VyLXNoaWVsZCIsCiAgICAgICAgICAgICAgICB7IGR1cmF0aW9uOiA1MDAwLCBwZXJtYW5lbnQ6IGZhbHNlIH0KICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy4kbm90aWZ5KAogICAgICAgICAgICAgICJlcnJvciIsCiAgICAgICAgICAgICAgdGhpcy4kdCgicHJvZmlsZS5mYWlsZWQiKSwKICAgICAgICAgICAgICB0aGlzLiR0KCJ4dHJlYW0ucmVzdG9yZS1lcGdjb2Rlcy1lcnJvciIpLAogICAgICAgICAgICAgICJsYS11c2VyLXNoaWVsZCIsCiAgICAgICAgICAgICAgeyBkdXJhdGlvbjogNTAwMCwgcGVybWFuZW50OiBmYWxzZSB9CiAgICAgICAgICAgICk7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlc3RvcmVQbGF5bGlzdChlKSB7CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgaWYgKGUgJiYgZS50YXJnZXQuZmlsZXMubGVuZ3RoID09IDEpIHsKICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImJhY2t1cC56aXAiLCBlLnRhcmdldC5maWxlc1swXSk7CiAgICAgICAgaHR0cFNlcnZpY2UKICAgICAgICAgIC5wb3N0RmlsZShgcGxheWxpc3QvcmVzdG9yZS9wbGF5bGlzdC8ke3RoaXMucGxheWxpc3QuaWR9YCwgZm9ybURhdGEpCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlICYmIHJlcy5kYXRhID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KAogICAgICAgICAgICAgICAgInByaW1hcnkiLAogICAgICAgICAgICAgICAgdGhpcy4kdCgicHJvZmlsZS5zdWNjZXNzIiksCiAgICAgICAgICAgICAgICB0aGlzLiR0KCJ4dHJlYW0ucmVzdG9yZS1wbGF5bGlzdC1zdWNjZXNzIiksCiAgICAgICAgICAgICAgICAibGEtdXNlci1zaGllbGQiLAogICAgICAgICAgICAgICAgeyBkdXJhdGlvbjogNTAwMCwgcGVybWFuZW50OiBmYWxzZSB9CiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoCiAgICAgICAgICAgICAgICAiZXJyb3IiLAogICAgICAgICAgICAgICAgdGhpcy4kdCgicHJvZmlsZS5mYWlsZWQiKSwKICAgICAgICAgICAgICAgIHRoaXMuJHQoInh0cmVhbS5yZXN0b3JlLXBsYXlsaXN0LWVycm9yIiksCiAgICAgICAgICAgICAgICAibGEtdXNlci1zaGllbGQiLAogICAgICAgICAgICAgICAgeyBkdXJhdGlvbjogNTAwMCwgcGVybWFuZW50OiBmYWxzZSB9CiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuJG5vdGlmeSgKICAgICAgICAgICAgICAiZXJyb3IiLAogICAgICAgICAgICAgIHRoaXMuJHQoInByb2ZpbGUuZmFpbGVkIiksCiAgICAgICAgICAgICAgdGhpcy4kdCgieHRyZWFtLnJlc3RvcmUtcGxheWxpc3QtZXJyb3IiKSwKICAgICAgICAgICAgICAibGEtdXNlci1zaGllbGQiLAogICAgICAgICAgICAgIHsgZHVyYXRpb246IDUwMDAsIHBlcm1hbmVudDogZmFsc2UgfQogICAgICAgICAgICApOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgfSwKICBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMubG9hZFBsYXlsaXN0cygpOwogICAgRXZlbnRCdXMuJGVtaXQoImNhbi1hZGQtcGxheWxpc3QiLCB0aGlzLmNhbkFkZFBsYXlsaXN0KTsKICAgIEV2ZW50QnVzLiRvbigic2VhcmNoIiwgdGhpcy5zZWFyY2hBY2NvdW50KTsKICAgIEV2ZW50QnVzLiRvbigicHJpbnQiLCB0aGlzLnByaW50QWNjb3VudHMpOwogICAgRXZlbnRCdXMuJG9uKCJyZWZyZXNoIiwgdGhpcy5sb2FkUGxheWxpc3RzKTsKICAgIEV2ZW50QnVzLiRvbigiYWRkIiwgdGhpcy5hZGRQbGF5bGlzdCk7CiAgICBFdmVudEJ1cy4kb24oImNhbmNlbCIsIHRoaXMuY2FuY2VsRWRpdG9yKTsKICAgIEV2ZW50QnVzLiRvbigic2F2ZSIsIHRoaXMuc2F2ZUVkaXRvcik7CiAgICBFdmVudEJ1cy4kb24oInRhYi1jaGFuZ2UiLCB0aGlzLmRvVGFiQ2hhbmdlKTsKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICBFdmVudEJ1cy4kb2ZmKCJzZWFyY2giLCB0aGlzLnNlYXJjaEFjY291bnQpOwogICAgRXZlbnRCdXMuJG9mZigicHJpbnQiLCB0aGlzLnByaW50QWNjb3VudHMpOwogICAgRXZlbnRCdXMuJG9mZigicmVmcmVzaCIsIHRoaXMubG9hZFBsYXlsaXN0cyk7CiAgICBFdmVudEJ1cy4kb2ZmKCJhZGQiLCB0aGlzLmFkZFBsYXlsaXN0KTsKICAgIEV2ZW50QnVzLiRvZmYoImNhbmNlbCIsIHRoaXMuY2FuY2VsRWRpdG9yKTsKICAgIEV2ZW50QnVzLiRvZmYoInNhdmUiLCB0aGlzLnNhdmVFZGl0b3IpOwogICAgRXZlbnRCdXMuJG9mZigidGFiLWNoYW5nZSIsIHRoaXMuZG9UYWJDaGFuZ2UpOwogIH0sCiAgd2F0Y2g6IHsKICAgIGZyb206IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgRXZlbnRCdXMuJGVtaXQoInVwZGF0ZS1mcm9tIiwgdmFsKTsKICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSAwOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDsKICAgIH0sCiAgICB0bzogZnVuY3Rpb24gKHZhbCkgewogICAgICBFdmVudEJ1cy4kZW1pdCgidXBkYXRlLXRvIiwgdmFsKTsKICAgIH0sCiAgICB0b3RhbDogZnVuY3Rpb24gKHZhbCkgewogICAgICBFdmVudEJ1cy4kZW1pdCgidXBkYXRlLXRvdGFsIiwgdmFsKTsKICAgIH0sCiAgICBlZGl0b3I6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgRXZlbnRCdXMuJGVtaXQoInVwZGF0ZS1lZGl0b3IiLCB2YWwpOwogICAgICBpZiAoIXZhbCkgewogICAgICAgIHRoaXMubG9hZFBsYXlsaXN0cygpOwogICAgICB9CiAgICB9LAogICAgY2FuQWRkUGxheWxpc3Q6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgRXZlbnRCdXMuJGVtaXQoImNhbi1hZGQtcGxheWxpc3QiLCB2YWwpOwogICAgfSwKICAgICJwbGF5bGlzdC5zb3VyY2VfaG9zdCI6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKAogICAgICAgIHRoaXMucGxheWxpc3Quc291cmNlX2hvc3QgJiYKICAgICAgICB0aGlzLnBsYXlsaXN0LnNvdXJjZV9ob3N0Lmxlbmd0aCAmJgogICAgICAgIHRoaXMucGxheWxpc3Quc291cmNlX3VzZXJuYW1lICYmCiAgICAgICAgdGhpcy5wbGF5bGlzdC5zb3VyY2VfdXNlcm5hbWUubGVuZ3RoICYmCiAgICAgICAgdGhpcy5wbGF5bGlzdC5zb3VyY2VfcGFzc3dvcmQgJiYKICAgICAgICB0aGlzLnBsYXlsaXN0LnNvdXJjZV9wYXNzd29yZC5sZW5ndGggJiYKICAgICAgICB0aGlzLmVkaXRvcgogICAgICApIHsKICAgICAgICB0aGlzLnBsYXlsaXN0QXV0aCgpOwogICAgICAgIHRoaXMubG9hZEdyb3VwcygpOwogICAgICB9CiAgICB9LAogICAgInBsYXlsaXN0LnVybCI6IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgaWYgKHVybCAhPT0gdW5kZWZpbmVkICYmIHVybC5sZW5ndGgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgbGV0IHUgPSBuZXcgVVJMKHVybCk7CiAgICAgICAgICB0aGlzLnBsYXlsaXN0LnNvdXJjZV9ob3N0ID0gdS5ob3N0bmFtZTsKICAgICAgICAgIHRoaXMucGxheWxpc3Quc291cmNlX3BvcnQgPSB1LnBvcnQ7CiAgICAgICAgICB0aGlzLnBsYXlsaXN0LnNvdXJjZV91c2VybmFtZSA9IHUuc2VhcmNoUGFyYW1zLmdldCgidXNlcm5hbWUiKTsKICAgICAgICAgIHRoaXMucGxheWxpc3Quc291cmNlX3Bhc3N3b3JkID0gdS5zZWFyY2hQYXJhbXMuZ2V0KCJwYXNzd29yZCIpOwogICAgICAgICAgaWYgKCF0aGlzLnBsYXlsaXN0Lm5hbWUubGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMucGxheWxpc3QubmFtZSA9IHUuaG9zdG5hbWUudG9VcHBlckNhc2UoKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIHsKICAgICAgICAgIC8vCiAgICAgICAgfQogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},null]}