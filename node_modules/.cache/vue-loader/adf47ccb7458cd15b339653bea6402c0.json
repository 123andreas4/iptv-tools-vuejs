{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/user/reset-password.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/user/reset-password.vue","mtime":1625770811981},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgaHR0cFNlcnZpY2UgfSBmcm9tICIuLi8uLi9zZXJ2aWNlcy9odHRwIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICIiLAogICAgICB1c2VybmFtZTogIiIsCiAgICAgIHJlc2V0OiBmYWxzZSwKICAgICAgZXJyb3I6IGZhbHNlLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsicHJvY2Vzc2luZyJdKSwKICAgIHZhbGlkRW1haWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmVtYWlsLm1hdGNoKC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC8pCiAgICB9LAogICAgdmFsaWRVc2VybmFtZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudXNlcm5hbWUubWF0Y2goL15bYS16QS1aMC05X117NSwyMH1bYS16QS1aXStbMC05XSokLykKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWyJjaGVja1VzZXJuYW1lIiwgInJlZ2lzdGVyIl0pLAogICAgY29uZmlybUVtYWlsKCkgewogICAgICBodHRwU2VydmljZS5wb3N0KCd1c2Vycy9jb25maXJtJywgeyBjb2RlOiB0aGlzLmNvZGUgfSkKICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSAmJiByZXMuZGF0YSA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5jb2RlID0gIiI7CiAgICAgICAgICB0aGlzLmNvbmZpcm1lZCA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY29kZSAgPSAiIjsKICAgICAgICAgIHRoaXMuY29uZmlybWVkID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSkKICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLmNvZGUgID0gIiI7CiAgICAgICAgdGhpcy5jb25maXJtZWQgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlOwogICAgICB9KQogICAgICB0aGlzLmNvbmZpcm1lZCA9IHRydWUKICAgIH0sCiAgICBnb3RvTG9naW4oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgcGF0aDogIi91c2VyL2xvZ2luIiB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["reset-password.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"reset-password.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n  <erd-row class=\"h-100\">\n    <erd-col sm=\"12\" md=\"10\" lg=\"7\" class=\"mx-auto my-auto pb-5\">\n      <erd-card class=\"depth-4 register\">\n        <div class=\"image-side\">\n          <div class=\"title\">\n            <h1>{{ $t(\"reset.head\") }}</h1>\n            <h5>{{ $t(\"reset.subtitle\") }}</h5>\n          </div>\n          <transition name=\"fade\">\n            <erd-spinner\n              variant=\"primary\"\n              v-if=\"processing\"\n              size=\"lg\"\n            ></erd-spinner>\n          </transition>\n        </div>\n        <div class=\"form-side\">\n          <h1 class=\"title\">{{ $t(\"reset.title\") }}</h1>\n          <div class=\"form\">\n            <div class=\"px-4 text-center\">\n              <p>{{ $t(\"reset.text\") }}</p>\n            </div>\n            <div class=\"pb-2\">\n              <label for=\"email\">{{ $t(\"register.email\") }}</label>\n              <erd-input\n                id=\"email\"\n                :placeholder=\"$t('register.email')\"\n                v-model=\"email\"\n              ></erd-input>\n            </div>\n            <div class=\"pb-2\">\n              <label for=\"username\">{{ $t(\"register.username\") }}</label>\n              <erd-input\n                id=\"username\"\n                :placeholder=\"$t('register.username')\"\n                v-model=\"username\"\n              ></erd-input>\n            </div>\n            <div class=\"py-5 text-center\">\n              <erd-button\n                variant=\"primary\"\n                @click=\"confirmEmail\"\n                v-if=\"!confirmed\"\n                :disabled=\"!validEmail || !validUsername\"\n                >{{ $t(\"reset.reset\") }}</erd-button\n              >\n              <p class=\"mt-5 font-weight-bold\" v-if=\"confirmed\">{{ $t(\"confirm.thank-you\") }}</p>\n              <p class=\"mt-5 font-weight-bold text-danger\" v-if=\"error\">{{ $t(\"confirm.error\") }}</p>\n            </div>\n          </div>\n        </div>\n      </erd-card>\n    </erd-col>\n  </erd-row>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nimport { httpService } from \"../../services/http\";\n\nexport default {\n  data() {\n    return {\n      email: \"\",\n      username: \"\",\n      reset: false,\n      error: false,\n    };\n  },\n  computed: {\n    ...mapGetters([\"processing\"]),\n    validEmail() {\n      return this.email.match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)\n    },\n    validUsername() {\n      return this.username.match(/^[a-zA-Z0-9_]{5,20}[a-zA-Z]+[0-9]*$/)\n    }\n  },\n  methods: {\n    ...mapActions([\"checkUsername\", \"register\"]),\n    confirmEmail() {\n      httpService.post('users/confirm', { code: this.code })\n      .then(res => {\n        if (res.status === true && res.data === true) {\n          this.code = \"\";\n          this.confirmed = true;\n        } else {\n          this.code  = \"\";\n          this.confirmed = true;\n          this.error = true;\n        }\n      })\n      .catch(() => {\n        this.code  = \"\";\n        this.confirmed = true;\n        this.error = true;\n      })\n      this.confirmed = true\n    },\n    gotoLogin() {\n      this.$router.replace({ path: \"/user/login\" });\n    }\n  }\n};\n</script>"]}]}