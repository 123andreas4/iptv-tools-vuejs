{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/bootstrap-vue/esm/components/table/helpers/mixin-thead.js","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/bootstrap-vue/esm/components/table/helpers/mixin-thead.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwoKZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgewogIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsKfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgewogIGlmICghbykgcmV0dXJuOwogIGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOwogIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsKICBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsKICBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOwogIGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgewogIGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOwp9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgewogIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOwoKICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsKICAgIGFycjJbaV0gPSBhcnJbaV07CiAgfQoKICByZXR1cm4gYXJyMjsKfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgppbXBvcnQgeyBWdWUgfSBmcm9tICcuLi8uLi8uLi92dWUnOwppbXBvcnQgeyBFVkVOVF9OQU1FX0hFQURfQ0xJQ0tFRCB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy9ldmVudHMnOwppbXBvcnQgeyBDT0RFX0VOVEVSLCBDT0RFX1NQQUNFIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzL2tleS1jb2Rlcyc7CmltcG9ydCB7IFBST1BfVFlQRV9BUlJBWV9PQkpFQ1RfU1RSSU5HLCBQUk9QX1RZUEVfU1RSSU5HIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzL3Byb3BzJzsKaW1wb3J0IHsgU0xPVF9OQU1FX1RIRUFEX1RPUCB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy9zbG90cyc7CmltcG9ydCB7IHN0b3BFdmVudCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2V2ZW50cyc7CmltcG9ydCB7IGh0bWxPclRleHQgfSBmcm9tICcuLi8uLi8uLi91dGlscy9odG1sJzsKaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9pZGVudGl0eSc7CmltcG9ydCB7IGlzVW5kZWZpbmVkT3JOdWxsIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaW5zcGVjdCc7CmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi8uLi8uLi91dGlscy9ub29wJzsKaW1wb3J0IHsgbWFrZVByb3AgfSBmcm9tICcuLi8uLi8uLi91dGlscy9wcm9wcyc7CmltcG9ydCB7IHN0YXJ0Q2FzZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3N0cmluZyc7CmltcG9ydCB7IEJUaGVhZCB9IGZyb20gJy4uL3RoZWFkJzsKaW1wb3J0IHsgQlRmb290IH0gZnJvbSAnLi4vdGZvb3QnOwppbXBvcnQgeyBCVHIgfSBmcm9tICcuLi90cic7CmltcG9ydCB7IEJUaCB9IGZyb20gJy4uL3RoJzsKaW1wb3J0IHsgZmlsdGVyRXZlbnQgfSBmcm9tICcuL2ZpbHRlci1ldmVudCc7CmltcG9ydCB7IHRleHRTZWxlY3Rpb25BY3RpdmUgfSBmcm9tICcuL3RleHQtc2VsZWN0aW9uLWFjdGl2ZSc7IC8vIC0tLSBIZWxwZXIgbWV0aG9kcyAtLS0KCnZhciBnZXRIZWFkU2xvdE5hbWUgPSBmdW5jdGlvbiBnZXRIZWFkU2xvdE5hbWUodmFsdWUpIHsKICByZXR1cm4gImhlYWQoIi5jb25jYXQodmFsdWUgfHwgJycsICIpIik7Cn07Cgp2YXIgZ2V0Rm9vdFNsb3ROYW1lID0gZnVuY3Rpb24gZ2V0Rm9vdFNsb3ROYW1lKHZhbHVlKSB7CiAgcmV0dXJuICJmb290KCIuY29uY2F0KHZhbHVlIHx8ICcnLCAiKSIpOwp9OyAvLyAtLS0gUHJvcHMgLS0tCgoKZXhwb3J0IHZhciBwcm9wcyA9IHsKICAvLyBBbnkgQm9vdHN0cmFwIHRoZW1lIHZhcmlhbnQgKG9yIGN1c3RvbSkKICBoZWFkUm93VmFyaWFudDogbWFrZVByb3AoUFJPUF9UWVBFX1NUUklORyksCiAgLy8gJ2xpZ2h0JywgJ2RhcmsnIG9yIGBudWxsYCAob3IgY3VzdG9tKQogIGhlYWRWYXJpYW50OiBtYWtlUHJvcChQUk9QX1RZUEVfU1RSSU5HKSwKICB0aGVhZENsYXNzOiBtYWtlUHJvcChQUk9QX1RZUEVfQVJSQVlfT0JKRUNUX1NUUklORyksCiAgdGhlYWRUckNsYXNzOiBtYWtlUHJvcChQUk9QX1RZUEVfQVJSQVlfT0JKRUNUX1NUUklORykKfTsgLy8gLS0tIE1peGluIC0tLQovLyBAdnVlL2NvbXBvbmVudAoKZXhwb3J0IHZhciB0aGVhZE1peGluID0gVnVlLmV4dGVuZCh7CiAgcHJvcHM6IHByb3BzLAogIG1ldGhvZHM6IHsKICAgIGZpZWxkQ2xhc3NlczogZnVuY3Rpb24gZmllbGRDbGFzc2VzKGZpZWxkKSB7CiAgICAgIC8vIEhlYWRlciBmaWVsZCAoPHRoPikgY2xhc3NlcwogICAgICByZXR1cm4gW2ZpZWxkLmNsYXNzID8gZmllbGQuY2xhc3MgOiAnJywgZmllbGQudGhDbGFzcyA/IGZpZWxkLnRoQ2xhc3MgOiAnJ107CiAgICB9LAogICAgaGVhZENsaWNrZWQ6IGZ1bmN0aW9uIGhlYWRDbGlja2VkKGV2ZW50LCBmaWVsZCwgaXNGb290KSB7CiAgICAgIGlmICh0aGlzLnN0b3BJZkJ1c3kgJiYgdGhpcy5zdG9wSWZCdXN5KGV2ZW50KSkgewogICAgICAgIC8vIElmIHRhYmxlIGlzIGJ1c3kgKHZpYSBwcm92aWRlcikgdGhlbiBkb24ndCBwcm9wYWdhdGUKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyRXZlbnQoZXZlbnQpKSB7CiAgICAgICAgLy8gQ2xpY2tlZCBvbiBhIG5vbi1kaXNhYmxlZCBjb250cm9sIHNvIGlnbm9yZQogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0ZXh0U2VsZWN0aW9uQWN0aXZlKHRoaXMuJGVsKSkgewogICAgICAgIC8vIFVzZXIgaXMgc2VsZWN0aW5nIHRleHQsIHNvIGlnbm9yZQoKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogSlNET00gZG9lc24ndCBzdXBwb3J0IGdldFNlbGVjdGlvbigpICovCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBzdG9wRXZlbnQoZXZlbnQpOwogICAgICB0aGlzLiRlbWl0KEVWRU5UX05BTUVfSEVBRF9DTElDS0VELCBmaWVsZC5rZXksIGZpZWxkLCBldmVudCwgaXNGb290KTsKICAgIH0sCiAgICByZW5kZXJUaGVhZDogZnVuY3Rpb24gcmVuZGVyVGhlYWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgaXNGb290ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTsKICAgICAgdmFyIGZpZWxkcyA9IHRoaXMuY29tcHV0ZWRGaWVsZHMsCiAgICAgICAgICBpc1NvcnRhYmxlID0gdGhpcy5pc1NvcnRhYmxlLAogICAgICAgICAgaXNTZWxlY3RhYmxlID0gdGhpcy5pc1NlbGVjdGFibGUsCiAgICAgICAgICBoZWFkVmFyaWFudCA9IHRoaXMuaGVhZFZhcmlhbnQsCiAgICAgICAgICBmb290VmFyaWFudCA9IHRoaXMuZm9vdFZhcmlhbnQsCiAgICAgICAgICBoZWFkUm93VmFyaWFudCA9IHRoaXMuaGVhZFJvd1ZhcmlhbnQsCiAgICAgICAgICBmb290Um93VmFyaWFudCA9IHRoaXMuZm9vdFJvd1ZhcmlhbnQ7CiAgICAgIHZhciBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDsgLy8gSW4gYWx3YXlzIHN0YWNrZWQgbW9kZSwgd2UgZG9uJ3QgYm90aGVyIHJlbmRlcmluZyB0aGUgaGVhZC9mb290CiAgICAgIC8vIE9yIGlmIG5vIGZpZWxkIGhlYWRpbmdzIChlbXB0eSB0YWJsZSkKCiAgICAgIGlmICh0aGlzLmlzU3RhY2tlZEFsd2F5cyB8fCBmaWVsZHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIGgoKTsKICAgICAgfQoKICAgICAgdmFyIGhhc0hlYWRDbGlja0xpc3RlbmVyID0gaXNTb3J0YWJsZSB8fCB0aGlzLmhhc0xpc3RlbmVyKEVWRU5UX05BTUVfSEVBRF9DTElDS0VEKTsgLy8gUmVmZXJlbmNlIHRvIGBzZWxlY3RBbGxSb3dzYCBhbmQgYGNsZWFyU2VsZWN0ZWQoKWAsIGlmIHRhYmxlIGlzIHNlbGVjdGFibGUKCiAgICAgIHZhciBzZWxlY3RBbGxSb3dzID0gaXNTZWxlY3RhYmxlID8gdGhpcy5zZWxlY3RBbGxSb3dzIDogbm9vcDsKICAgICAgdmFyIGNsZWFyU2VsZWN0ZWQgPSBpc1NlbGVjdGFibGUgPyB0aGlzLmNsZWFyU2VsZWN0ZWQgOiBub29wOyAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgYSBmaWVsZCA8dGg+IGNlbGwKCiAgICAgIHZhciBtYWtlQ2VsbCA9IGZ1bmN0aW9uIG1ha2VDZWxsKGZpZWxkLCBjb2xJbmRleCkgewogICAgICAgIHZhciBsYWJlbCA9IGZpZWxkLmxhYmVsLAogICAgICAgICAgICBsYWJlbEh0bWwgPSBmaWVsZC5sYWJlbEh0bWwsCiAgICAgICAgICAgIHZhcmlhbnQgPSBmaWVsZC52YXJpYW50LAogICAgICAgICAgICBzdGlja3lDb2x1bW4gPSBmaWVsZC5zdGlja3lDb2x1bW4sCiAgICAgICAgICAgIGtleSA9IGZpZWxkLmtleTsKICAgICAgICB2YXIgYXJpYUxhYmVsID0gbnVsbDsKCiAgICAgICAgaWYgKCFmaWVsZC5sYWJlbC50cmltKCkgJiYgIWZpZWxkLmhlYWRlclRpdGxlKSB7CiAgICAgICAgICAvLyBJbiBjYXNlIGZpZWxkJ3MgbGFiZWwgYW5kIHRpdGxlIGFyZSBlbXB0eS9ibGFuawogICAgICAgICAgLy8gV2UgbmVlZCB0byBhZGQgYSBoaW50IGFib3V0IHdoYXQgdGhlIGNvbHVtbiBpcyBhYm91dCBmb3Igbm9uLXNpZ2h0ZWQgdXNlcnMKCiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICAgICAgYXJpYUxhYmVsID0gc3RhcnRDYXNlKGZpZWxkLmtleSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgb24gPSB7fTsKCiAgICAgICAgaWYgKGhhc0hlYWRDbGlja0xpc3RlbmVyKSB7CiAgICAgICAgICBvbi5jbGljayA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICBfdGhpcy5oZWFkQ2xpY2tlZChldmVudCwgZmllbGQsIGlzRm9vdCk7CiAgICAgICAgICB9OwoKICAgICAgICAgIG9uLmtleWRvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgdmFyIGtleUNvZGUgPSBldmVudC5rZXlDb2RlOwoKICAgICAgICAgICAgaWYgKGtleUNvZGUgPT09IENPREVfRU5URVIgfHwga2V5Q29kZSA9PT0gQ09ERV9TUEFDRSkgewogICAgICAgICAgICAgIF90aGlzLmhlYWRDbGlja2VkKGV2ZW50LCBmaWVsZCwgaXNGb290KTsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIHZhciBzb3J0QXR0cnMgPSBpc1NvcnRhYmxlID8gX3RoaXMuc29ydFRoZWFkVGhBdHRycyhrZXksIGZpZWxkLCBpc0Zvb3QpIDoge307CiAgICAgICAgdmFyIHNvcnRDbGFzcyA9IGlzU29ydGFibGUgPyBfdGhpcy5zb3J0VGhlYWRUaENsYXNzZXMoa2V5LCBmaWVsZCwgaXNGb290KSA6IG51bGw7CiAgICAgICAgdmFyIHNvcnRMYWJlbCA9IGlzU29ydGFibGUgPyBfdGhpcy5zb3J0VGhlYWRUaExhYmVsKGtleSwgZmllbGQsIGlzRm9vdCkgOiBudWxsOwogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgY2xhc3M6IFtfdGhpcy5maWVsZENsYXNzZXMoZmllbGQpLCBzb3J0Q2xhc3NdLAogICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgdmFyaWFudDogdmFyaWFudCwKICAgICAgICAgICAgc3RpY2t5Q29sdW1uOiBzdGlja3lDb2x1bW4KICAgICAgICAgIH0sCiAgICAgICAgICBzdHlsZTogZmllbGQudGhTdHlsZSB8fCB7fSwKICAgICAgICAgIGF0dHJzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAvLyBXZSBvbmx5IGFkZCBhIGB0YWJpbmRleGAgb2YgYDBgIGlmIHRoZXJlIGlzIGEgaGVhZC1jbGlja2VkIGxpc3RlbmVyCiAgICAgICAgICAgIC8vIGFuZCB0aGUgY3VycmVudCBmaWVsZCBpcyBzb3J0YWJsZQogICAgICAgICAgICB0YWJpbmRleDogaGFzSGVhZENsaWNrTGlzdGVuZXIgJiYgZmllbGQuc29ydGFibGUgPyAnMCcgOiBudWxsLAogICAgICAgICAgICBhYmJyOiBmaWVsZC5oZWFkZXJBYmJyIHx8IG51bGwsCiAgICAgICAgICAgIHRpdGxlOiBmaWVsZC5oZWFkZXJUaXRsZSB8fCBudWxsLAogICAgICAgICAgICAnYXJpYS1jb2xpbmRleCc6IGNvbEluZGV4ICsgMSwKICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiBhcmlhTGFiZWwKICAgICAgICAgIH0sIF90aGlzLmdldFRoVmFsdWVzKG51bGwsIGtleSwgZmllbGQudGhBdHRyLCBpc0Zvb3QgPyAnZm9vdCcgOiAnaGVhZCcsIHt9KSksIHNvcnRBdHRycyksCiAgICAgICAgICBvbjogb24sCiAgICAgICAgICBrZXk6IGtleQogICAgICAgIH07IC8vIEhhbmRsZSBlZGdlIGNhc2Ugd2hlcmUgaW4tZG9jdW1lbnQgdGVtcGxhdGVzIGFyZSB1c2VkIHdpdGggbmV3CiAgICAgICAgLy8gYHYtc2xvdDpuYW1lYCBzeW50YXggd2hlcmUgdGhlIGJyb3dzZXIgbG93ZXItY2FzZXMgdGhlIHYtc2xvdCdzCiAgICAgICAgLy8gbmFtZSAoYXR0cmlidXRlcyBiZWNvbWUgbG93ZXIgY2FzZWQgd2hlbiBwYXJzZWQgYnkgdGhlIGJyb3dzZXIpCiAgICAgICAgLy8gV2UgaGF2ZSByZXBsYWNlZCB0aGUgc3F1YXJlIGJyYWNrZXQgc3ludGF4IHdpdGggcm91bmQgYnJhY2tldHMKICAgICAgICAvLyB0byBwcmV2ZW50IGNvbmZ1c2lvbiB3aXRoIGR5bmFtaWMgc2xvdCBuYW1lcwoKICAgICAgICB2YXIgc2xvdE5hbWVzID0gW2dldEhlYWRTbG90TmFtZShrZXkpLCBnZXRIZWFkU2xvdE5hbWUoa2V5LnRvTG93ZXJDYXNlKCkpLCBnZXRIZWFkU2xvdE5hbWUoKV07IC8vIEZvb3RlciB3aWxsIGZhbGxiYWNrIHRvIGhlYWRlciBzbG90IG5hbWVzCgogICAgICAgIGlmIChpc0Zvb3QpIHsKICAgICAgICAgIHNsb3ROYW1lcyA9IFtnZXRGb290U2xvdE5hbWUoa2V5KSwgZ2V0Rm9vdFNsb3ROYW1lKGtleS50b0xvd2VyQ2FzZSgpKSwgZ2V0Rm9vdFNsb3ROYW1lKCldLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc2xvdE5hbWVzKSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgc2NvcGUgPSB7CiAgICAgICAgICBsYWJlbDogbGFiZWwsCiAgICAgICAgICBjb2x1bW46IGtleSwKICAgICAgICAgIGZpZWxkOiBmaWVsZCwKICAgICAgICAgIGlzRm9vdDogaXNGb290LAogICAgICAgICAgLy8gQWRkIGluIHJvdyBzZWxlY3QgbWV0aG9kcwogICAgICAgICAgc2VsZWN0QWxsUm93czogc2VsZWN0QWxsUm93cywKICAgICAgICAgIGNsZWFyU2VsZWN0ZWQ6IGNsZWFyU2VsZWN0ZWQKICAgICAgICB9OwogICAgICAgIHZhciAkY29udGVudCA9IF90aGlzLm5vcm1hbGl6ZVNsb3Qoc2xvdE5hbWVzLCBzY29wZSkgfHwgaCgnZGl2JywgewogICAgICAgICAgZG9tUHJvcHM6IGh0bWxPclRleHQobGFiZWxIdG1sLCBsYWJlbCkKICAgICAgICB9KTsKICAgICAgICB2YXIgJHNyTGFiZWwgPSBzb3J0TGFiZWwgPyBoKCdzcGFuJywgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICdzci1vbmx5JwogICAgICAgIH0sICIgKCIuY29uY2F0KHNvcnRMYWJlbCwgIikiKSkgOiBudWxsOyAvLyBSZXR1cm4gdGhlIGhlYWRlciBjZWxsCgogICAgICAgIHJldHVybiBoKEJUaCwgZGF0YSwgWyRjb250ZW50LCAkc3JMYWJlbF0uZmlsdGVyKGlkZW50aXR5KSk7CiAgICAgIH07IC8vIEdlbmVyYXRlIHRoZSBhcnJheSBvZiA8dGg+IGNlbGxzCgoKICAgICAgdmFyICRjZWxscyA9IGZpZWxkcy5tYXAobWFrZUNlbGwpLmZpbHRlcihpZGVudGl0eSk7IC8vIEdlbmVyYXRlIHRoZSByb3cocykKCiAgICAgIHZhciAkdHJzID0gW107CgogICAgICBpZiAoaXNGb290KSB7CiAgICAgICAgJHRycy5wdXNoKGgoQlRyLCB7CiAgICAgICAgICBjbGFzczogdGhpcy50Zm9vdFRyQ2xhc3MsCiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICB2YXJpYW50OiBpc1VuZGVmaW5lZE9yTnVsbChmb290Um93VmFyaWFudCkgPyBoZWFkUm93VmFyaWFudCA6CiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICAgICAgICAgIGZvb3RSb3dWYXJpYW50CiAgICAgICAgICB9CiAgICAgICAgfSwgJGNlbGxzKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHNjb3BlID0gewogICAgICAgICAgY29sdW1uczogZmllbGRzLmxlbmd0aCwKICAgICAgICAgIGZpZWxkczogZmllbGRzLAogICAgICAgICAgLy8gQWRkIGluIHJvdyBzZWxlY3QgbWV0aG9kcwogICAgICAgICAgc2VsZWN0QWxsUm93czogc2VsZWN0QWxsUm93cywKICAgICAgICAgIGNsZWFyU2VsZWN0ZWQ6IGNsZWFyU2VsZWN0ZWQKICAgICAgICB9OwogICAgICAgICR0cnMucHVzaCh0aGlzLm5vcm1hbGl6ZVNsb3QoU0xPVF9OQU1FX1RIRUFEX1RPUCwgc2NvcGUpIHx8IGgoKSk7CiAgICAgICAgJHRycy5wdXNoKGgoQlRyLCB7CiAgICAgICAgICBjbGFzczogdGhpcy50aGVhZFRyQ2xhc3MsCiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICB2YXJpYW50OiBoZWFkUm93VmFyaWFudAogICAgICAgICAgfQogICAgICAgIH0sICRjZWxscykpOwogICAgICB9CgogICAgICByZXR1cm4gaChpc0Zvb3QgPyBCVGZvb3QgOiBCVGhlYWQsIHsKICAgICAgICBjbGFzczogKGlzRm9vdCA/IHRoaXMudGZvb3RDbGFzcyA6IHRoaXMudGhlYWRDbGFzcykgfHwgbnVsbCwKICAgICAgICBwcm9wczogaXNGb290ID8gewogICAgICAgICAgZm9vdFZhcmlhbnQ6IGZvb3RWYXJpYW50IHx8IGhlYWRWYXJpYW50IHx8IG51bGwKICAgICAgICB9IDogewogICAgICAgICAgaGVhZFZhcmlhbnQ6IGhlYWRWYXJpYW50IHx8IG51bGwKICAgICAgICB9LAogICAgICAgIGtleTogaXNGb290ID8gJ2J2LXRmb290JyA6ICdidi10aGVhZCcKICAgICAgfSwgJHRycyk7CiAgICB9CiAgfQp9KTs="},null]}