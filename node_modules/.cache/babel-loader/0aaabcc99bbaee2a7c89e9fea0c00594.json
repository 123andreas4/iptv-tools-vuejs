{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/user/subscription.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/user/subscription.vue","mtime":1624448620557},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL21lZGlhL2VybnN0LzYzYmNlNDNjLTVlNTEtNGJmMS1hNjExLTNhZmRmMzJhYzZmNi9WdWVKUy9JUFRWLVRvb2xzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgovKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqLwoKLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi8KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBodHRwU2VydmljZSB9IGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL2h0dHAiOwppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL2VidXMiOwppbXBvcnQgeyBQYXltZW50V2Vic2l0ZSB9IGZyb20gIi4uLy4uLy4uL2NvbnN0YW50cy9jb25maWciOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1haWx0bzogImNvbnRhY3RAZXJkZXNpZ25zLmV1IiwKICAgICAgbW9kYWw6IGZhbHNlLAogICAgICBtb2RhbDI6IGZhbHNlLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBzdWJzY3JpcHRpb246IG51bGwsCiAgICAgIG5ld1N1YnNjcmlwdGlvbjogewogICAgICAgIGlkOiAwLAogICAgICAgIGRlc2NyaXB0aW9uOiAiIiwKICAgICAgICBtb250aHM6ICIxIiwKICAgICAgICBpdGVtczogW10sCiAgICAgICAgYW1vdW50OiAiMC4wMCIsCiAgICAgICAgY3VycmVuY3k6ICJFVVIiLAogICAgICAgIHByaWNlOiAwLAogICAgICAgIHBsYXlsaXN0X3R5cGU6IDEKICAgICAgfSwKICAgICAgZGF5czogW3sKICAgICAgICB2YWx1ZTogIjEiLAogICAgICAgIHRleHQ6IHRoaXMuJHQoInN1YnNjcmlwdGlvbnMuMS1tb250aCIpCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogIjIiLAogICAgICAgIHRleHQ6IHRoaXMuJHQoInN1YnNjcmlwdGlvbnMuMi1tb250aCIpCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogIjMiLAogICAgICAgIHRleHQ6IHRoaXMuJHQoInN1YnNjcmlwdGlvbnMuMy1tb250aCIpCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogIjYiLAogICAgICAgIHRleHQ6IHRoaXMuJHQoInN1YnNjcmlwdGlvbnMuNi1tb250aCIpCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogIjEyIiwKICAgICAgICB0ZXh0OiB0aGlzLiR0KCJzdWJzY3JpcHRpb25zLjEteWVhciIpCiAgICAgIH1dLAogICAgICBwbGF5bGlzdFR5cGVzOiBbewogICAgICAgIHZhbHVlOiAiMSIsCiAgICAgICAgdGV4dDogdGhpcy4kdCgic3Vic2NyaXB0aW9ucy54dHJlYW0iKQogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICIyIiwKICAgICAgICB0ZXh0OiB0aGlzLiR0KCJzdWJzY3JpcHRpb25zLm0zdSIpCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogIjMiLAogICAgICAgIHRleHQ6IHRoaXMuJHQoInN1YnNjcmlwdGlvbnMucG9ydGFsIikKICAgICAgfV0sCiAgICAgIHBlcnNvbmFsOiBbewogICAgICAgIHRpdGxlOiB0aGlzLiR0KCJzdWJzY3JpcHRpb25zLmVudGh1c2lhc3QiKSwKICAgICAgICBpY29uOiAibGEtY29tcGFzcyIsCiAgICAgICAgcHJpY2U6ICIyLDUwIiwKICAgICAgICBsaXN0OiBbdGhpcy4kdCgic3Vic2NyaXB0aW9ucy4yLXBsYXlsaXN0cyIpLCB0aGlzLiR0KCJzdWJzY3JpcHRpb25zLnVubGltaXRlZC1jaGFubmVscyIpLCB0aGlzLiR0KCJzdWJzY3JpcHRpb25zLmxpdmUtb25seSIpLCB0aGlzLiR0KCJzdWJzY3JpcHRpb25zLmRhaWx5LXN5bmMiKSwgdGhpcy4kdCgic3Vic2NyaXB0aW9ucy5lcGctc3VwcG9ydCIpLCAiLSIsICItIl0sCiAgICAgICAgaWQ6IDAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiB0aGlzLiR0KCJzdWJzY3JpcHRpb25zLnByb2Zlc3Npb25hbCIpLAogICAgICAgIGljb246ICJsYS11c2VyLXRpZSIsCiAgICAgICAgcHJpY2U6ICI1LDAwIiwKICAgICAgICBsaXN0OiBbdGhpcy4kdCgic3Vic2NyaXB0aW9ucy4yLXBsYXlsaXN0cyIpLCB0aGlzLiR0KCJzdWJzY3JpcHRpb25zLnVubGltaXRlZC1jaGFubmVscyIpLCB0aGlzLiR0KCJzdWJzY3JpcHRpb25zLmxpdmUtbW92aWVzLXNlcmllcyIpLCB0aGlzLiR0KCJzdWJzY3JpcHRpb25zLmRhaWx5LXN5bmMiKSwgdGhpcy4kdCgic3Vic2NyaXB0aW9ucy5lcGctc3VwcG9ydCIpLCB0aGlzLiR0KCJzdWJzY3JpcHRpb25zLmZyZWUtdG9vbHMiKSwgIi0iXSwKICAgICAgICBpZDogMQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6IHRoaXMuJHQoInN1YnNjcmlwdGlvbnMucHJvLXBsdXMiKSwKICAgICAgICBpY29uOiAibGEtdXNlcnMiLAogICAgICAgIHByaWNlOiAiMTAsMDAiLAogICAgICAgIGxpc3Q6IFt0aGlzLiR0KCJzdWJzY3JpcHRpb25zLjUtcGxheWxpc3RzIiksIHRoaXMuJHQoInN1YnNjcmlwdGlvbnMudW5saW1pdGVkLWNoYW5uZWxzIiksIHRoaXMuJHQoInN1YnNjcmlwdGlvbnMubGl2ZS1tb3ZpZXMtc2VyaWVzIiksIHRoaXMuJHQoInN1YnNjcmlwdGlvbnMuZGFpbHktc3luYyIpLCB0aGlzLiR0KCJzdWJzY3JpcHRpb25zLmVwZy1zdXBwb3J0IiksIHRoaXMuJHQoInN1YnNjcmlwdGlvbnMuZnJlZS10b29scyIpLCB0aGlzLiR0KCJzdWJzY3JpcHRpb25zLjUtNy1jb250YWN0IildLAogICAgICAgIGlkOiAyCiAgICAgIH1dCiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsibG9nb3V0Il0pKSwge30sIHsKICAgIGxvYWRTdWJzY3JpcHRpb246IGZ1bmN0aW9uIGxvYWRTdWJzY3JpcHRpb24oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBodHRwU2VydmljZS5nZXQoInVzZXJzL3N1YnNjcmlwdGlvbnMiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IHRydWUpIHsKICAgICAgICAgIF90aGlzLnN1YnNjcmlwdGlvbiA9IEFycmF5LmlzQXJyYXkocmVzLmRhdGEpICYmIHJlcy5kYXRhLmxlbmd0aCA+IDAgPyByZXMuZGF0YVswXSA6IF90aGlzLmN1cnJlbnRVc2VyLnN1YnNjcmlwdGlvbjsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpcy5zdWJzY3JpcHRpb24gPSBfdGhpcy5jdXJyZW50VXNlci5zdWJzY3JpcHRpb247CiAgICAgIH0pOwogICAgfSwKICAgIHBhZ2VQcmludDogZnVuY3Rpb24gcGFnZVByaW50KCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Vic2NyaXB0aW9uIikucHJpbnQoKTsKICAgIH0sCiAgICBzaG93TW9kYWw6IGZ1bmN0aW9uIHNob3dNb2RhbChpdGVtKSB7CiAgICAgIHRoaXMubmV3U3Vic2NyaXB0aW9uLmRlc2NyaXB0aW9uID0gaXRlbS50aXRsZTsKICAgICAgdGhpcy5uZXdTdWJzY3JpcHRpb24uaWQgPSBpdGVtLmlkOwogICAgICB0aGlzLm5ld1N1YnNjcmlwdGlvbi5pdGVtcyA9IFt7CiAgICAgICAgbmFtZTogIklQVFYtVG9vbHMgU3Vic2NyaXB0aW9uIiwKICAgICAgICBkZXNjcmlwdGlvbjogaXRlbS50aXRsZSwKICAgICAgICBxdWFudGl0eTogIjEiLAogICAgICAgIHByaWNlOiBpdGVtLnByaWNlLnJlcGxhY2UoIiwiLCAiLiIpLAogICAgICAgIGN1cnJlbmN5OiAiRVVSIgogICAgICB9XTsKICAgICAgdGhpcy5uZXdTdWJzY3JpcHRpb24ucHJpY2UgPSBpdGVtLnByaWNlOwogICAgICB0aGlzLm5ld1N1YnNjcmlwdGlvbi5hbW91bnQgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQoImVuLVVTIikuZm9ybWF0KGl0ZW0ucHJpY2UucmVwbGFjZSgiLCIsICIuIikgKiB0aGlzLm5ld1N1YnNjcmlwdGlvbi5tb250aHMpOwogICAgICB0aGlzLm1vZGFsID0gdHJ1ZTsKICAgIH0sCiAgICBjbG9zZU1vZGFsOiBmdW5jdGlvbiBjbG9zZU1vZGFsKCkgewogICAgICB0aGlzLm1vZGFsID0gZmFsc2U7CiAgICAgIHRoaXMubW9kYWwyID0gZmFsc2U7CiAgICB9LAogICAgcGF5cGFsQXBwcm92ZTogZnVuY3Rpb24gcGF5cGFsQXBwcm92ZShkZXRhaWxzKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGVuZF9kYXRlID0gbmV3IERhdGUoKTsKCiAgICAgIHN3aXRjaCAocGFyc2VJbnQodGhpcy5uZXdTdWJzY3JpcHRpb24ubW9udGhzKSkgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIGVuZF9kYXRlLnNldERhdGUoZW5kX2RhdGUuZ2V0RGF0ZSgpICsgMzApOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIGVuZF9kYXRlLnNldERhdGUoZW5kX2RhdGUuZ2V0RGF0ZSgpICsgNjApOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIGVuZF9kYXRlLnNldERhdGUoZW5kX2RhdGUuZ2V0RGF0ZSgpICsgOTApOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNjoKICAgICAgICAgIGVuZF9kYXRlLnNldERhdGUoZW5kX2RhdGUuZ2V0RGF0ZSgpICsgMTgwKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDEyOgogICAgICAgICAgZW5kX2RhdGUuc2V0RGF0ZShlbmRfZGF0ZS5nZXREYXRlKCkgKyAzNjUpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHZhciBtYXhQbGF5bGlzdCA9IDE7CgogICAgICBzd2l0Y2ggKHRoaXMubmV3U3Vic2NyaXB0aW9uLmlkKSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgbWF4UGxheWxpc3QgPSAyOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMToKICAgICAgICAgIG1heFBsYXlsaXN0ID0gMjsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBtYXhQbGF5bGlzdCA9IDU7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgbWF4UGxheWxpc3QgPSA1OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNDoKICAgICAgICAgIG1heFBsYXlsaXN0ID0gMTA7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA1OgogICAgICAgICAgbWF4UGxheWxpc3QgPSAyNTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICB2YXIgc3Vic2NyaXB0aW9uID0gewogICAgICAgIHVzZXJfaWQ6IHRoaXMuY3VycmVudFVzZXIudXNlci5pZCwKICAgICAgICBzdWJzY3JpcHRpb25fdHlwZTogdGhpcy5uZXdTdWJzY3JpcHRpb24uaWQsCiAgICAgICAgbm90ZTogZGV0YWlscywKICAgICAgICBlbmRfZGF0ZTogZW5kX2RhdGUsCiAgICAgICAgbWF4X3BsYXlsaXN0OiBtYXhQbGF5bGlzdAogICAgICB9OwogICAgICB2YXIgcGF5bWVudCA9IHsKICAgICAgICB1c2VyX2lkOiB0aGlzLmN1cnJlbnRVc2VyLnVzZXIuaWQsCiAgICAgICAgcGF5bWVudF9tZXRob2Q6ICJQYXlwYWwiLAogICAgICAgIGFtb3VudDogdGhpcy5uZXdTdWJzY3JpcHRpb24uYW1vdW50LAogICAgICAgIGRlc2NyaXB0aW9uOiBkZXRhaWxzLAogICAgICAgIHdlYnNpdGU6IFBheW1lbnRXZWJzaXRlCiAgICAgIH07CiAgICAgIHZhciBpbnZvaWNlID0gewogICAgICAgIHVzZXJfaWQ6IHRoaXMuY3VycmVudFVzZXIudXNlci5pZCwKICAgICAgICBpdGVtczogW3sKICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLm5ld1N1YnNjcmlwdGlvbi5pdGVtc1swXS5kZXNjcmlwdGlvbiwKICAgICAgICAgIGFtb3VudDogdGhpcy5uZXdTdWJzY3JpcHRpb24ubW9udGhzLAogICAgICAgICAgcHJpY2U6IHRoaXMubmV3U3Vic2NyaXB0aW9uLnByaWNlLAogICAgICAgICAgaWQ6IHRoaXMubmV3U3Vic2NyaXB0aW9uLmlkCiAgICAgICAgfV0KICAgICAgfTsKICAgICAgaHR0cFNlcnZpY2UucG9zdCgidXNlcnMvcGF5bWVudCIsIHsKICAgICAgICB1c2VyX2lkOiB0aGlzLmN1cnJlbnRVc2VyLnVzZXIuaWQsCiAgICAgICAgc3Vic2NyaXB0aW9uOiBzdWJzY3JpcHRpb24sCiAgICAgICAgcGF5bWVudDogcGF5bWVudCwKICAgICAgICBpbnZvaWNlOiBpbnZvaWNlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlKSB7CiAgICAgICAgICBfdGhpczIubW9kYWwgPSBmYWxzZTsKICAgICAgICAgIF90aGlzMi5tb2RhbDIgPSB0cnVlOwoKICAgICAgICAgIF90aGlzMi4kbm90aWZ5KCJzdWNjZXNzIiwgX3RoaXMyLiR0KCJwcm9maWxlLnN1Y2Nlc3MiKSwgX3RoaXMyLiR0KCJzdWJzY3JpcHRpb25zLnBheW1lbnQtc3VjY2VzIiksICJsYS1jaGVjay1kb3VibGUiLCB7CiAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJG5vdGlmeSgiZXJyb3IiLCBfdGhpczIuJHQoImdlbmVyYWwuZXJyb3IiKSwgX3RoaXMyLiR0KCJzdWJzY3JpcHRpb25zLnBheW1lbnQtZXJyb3IiKSwgImxhLXVzZXItc2hpZWxkIiwgewogICAgICAgICAgZHVyYXRpb246IDUwMDAsCiAgICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHBheXBhbENhbmNlbDogZnVuY3Rpb24gcGF5cGFsQ2FuY2VsKGRhdGEpIHsKICAgICAgdGhpcy4kbm90aWZ5KCJlcnJvciIsIHRoaXMuJHQoImdlbmVyYWwuY2FuY2VsZWQiKSwgdGhpcy4kdCgic3Vic2NyaXB0aW9ucy5wYXltZW50LWNhbmNlbGVkIiksICJsYS11c2VyLXNoaWVsZCIsIHsKICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlCiAgICAgIH0pOwogICAgfSwKICAgIHBheXBhbEVycm9yOiBmdW5jdGlvbiBwYXlwYWxFcnJvcihlcnJvcikgewogICAgICB0aGlzLiRub3RpZnkoImVycm9yIiwgdGhpcy4kdCgiZ2VuZXJhbC5lcnJvciIpLCB0aGlzLiR0KCJzdWJzY3JpcHRpb25zLnBheW1lbnQtZXJyb3IiKSwgImxhLXVzZXItc2hpZWxkIiwgewogICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgIHBlcm1hbmVudDogZmFsc2UKICAgICAgfSk7CiAgICB9CiAgfSksCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbImN1cnJlbnRVc2VyIl0pKSwge30sIHsKICAgIHN1YnNjcmlwdGlvbklkOiBmdW5jdGlvbiBzdWJzY3JpcHRpb25JZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9uID8gdGhpcy5zdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uX3R5cGUgOiAtMTsKICAgIH0sCiAgICB0b3RhbFByaWNlOiBmdW5jdGlvbiB0b3RhbFByaWNlKCkgewogICAgICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KCJubC1OTCIsIHsKICAgICAgICBzdHlsZTogImN1cnJlbmN5IiwKICAgICAgICBjdXJyZW5jeTogIkVVUiIKICAgICAgfSkuZm9ybWF0KHRoaXMubmV3U3Vic2NyaXB0aW9uLmFtb3VudCk7CiAgICB9LAogICAgY29udGFjdExpbms6IGZ1bmN0aW9uIGNvbnRhY3RMaW5rKCkgewogICAgICByZXR1cm4gIm1haWx0bzoiLmNvbmNhdCh0aGlzLm1haWx0bywgIj9zdWJqZWN0PSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodGhpcy4kdCgic3Vic2NyaXB0aW9ucy5jb250YWN0LXN1YmplY3QiKSksICImYm9keT0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuJHQoInN1YnNjcmlwdGlvbnMuY29udGFjdC1ib2R5IikpKTsKICAgIH0KICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgdGhpcy5sb2FkU3Vic2NyaXB0aW9uKCk7CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICBFdmVudEJ1cy4kb24oInByaW50IiwgdGhpcy5wYWdlUHJpbnQpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIEV2ZW50QnVzLiRvZmYoInByaW50IiwgdGhpcy5wYWdlUHJpbnQpOwogIH0sCiAgd2F0Y2g6IHsKICAgICJuZXdTdWJzY3JpcHRpb24ubW9udGhzIjogZnVuY3Rpb24gbmV3U3Vic2NyaXB0aW9uTW9udGhzKHZhbCkgewogICAgICB0aGlzLm5ld1N1YnNjcmlwdGlvbi5pdGVtc1swXS5xdWFudGl0eSA9IHZhbDsKICAgICAgdGhpcy5uZXdTdWJzY3JpcHRpb24uYW1vdW50ID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KCJlbi1VUyIpLmZvcm1hdChwYXJzZUludCh2YWwpICogcGFyc2VGbG9hdCh0aGlzLm5ld1N1YnNjcmlwdGlvbi5wcmljZS5yZXBsYWNlKCIsIiwgIi4iKSkpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["subscription.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <erd-row class=\"m-0 p-0\" id=\"subscription\">\n    <erd-spinner v-if=\"isLoading\" size=\"lg\" overlay absolute></erd-spinner>\n    <erd-modal\n      v-show=\"modal\"\n      @close=\"closeModal\"\n      :title=\"$t('subscriptions.purchase')\"\n      class=\"select-none\"\n    >\n      <p class=\"mt-0 ml-2\">{{ $t(\"subscriptions.select-playlist\") }}</p>\n      <erd-radiobutton\n        v-for=\"(type, index) in playlistTypes\"\n        :key=\"`type-${index}`\"\n        :value=\"type.value\"\n        v-model=\"newSubscription.playlist_type\"\n        class=\"ml-3\"\n        >{{ type.text }}</erd-radiobutton\n      >\n      <p class=\"mt-3 ml-2\">{{ $t(\"subscriptions.select-days\") }}</p>\n      <erd-radiobutton\n        v-for=\"(day, index) in days\"\n        :key=\"`day-${index}`\"\n        :value=\"day.value\"\n        v-model=\"newSubscription.months\"\n        class=\"ml-3\"\n        >{{ day.text }}</erd-radiobutton\n      >\n      <p class=\"mt-3 ml-2\">\n        {{ $t(\"subscriptions.total-amount\") }} <strong>{{ totalPrice }}</strong>\n      </p>\n      <template v-slot:footer>\n        <erd-paypal-button\n          ref=\"paypal\"\n          id=\"paypal\"\n          :items=\"newSubscription.items\"\n          :value=\"newSubscription.amount\"\n          :description=\"newSubscription.description\"\n          @approve=\"paypalApprove\"\n          @cancel=\"paypalCancel\"\n          @error=\"paypalError\"\n        >\n        </erd-paypal-button>\n      </template>\n    </erd-modal>\n    <erd-modal\n      v-show=\"modal2\"\n      @close=\"closeModal\"\n      :title=\"$t('subscriptions.payment-login-title')\"\n      class=\"select-none\"\n    >\n      <p class=\"mt-0 ml-2\">{{ $t(\"subscriptions.payment-login-text\") }}</p>\n      <template v-slot:footer>\n        <erd-button variant=\"success\" @click=\"logout\" class=\"mr-1\">{{\n          $t(\"general.yes\")\n        }}</erd-button>\n        <erd-button variant=\"danger\" @click=\"closeModal\">{{\n          $t(\"general.no\")\n        }}</erd-button>\n      </template>\n    </erd-modal>\n    <erd-col\n      lg=\"4\"\n      md=\"6\"\n      v-for=\"(item, index) in personal\"\n      :key=\"`personal-${item.id}-${index}`\"\n    >\n      <erd-card>\n        <erd-card-body class=\"text-center price-card\">\n          <i class=\"las la-6x color-theme-1 mt-3\" :class=\"item.icon\"></i>\n          <h3 class=\"item-title color-theme-1 my-3\">{{ item.title }}</h3>\n          <p class=\"text-large mb-2 text-default\">&euro;{{ item.price }}</p>\n          <p class=\"mt-0 text-muted text-small\">\n            {{ $t(\"subscriptions.user-month\") }}\n          </p>\n          <ul class=\"list-unstyled mt-4\">\n            <li\n              v-for=\"(listing, index) in item.list\"\n              :key=\"`listing-${item.id}-${index}`\"\n            >\n              <p class=\"my-1\">{{ listing }}</p>\n            </li>\n          </ul>\n          <erd-button\n            class=\"mt-5 w-50 text-uppercase\"\n            @click=\"showModal(item)\"\n            icon=\"la-shopping-cart\"\n            >{{\n              subscriptionId == item.id\n                ? $t(\"subscriptions.active\")\n                : $t(\"subscriptions.purchase\")\n            }}</erd-button\n          >\n        </erd-card-body>\n      </erd-card>\n    </erd-col>\n    <erd-col xl=\"12\">\n      <p class=\"text-center\">\n        {{ $t(\"subscriptions.custom-plan\") }}\n        <a class=\"color-theme-1\" :href=\"contactLink\" target=\"_blank\">{{\n          $t(\"subscriptions.contact-us\")\n        }}</a>\n      </p>\n    </erd-col>\n  </erd-row>\n</template>\n\n<script>\n/* eslint-disable no-undef */\n/* eslint-disable no-unused-vars */\n\nimport { mapActions, mapGetters } from \"vuex\";\nimport { httpService } from \"../../../services/http\";\nimport { EventBus } from \"../../../services/ebus\";\nimport { PaymentWebsite } from \"../../../constants/config\";\n\nexport default {\n  data() {\n    return {\n      mailto: \"contact@erdesigns.eu\",\n      modal: false,\n      modal2: false,\n      isLoading: false,\n      subscription: null,\n      newSubscription: {\n        id: 0,\n        description: \"\",\n        months: \"1\",\n        items: [],\n        amount: \"0.00\",\n        currency: \"EUR\",\n        price: 0,\n        playlist_type: 1,\n      },\n      days: [\n        { value: \"1\", text: this.$t(\"subscriptions.1-month\") },\n        { value: \"2\", text: this.$t(\"subscriptions.2-month\") },\n        { value: \"3\", text: this.$t(\"subscriptions.3-month\") },\n        { value: \"6\", text: this.$t(\"subscriptions.6-month\") },\n        { value: \"12\", text: this.$t(\"subscriptions.1-year\") },\n      ],\n      playlistTypes: [\n        { value: \"1\", text: this.$t(\"subscriptions.xtream\") },\n        { value: \"2\", text: this.$t(\"subscriptions.m3u\") },\n        { value: \"3\", text: this.$t(\"subscriptions.portal\") },\n      ],\n      personal: [\n        {\n          title: this.$t(\"subscriptions.enthusiast\"),\n          icon: \"la-compass\",\n          price: \"2,50\",\n          list: [\n            this.$t(\"subscriptions.2-playlists\"),\n            this.$t(\"subscriptions.unlimited-channels\"),\n            this.$t(\"subscriptions.live-only\"),\n            this.$t(\"subscriptions.daily-sync\"),\n            this.$t(\"subscriptions.epg-support\"),\n            \"-\",\n            \"-\",\n          ],\n          id: 0,\n        },\n        {\n          title: this.$t(\"subscriptions.professional\"),\n          icon: \"la-user-tie\",\n          price: \"5,00\",\n          list: [\n            this.$t(\"subscriptions.2-playlists\"),\n            this.$t(\"subscriptions.unlimited-channels\"),\n            this.$t(\"subscriptions.live-movies-series\"),\n            this.$t(\"subscriptions.daily-sync\"),\n            this.$t(\"subscriptions.epg-support\"),\n            this.$t(\"subscriptions.free-tools\"),\n            \"-\",\n          ],\n          id: 1,\n        },\n        {\n          title: this.$t(\"subscriptions.pro-plus\"),\n          icon: \"la-users\",\n          price: \"10,00\",\n          list: [\n            this.$t(\"subscriptions.5-playlists\"),\n            this.$t(\"subscriptions.unlimited-channels\"),\n            this.$t(\"subscriptions.live-movies-series\"),\n            this.$t(\"subscriptions.daily-sync\"),\n            this.$t(\"subscriptions.epg-support\"),\n            this.$t(\"subscriptions.free-tools\"),\n            this.$t(\"subscriptions.5-7-contact\"),\n          ],\n          id: 2,\n        },\n      ],\n    };\n  },\n  methods: {\n    ...mapActions([\"logout\"]),\n    loadSubscription() {\n      httpService\n        .get(\"users/subscriptions\")\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.subscription =\n              Array.isArray(res.data) && res.data.length > 0\n                ? res.data[0]\n                : this.currentUser.subscription;\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.subscription = this.currentUser.subscription;\n        });\n    },\n    pagePrint() {\n      document.getElementById(\"subscription\").print();\n    },\n    showModal(item) {\n      this.newSubscription.description = item.title;\n      this.newSubscription.id = item.id;\n      this.newSubscription.items = [\n        {\n          name: \"IPTV-Tools Subscription\",\n          description: item.title,\n          quantity: \"1\",\n          price: item.price.replace(\",\", \".\"),\n          currency: \"EUR\",\n        },\n      ];\n      this.newSubscription.price = item.price;\n      this.newSubscription.amount = new Intl.NumberFormat(\"en-US\").format(\n        item.price.replace(\",\", \".\") * this.newSubscription.months\n      );\n      this.modal = true;\n    },\n    closeModal() {\n      this.modal = false;\n      this.modal2 = false;\n    },\n    paypalApprove(details) {\n      let end_date = new Date();\n      switch (parseInt(this.newSubscription.months)) {\n        case 1:\n          end_date.setDate(end_date.getDate() + 30);\n          break;\n        case 2:\n          end_date.setDate(end_date.getDate() + 60);\n          break;\n        case 3:\n          end_date.setDate(end_date.getDate() + 90);\n          break;\n        case 6:\n          end_date.setDate(end_date.getDate() + 180);\n          break;\n        case 12:\n          end_date.setDate(end_date.getDate() + 365);\n          break; \n      }\n      let maxPlaylist = 1;\n      switch (this.newSubscription.id) {\n        case 0: maxPlaylist = 2; break;\n        case 1: maxPlaylist = 2; break;\n        case 2: maxPlaylist = 5; break;\n        case 3: maxPlaylist = 5; break;\n        case 4: maxPlaylist = 10; break;\n        case 5: maxPlaylist = 25; break;\n      }\n      let subscription = {\n        user_id: this.currentUser.user.id,\n        subscription_type: this.newSubscription.id,\n        note: details,\n        end_date: end_date,\n        max_playlist: maxPlaylist,\n      };\n      let payment = {\n        user_id: this.currentUser.user.id,\n        payment_method: \"Paypal\",\n        amount: this.newSubscription.amount,\n        description: details,\n        website: PaymentWebsite,\n      };\n      let invoice = {\n        user_id: this.currentUser.user.id,\n        items: [\n          {\n            description: this.newSubscription.items[0].description,\n            amount: this.newSubscription.months,\n            price: this.newSubscription.price,\n            id: this.newSubscription.id,\n          },\n        ],\n      };\n      httpService\n        .post(\"users/payment\", {\n          user_id: this.currentUser.user.id,\n          subscription: subscription,\n          payment: payment,\n          invoice: invoice,\n        })\n        .then((res) => {\n          if (res.status === true) {\n            this.modal = false;\n            this.modal2 = true;\n            this.$notify(\n              \"success\",\n              this.$t(\"profile.success\"),\n              this.$t(\"subscriptions.payment-succes\"),\n              \"la-check-double\",\n              { duration: 5000, permanent: false }\n            );\n          }\n        })\n        .catch(() => {\n          this.$notify(\n            \"error\",\n            this.$t(\"general.error\"),\n            this.$t(\"subscriptions.payment-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    paypalCancel(data) {\n      this.$notify(\n        \"error\",\n        this.$t(\"general.canceled\"),\n        this.$t(\"subscriptions.payment-canceled\"),\n        \"la-user-shield\",\n        { duration: 5000, permanent: false }\n      );\n    },\n    paypalError(error) {\n      this.$notify(\n        \"error\",\n        this.$t(\"general.error\"),\n        this.$t(\"subscriptions.payment-error\"),\n        \"la-user-shield\",\n        { duration: 5000, permanent: false }\n      );\n    },\n  },\n  computed: {\n    ...mapGetters([\"currentUser\"]),\n    subscriptionId() {\n      return this.subscription ? this.subscription.subscription_type : -1;\n    },\n    totalPrice() {\n      return new Intl.NumberFormat(\"nl-NL\", {\n        style: \"currency\",\n        currency: \"EUR\",\n      }).format(this.newSubscription.amount);\n    },\n    contactLink() {\n      return `mailto:${this.mailto}?subject=${encodeURIComponent(\n        this.$t(\"subscriptions.contact-subject\")\n      )}&body=${encodeURIComponent(this.$t(\"subscriptions.contact-body\"))}`;\n    },\n  },\n  mounted() {\n    this.isLoading = true;\n    this.loadSubscription();\n  },\n  beforeMount() {\n    EventBus.$on(\"print\", this.pagePrint);\n  },\n  beforeDestroy() {\n    EventBus.$off(\"print\", this.pagePrint);\n  },\n  watch: {\n    \"newSubscription.months\": function (val) {\n      this.newSubscription.items[0].quantity = val;\n      this.newSubscription.amount = new Intl.NumberFormat(\"en-US\").format(\n        parseInt(val) * parseFloat(this.newSubscription.price.replace(\",\", \".\"))\n      );\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.price-card {\n  min-height: 500px;\n}\n@media print {\n  .card {\n    @include depth(0);\n  }\n\n  .private,\n  .business {\n    display: none;\n  }\n\n  .price-card {\n    min-height: 1000px;\n  }\n\n  .btn {\n    display: none;\n  }\n}\n.paypal-container {\n  max-height: 400px;\n  width: 100%;\n}\n</style>\n"],"sourceRoot":"src/views/app/user"}]}