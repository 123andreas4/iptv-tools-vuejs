{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/bootstrap-vue/esm/components/modal/helpers/bv-modal.js","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/bootstrap-vue/esm/components/modal/helpers/bv-modal.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgfQp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgIGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOwogIH0KfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgewogIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICByZXR1cm4gQ29uc3RydWN0b3I7Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICB9IGVsc2UgewogICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgewogIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsKfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgewogIGlmICghbykgcmV0dXJuOwogIGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOwogIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsKICBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsKICBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOwogIGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgewogIGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOwp9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgewogIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOwoKICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsKICAgIGFycjJbaV0gPSBhcnJbaV07CiAgfQoKICByZXR1cm4gYXJyMjsKfSAvLyBQbHVnaW4gZm9yIGFkZGluZyBgJGJ2TW9kYWxgIHByb3BlcnR5IHRvIGFsbCBWdWUgaW5zdGFuY2VzCgoKaW1wb3J0IHsgTkFNRV9NT0RBTCwgTkFNRV9NU0dfQk9YIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzL2NvbXBvbmVudHMnOwppbXBvcnQgeyBFVkVOVF9OQU1FX0hJRERFTiwgRVZFTlRfTkFNRV9ISURFLCBIT09LX0VWRU5UX05BTUVfQkVGT1JFX0RFU1RST1ksIEhPT0tfRVZFTlRfTkFNRV9ERVNUUk9ZRUQgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvZXZlbnRzJzsKaW1wb3J0IHsgY29uY2F0IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvYXJyYXknOwppbXBvcnQgeyBnZXRDb21wb25lbnRDb25maWcgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jb25maWcnOwppbXBvcnQgeyByZXF1ZXN0QUYgfSBmcm9tICcuLi8uLi8uLi91dGlscy9kb20nOwppbXBvcnQgeyBnZXRSb290QWN0aW9uRXZlbnROYW1lIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZXZlbnRzJzsKaW1wb3J0IHsgaXNVbmRlZmluZWQsIGlzRnVuY3Rpb24gfSBmcm9tICcuLi8uLi8uLi91dGlscy9pbnNwZWN0JzsKaW1wb3J0IHsgYXNzaWduLCBkZWZpbmVQcm9wZXJ0aWVzLCBkZWZpbmVQcm9wZXJ0eSwgaGFzT3duUHJvcGVydHksIGtleXMsIG9taXQsIHJlYWRvbmx5RGVzY3JpcHRvciB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IHBsdWdpbkZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9wbHVnaW5zJzsKaW1wb3J0IHsgd2Fybiwgd2Fybk5vdENsaWVudCwgd2Fybk5vUHJvbWlzZVN1cHBvcnQgfSBmcm9tICcuLi8uLi8uLi91dGlscy93YXJuJzsKaW1wb3J0IHsgQk1vZGFsLCBwcm9wcyBhcyBtb2RhbFByb3BzIH0gZnJvbSAnLi4vbW9kYWwnOyAvLyAtLS0gQ29uc3RhbnRzIC0tLQoKdmFyIFBST1BfTkFNRSA9ICckYnZNb2RhbCc7CnZhciBQUk9QX05BTUVfUFJJViA9ICdfYnZfX21vZGFsJzsgLy8gQmFzZSBtb2RhbCBwcm9wcyB0aGF0IGFyZSBhbGxvd2VkCi8vIFNvbWUgbWF5IGJlIGlnbm9yZWQgb3Igb3ZlcnJpZGRlbiBvbiBzb21lIG1lc3NhZ2UgYm94ZXMKLy8gUHJvcCBJRCBpcyBhbGxvd2VkLCBidXQgcmVhbGx5IG9ubHkgc2hvdWxkIGJlIHVzZWQgZm9yIHRlc3RpbmcKLy8gV2UgbmVlZCB0byBhZGQgaXQgaW4gZXhwbGljaXRseSBhcyBpdCBjb21lcyBmcm9tIHRoZSBgaWRNaXhpbmAKCnZhciBCQVNFX1BST1BTID0gWydpZCddLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoa2V5cyhvbWl0KG1vZGFsUHJvcHMsIFsnYnVzeScsICdsYXp5JywgJ25vU3RhY2tpbmcnLCAnc3RhdGljJywgJ3Zpc2libGUnXSkpKSk7IC8vIEZhbGxiYWNrIGV2ZW50IHJlc29sdmVyIChyZXR1cm5zIHVuZGVmaW5lZCkKCnZhciBkZWZhdWx0UmVzb2x2ZXIgPSBmdW5jdGlvbiBkZWZhdWx0UmVzb2x2ZXIoKSB7fTsgLy8gTWFwIHByb3AgbmFtZXMgdG8gbW9kYWwgc2xvdCBuYW1lcwoKCnZhciBwcm9wc1RvU2xvdHMgPSB7CiAgbXNnQm94Q29udGVudDogJ2RlZmF1bHQnLAogIHRpdGxlOiAnbW9kYWwtdGl0bGUnLAogIG9rVGl0bGU6ICdtb2RhbC1vaycsCiAgY2FuY2VsVGl0bGU6ICdtb2RhbC1jYW5jZWwnCn07IC8vIC0tLSBIZWxwZXIgbWV0aG9kcyAtLS0KLy8gTWV0aG9kIHRvIGZpbHRlciBvbmx5IHJlY29nbml6ZWQgcHJvcHMgdGhhdCBhcmUgbm90IHVuZGVmaW5lZAoKdmFyIGZpbHRlck9wdGlvbnMgPSBmdW5jdGlvbiBmaWx0ZXJPcHRpb25zKG9wdGlvbnMpIHsKICByZXR1cm4gQkFTRV9QUk9QUy5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGtleSkgewogICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zW2tleV0pKSB7CiAgICAgIG1lbW9ba2V5XSA9IG9wdGlvbnNba2V5XTsKICAgIH0KCiAgICByZXR1cm4gbWVtbzsKICB9LCB7fSk7Cn07IC8vIE1ldGhvZCB0byBpbnN0YWxsIGAkYnZNb2RhbGAgVk0gaW5qZWN0aW9uCgoKdmFyIHBsdWdpbiA9IGZ1bmN0aW9uIHBsdWdpbihWdWUpIHsKICAvLyBDcmVhdGUgYSBwcml2YXRlIHN1Yi1jb21wb25lbnQgdGhhdCBleHRlbmRzIEJNb2RhbAogIC8vIHdoaWNoIHNlbGYtZGVzdHJ1Y3RzIGFmdGVyIGhpZGRlbgogIC8vIEB2dWUvY29tcG9uZW50CiAgdmFyIEJNc2dCb3ggPSBWdWUuZXh0ZW5kKHsKICAgIG5hbWU6IE5BTUVfTVNHX0JPWCwKICAgIGV4dGVuZHM6IEJNb2RhbCwKICAgIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgICAvLyBNYWtlIHN1cmUgd2Ugbm90IGluIGRvY3VtZW50IGFueSBtb3JlCiAgICAgIGlmICh0aGlzLiRlbCAmJiB0aGlzLiRlbC5wYXJlbnROb2RlKSB7CiAgICAgICAgdGhpcy4kZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLiRlbCk7CiAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOyAvLyBTZWxmIGRlc3RydWN0IGhhbmRsZXIKCgogICAgICB2YXIgaGFuZGxlRGVzdHJveSA9IGZ1bmN0aW9uIGhhbmRsZURlc3Ryb3koKSB7CiAgICAgICAgX3RoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIEluIGEgYHJlcXVlc3RBRigpYCB0byByZWxlYXNlIGNvbnRyb2wgYmFjayB0byBhcHBsaWNhdGlvbgogICAgICAgICAgcmVxdWVzdEFGKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuJGRlc3Ryb3koKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9OyAvLyBTZWxmIGRlc3RydWN0IGlmIHBhcmVudCBkZXN0cm95ZWQKCgogICAgICB0aGlzLiRwYXJlbnQuJG9uY2UoSE9PS19FVkVOVF9OQU1FX0RFU1RST1lFRCwgaGFuZGxlRGVzdHJveSk7IC8vIFNlbGYgZGVzdHJ1Y3QgYWZ0ZXIgaGlkZGVuCgogICAgICB0aGlzLiRvbmNlKEVWRU5UX05BTUVfSElEREVOLCBoYW5kbGVEZXN0cm95KTsgLy8gU2VsZiBkZXN0cnVjdCBvbiByb3V0ZSBjaGFuZ2UKCiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwoKICAgICAgaWYgKHRoaXMuJHJvdXRlciAmJiB0aGlzLiRyb3V0ZSkgewogICAgICAgIC8vIERlc3Ryb3kgb3Vyc2VsdmVzIGlmIHJvdXRlIGNoYW5nZXMKCiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgICB0aGlzLiRvbmNlKEhPT0tfRVZFTlRfTkFNRV9CRUZPUkVfREVTVFJPWSwgdGhpcy4kd2F0Y2goJyRyb3V0ZXInLCBoYW5kbGVEZXN0cm95KSk7CiAgICAgIH0gLy8gU2hvdyB0aGUgYEJNc2dCb3hgCgoKICAgICAgdGhpcy5zaG93KCk7CiAgICB9CiAgfSk7IC8vIE1ldGhvZCB0byBnZW5lcmF0ZSB0aGUgb24tZGVtYW5kIG1vZGFsIG1lc3NhZ2UgYm94CiAgLy8gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIHZhbHVlIHJldHVybmVkIGJ5IHRoZSByZXNvbHZlCgogIHZhciBhc3luY01zZ0JveCA9IGZ1bmN0aW9uIGFzeW5jTXNnQm94KCRwYXJlbnQsIHByb3BzKSB7CiAgICB2YXIgcmVzb2x2ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGRlZmF1bHRSZXNvbHZlcjsKCiAgICBpZiAod2Fybk5vdENsaWVudChQUk9QX05BTUUpIHx8IHdhcm5Ob1Byb21pc2VTdXBwb3J0KFBST1BfTkFNRSkpIHsKICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgcmV0dXJuOwogICAgfSAvLyBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgYEJNc2dCb3hgIGNvbXBvbmVudAoKCiAgICB2YXIgbXNnQm94ID0gbmV3IEJNc2dCb3goewogICAgICAvLyBXZSBzZXQgcGFyZW50IGFzIHRoZSBsb2NhbCBWTSBzbyB0aGVzZSBtb2RhbHMgY2FuIGVtaXQgZXZlbnRzIG9uCiAgICAgIC8vIHRoZSBhcHAgYCRyb290YCwgYXMgbmVlZGVkIGJ5IHRoaW5ncyBsaWtlIHRvb2x0aXBzIGFuZCBwb3BvdmVycwogICAgICAvLyBBbmQgaXQgaGVscHMgdG8gZW5zdXJlIGBCTXNnQm94YCBpcyBkZXN0cm95ZWQgd2hlbiBwYXJlbnQgaXMgZGVzdHJveWVkCiAgICAgIHBhcmVudDogJHBhcmVudCwKICAgICAgLy8gUHJlc2V0IHRoZSBwcm9wIHZhbHVlcwogICAgICBwcm9wc0RhdGE6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBmaWx0ZXJPcHRpb25zKGdldENvbXBvbmVudENvbmZpZyhOQU1FX01PREFMKSkpLCB7fSwgewogICAgICAgIC8vIERlZmF1bHRzIHRoYXQgdXNlciBjYW4gb3ZlcnJpZGUKICAgICAgICBoaWRlSGVhZGVyQ2xvc2U6IHRydWUsCiAgICAgICAgaGlkZUhlYWRlcjogIShwcm9wcy50aXRsZSB8fCBwcm9wcy50aXRsZUh0bWwpCiAgICAgIH0sIG9taXQocHJvcHMsIGtleXMocHJvcHNUb1Nsb3RzKSkpLCB7fSwgewogICAgICAgIC8vIFByb3BzIHRoYXQgY2FuJ3QgYmUgb3ZlcnJpZGRlbgogICAgICAgIGxhenk6IGZhbHNlLAogICAgICAgIGJ1c3k6IGZhbHNlLAogICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgIG5vU3RhY2tpbmc6IGZhbHNlLAogICAgICAgIG5vRW5mb3JjZUZvY3VzOiBmYWxzZQogICAgICB9KQogICAgfSk7IC8vIENvbnZlcnQgY2VydGFpbiBwcm9wcyB0byBzY29wZWQgc2xvdHMKCiAgICBrZXlzKHByb3BzVG9TbG90cykuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkgewogICAgICBpZiAoIWlzVW5kZWZpbmVkKHByb3BzW3Byb3BdKSkgewogICAgICAgIC8vIENhbiBiZSBhIHN0cmluZywgb3IgYXJyYXkgb2YgVk5vZGVzLgogICAgICAgIC8vIEFsdGVybmF0aXZlbHksIHVzZXIgY2FuIHVzZSBIVE1MIHZlcnNpb24gb2YgcHJvcCB0byBwYXNzIGFuIEhUTUwgc3RyaW5nLgogICAgICAgIG1zZ0JveC4kc2xvdHNbcHJvcHNUb1Nsb3RzW3Byb3BdXSA9IGNvbmNhdChwcm9wc1twcm9wXSk7CiAgICAgIH0KICAgIH0pOyAvLyBSZXR1cm4gYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBoaWRkZW4sIG9yIHJlamVjdHMgb24gZGVzdHJveWVkCgogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIHJlc29sdmVkID0gZmFsc2U7CiAgICAgIG1zZ0JveC4kb25jZShIT09LX0VWRU5UX05BTUVfREVTVFJPWUVELCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCFyZXNvbHZlZCkgewogICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0Jvb3RzdHJhcFZ1ZSBNc2dCb3ggZGVzdHJveWVkIGJlZm9yZSByZXNvbHZlJykpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIG1zZ0JveC4kb24oRVZFTlRfTkFNRV9ISURFLCBmdW5jdGlvbiAoYnZNb2RhbEV2dCkgewogICAgICAgIGlmICghYnZNb2RhbEV2dC5kZWZhdWx0UHJldmVudGVkKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzb2x2ZXIoYnZNb2RhbEV2dCk7IC8vIElmIHJlc29sdmVyIGRpZG4ndCBjYW5jZWwgaGlkZSwgd2UgcmVzb2x2ZQoKICAgICAgICAgIGlmICghYnZNb2RhbEV2dC5kZWZhdWx0UHJldmVudGVkKSB7CiAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTsKICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7IC8vIENyZWF0ZSBhIG1vdW50IHBvaW50IChhIERJVikgYW5kIG1vdW50IHRoZSBtc2dCbyB3aGljaCB3aWxsIHRyaWdnZXIgaXQgdG8gc2hvdwoKICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7CiAgICAgIG1zZ0JveC4kbW91bnQoZGl2KTsKICAgIH0pOwogIH07IC8vIFByaXZhdGUgdXRpbGl0eSBtZXRob2QgdG8gb3BlbiBhIHVzZXIgZGVmaW5lZCBtZXNzYWdlIGJveCBhbmQgcmV0dXJucyBhIHByb21pc2UuCiAgLy8gTm90IHRvIGJlIHVzZWQgZGlyZWN0bHkgYnkgY29uc3VtZXJzLCBhcyB0aGlzIG1ldGhvZCBtYXkgY2hhbmdlIGNhbGxpbmcgc3ludGF4CgoKICB2YXIgbWFrZU1zZ0JveCA9IGZ1bmN0aW9uIG1ha2VNc2dCb3goJHBhcmVudCwgY29udGVudCkgewogICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogICAgdmFyIHJlc29sdmVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBudWxsOwoKICAgIGlmICghY29udGVudCB8fCB3YXJuTm9Qcm9taXNlU3VwcG9ydChQUk9QX05BTUUpIHx8IHdhcm5Ob3RDbGllbnQoUFJPUF9OQU1FKSB8fCAhaXNGdW5jdGlvbihyZXNvbHZlcikpIHsKICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgcmV0dXJuOwogICAgfQoKICAgIHJldHVybiBhc3luY01zZ0JveCgkcGFyZW50LCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGZpbHRlck9wdGlvbnMob3B0aW9ucykpLCB7fSwgewogICAgICBtc2dCb3hDb250ZW50OiBjb250ZW50CiAgICB9KSwgcmVzb2x2ZXIpOwogIH07IC8vIEJ2TW9kYWwgaW5zdGFuY2UgY2xhc3MKCgogIHZhciBCdk1vZGFsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIEJ2TW9kYWwodm0pIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJ2TW9kYWwpOyAvLyBBc3NpZ24gdGhlIG5ldyBwcm9wZXJ0aWVzIHRvIHRoaXMgaW5zdGFuY2UKCgogICAgICBhc3NpZ24odGhpcywgewogICAgICAgIF92bTogdm0sCiAgICAgICAgX3Jvb3Q6IHZtLiRyb290CiAgICAgIH0pOyAvLyBTZXQgdGhlc2UgcHJvcGVydGllcyBhcyByZWFkLW9ubHkgYW5kIG5vbi1lbnVtZXJhYmxlCgogICAgICBkZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHsKICAgICAgICBfdm06IHJlYWRvbmx5RGVzY3JpcHRvcigpLAogICAgICAgIF9yb290OiByZWFkb25seURlc2NyaXB0b3IoKQogICAgICB9KTsKICAgIH0gLy8gLS0tIEluc3RhbmNlIG1ldGhvZHMgLS0tCiAgICAvLyBTaG93IG1vZGFsIHdpdGggdGhlIHNwZWNpZmllZCBJRCBhcmdzIGFyZSBmb3IgZnV0dXJlIHVzZQoKCiAgICBfY3JlYXRlQ2xhc3MoQnZNb2RhbCwgW3sKICAgICAga2V5OiAic2hvdyIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KGlkKSB7CiAgICAgICAgaWYgKGlkICYmIHRoaXMuX3Jvb3QpIHsKICAgICAgICAgIHZhciBfdGhpcyRfcm9vdDsKCiAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldOwogICAgICAgICAgfQoKICAgICAgICAgIChfdGhpcyRfcm9vdCA9IHRoaXMuX3Jvb3QpLiRlbWl0LmFwcGx5KF90aGlzJF9yb290LCBbZ2V0Um9vdEFjdGlvbkV2ZW50TmFtZShOQU1FX01PREFMLCAnc2hvdycpLCBpZF0uY29uY2F0KGFyZ3MpKTsKICAgICAgICB9CiAgICAgIH0gLy8gSGlkZSBtb2RhbCB3aXRoIHRoZSBzcGVjaWZpZWQgSUQgYXJncyBhcmUgZm9yIGZ1dHVyZSB1c2UKCiAgICB9LCB7CiAgICAgIGtleTogImhpZGUiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZShpZCkgewogICAgICAgIGlmIChpZCAmJiB0aGlzLl9yb290KSB7CiAgICAgICAgICB2YXIgX3RoaXMkX3Jvb3QyOwoKICAgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7CiAgICAgICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07CiAgICAgICAgICB9CgogICAgICAgICAgKF90aGlzJF9yb290MiA9IHRoaXMuX3Jvb3QpLiRlbWl0LmFwcGx5KF90aGlzJF9yb290MiwgW2dldFJvb3RBY3Rpb25FdmVudE5hbWUoTkFNRV9NT0RBTCwgJ2hpZGUnKSwgaWRdLmNvbmNhdChhcmdzKSk7CiAgICAgICAgfQogICAgICB9IC8vIFRoZSBmb2xsb3dpbmcgbWV0aG9kcyByZXF1aXJlIFByb21pc2Ugc3VwcG9ydCEKICAgICAgLy8gSUUgMTEgYW5kIG90aGVycyBkbyBub3Qgc3VwcG9ydCBQcm9taXNlIG5hdGl2ZWx5LCBzbyB1c2VycwogICAgICAvLyBzaG91bGQgaGF2ZSBhIFBvbHlmaWxsIGxvYWRlZCAod2hpY2ggdGhleSBuZWVkIGFueXdheXMgZm9yIElFIDExIHN1cHBvcnQpCiAgICAgIC8vIE9wZW4gYSBtZXNzYWdlIGJveCB3aXRoIE9LIGJ1dHRvbiBvbmx5IGFuZCByZXR1cm5zIGEgcHJvbWlzZQoKICAgIH0sIHsKICAgICAga2V5OiAibXNnQm94T2siLAogICAgICB2YWx1ZTogZnVuY3Rpb24gbXNnQm94T2sobWVzc2FnZSkgewogICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsgLy8gUGljayB0aGUgbW9kYWwgcHJvcHMgd2Ugc3VwcG9ydCBmcm9tIG9wdGlvbnMKCiAgICAgICAgdmFyIHByb3BzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSwge30sIHsKICAgICAgICAgIC8vIEFkZCBpbiBvdmVycmlkZXMgYW5kIG91ciBjb250ZW50IHByb3AKICAgICAgICAgIG9rT25seTogdHJ1ZSwKICAgICAgICAgIG9rRGlzYWJsZWQ6IGZhbHNlLAogICAgICAgICAgaGlkZUZvb3RlcjogZmFsc2UsCiAgICAgICAgICBtc2dCb3hDb250ZW50OiBtZXNzYWdlCiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiBtYWtlTXNnQm94KHRoaXMuX3ZtLCBtZXNzYWdlLCBwcm9wcywgZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gQWx3YXlzIHJlc29sdmUgdG8gdHJ1ZSBmb3IgT0sKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0pOwogICAgICB9IC8vIE9wZW4gYSBtZXNzYWdlIGJveCBtb2RhbCB3aXRoIE9LIGFuZCBDQU5DRUwgYnV0dG9ucwogICAgICAvLyBhbmQgcmV0dXJucyBhIHByb21pc2UKCiAgICB9LCB7CiAgICAgIGtleTogIm1zZ0JveENvbmZpcm0iLAogICAgICB2YWx1ZTogZnVuY3Rpb24gbXNnQm94Q29uZmlybShtZXNzYWdlKSB7CiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OyAvLyBTZXQgdGhlIG1vZGFsIHByb3BzIHdlIHN1cHBvcnQgZnJvbSBvcHRpb25zCgogICAgICAgIHZhciBwcm9wcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0aW9ucyksIHt9LCB7CiAgICAgICAgICAvLyBBZGQgaW4gb3ZlcnJpZGVzIGFuZCBvdXIgY29udGVudCBwcm9wCiAgICAgICAgICBva09ubHk6IGZhbHNlLAogICAgICAgICAgb2tEaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICBjYW5jZWxEaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICBoaWRlRm9vdGVyOiBmYWxzZQogICAgICAgIH0pOwoKICAgICAgICByZXR1cm4gbWFrZU1zZ0JveCh0aGlzLl92bSwgbWVzc2FnZSwgcHJvcHMsIGZ1bmN0aW9uIChidk1vZGFsRXZ0KSB7CiAgICAgICAgICB2YXIgdHJpZ2dlciA9IGJ2TW9kYWxFdnQudHJpZ2dlcjsKICAgICAgICAgIHJldHVybiB0cmlnZ2VyID09PSAnb2snID8gdHJ1ZSA6IHRyaWdnZXIgPT09ICdjYW5jZWwnID8gZmFsc2UgOiBudWxsOwogICAgICAgIH0pOwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIEJ2TW9kYWw7CiAgfSgpOyAvLyBBZGQgb3VyIGluc3RhbmNlIG1peGluCgoKICBWdWUubWl4aW4oewogICAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICAgIC8vIEJlY2F1c2Ugd2UgbmVlZCBhY2Nlc3MgdG8gYCRyb290YCBmb3IgYCRlbWl0c2AsIGFuZCBWTSBmb3IgcGFyZW50aW5nLAogICAgICAvLyB3ZSBoYXZlIHRvIGNyZWF0ZSBhIGZyZXNoIGluc3RhbmNlIG9mIGBCdk1vZGFsYCBmb3IgZWFjaCBWTQogICAgICB0aGlzW1BST1BfTkFNRV9QUklWXSA9IG5ldyBCdk1vZGFsKHRoaXMpOwogICAgfQogIH0pOyAvLyBEZWZpbmUgb3VyIHJlYWQtb25seSBgJGJ2TW9kYWxgIGluc3RhbmNlIHByb3BlcnR5CiAgLy8gUGxhY2VkIGluIGFuIGlmIGp1c3QgaW4gY2FzZSBpbiBITVIgbW9kZQoKICBpZiAoIWhhc093blByb3BlcnR5KFZ1ZS5wcm90b3R5cGUsIFBST1BfTkFNRSkpIHsKICAgIGRlZmluZVByb3BlcnR5KFZ1ZS5wcm90b3R5cGUsIFBST1BfTkFNRSwgewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICAgIGlmICghdGhpcyB8fCAhdGhpc1tQUk9QX05BTUVfUFJJVl0pIHsKICAgICAgICAgIHdhcm4oIlwiIi5jb25jYXQoUFJPUF9OQU1FLCAiXCIgbXVzdCBiZSBhY2Nlc3NlZCBmcm9tIGEgVnVlIGluc3RhbmNlIFwidGhpc1wiIGNvbnRleHQuIiksIE5BTUVfTU9EQUwpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXNbUFJPUF9OQU1FX1BSSVZdOwogICAgICB9CiAgICB9KTsKICB9Cn07CgpleHBvcnQgdmFyIEJWTW9kYWxQbHVnaW4gPSAvKiNfX1BVUkVfXyovcGx1Z2luRmFjdG9yeSh7CiAgcGx1Z2luczogewogICAgcGx1Z2luOiBwbHVnaW4KICB9Cn0pOw=="},null]}