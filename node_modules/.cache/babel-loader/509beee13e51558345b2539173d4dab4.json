{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/bootstrap-vue/esm/components/toast/helpers/bv-toast.js","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/bootstrap-vue/esm/components/toast/helpers/bv-toast.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgfQp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgIGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOwogIH0KfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgewogIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICByZXR1cm4gQ29uc3RydWN0b3I7Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICB9IGVsc2UgewogICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgewogIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsKfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgewogIGlmICghbykgcmV0dXJuOwogIGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOwogIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsKICBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsKICBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOwogIGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgewogIGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOwp9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgewogIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOwoKICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsKICAgIGFycjJbaV0gPSBhcnJbaV07CiAgfQoKICByZXR1cm4gYXJyMjsKfQovKioKICogUGx1Z2luIGZvciBhZGRpbmcgYCRidlRvYXN0YCBwcm9wZXJ0eSB0byBhbGwgVnVlIGluc3RhbmNlcwogKi8KCgppbXBvcnQgeyBOQU1FX1RPQVNULCBOQU1FX1RPQVNURVIsIE5BTUVfVE9BU1RfUE9QIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzL2NvbXBvbmVudHMnOwppbXBvcnQgeyBFVkVOVF9OQU1FX0RFU1RST1lFRCwgRVZFTlRfTkFNRV9ISURERU4sIEVWRU5UX05BTUVfSElERSwgRVZFTlRfTkFNRV9TSE9XLCBIT09LX0VWRU5UX05BTUVfREVTVFJPWUVEIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzL2V2ZW50cyc7CmltcG9ydCB7IGNvbmNhdCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2FycmF5JzsKaW1wb3J0IHsgZ2V0Q29tcG9uZW50Q29uZmlnIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY29uZmlnJzsKaW1wb3J0IHsgcmVxdWVzdEFGIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZG9tJzsKaW1wb3J0IHsgZ2V0Um9vdEV2ZW50TmFtZSwgZ2V0Um9vdEFjdGlvbkV2ZW50TmFtZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2V2ZW50cyc7CmltcG9ydCB7IGlzVW5kZWZpbmVkLCBpc1N0cmluZyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2luc3BlY3QnOwppbXBvcnQgeyBhc3NpZ24sIGRlZmluZVByb3BlcnRpZXMsIGRlZmluZVByb3BlcnR5LCBoYXNPd25Qcm9wZXJ0eSwga2V5cywgb21pdCwgcmVhZG9ubHlEZXNjcmlwdG9yIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgcGx1Z2luRmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3BsdWdpbnMnOwppbXBvcnQgeyB3YXJuLCB3YXJuTm90Q2xpZW50IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvd2Fybic7CmltcG9ydCB7IEJUb2FzdCwgcHJvcHMgYXMgdG9hc3RQcm9wcyB9IGZyb20gJy4uL3RvYXN0JzsgLy8gLS0tIENvbnN0YW50cyAtLS0KCnZhciBQUk9QX05BTUUgPSAnJGJ2VG9hc3QnOwp2YXIgUFJPUF9OQU1FX1BSSVYgPSAnX2J2X190b2FzdCc7IC8vIEJhc2UgdG9hc3QgcHJvcHMgdGhhdCBhcmUgYWxsb3dlZAovLyBTb21lIG1heSBiZSBpZ25vcmVkIG9yIG92ZXJyaWRkZW4gb24gc29tZSBtZXNzYWdlIGJveGVzCi8vIFByb3AgSUQgaXMgYWxsb3dlZCwgYnV0IHJlYWxseSBvbmx5IHNob3VsZCBiZSB1c2VkIGZvciB0ZXN0aW5nCi8vIFdlIG5lZWQgdG8gYWRkIGl0IGluIGV4cGxpY2l0bHkgYXMgaXQgY29tZXMgZnJvbSB0aGUgYGlkTWl4aW5gCgp2YXIgQkFTRV9QUk9QUyA9IFsnaWQnXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGtleXMob21pdCh0b2FzdFByb3BzLCBbJ3N0YXRpYycsICd2aXNpYmxlJ10pKSkpOyAvLyBNYXAgcHJvcCBuYW1lcyB0byB0b2FzdCBzbG90IG5hbWVzCgp2YXIgcHJvcHNUb1Nsb3RzID0gewogIHRvYXN0Q29udGVudDogJ2RlZmF1bHQnLAogIHRpdGxlOiAndG9hc3QtdGl0bGUnCn07IC8vIC0tLSBIZWxwZXIgbWV0aG9kcyAtLS0KLy8gTWV0aG9kIHRvIGZpbHRlciBvbmx5IHJlY29nbml6ZWQgcHJvcHMgdGhhdCBhcmUgbm90IHVuZGVmaW5lZAoKdmFyIGZpbHRlck9wdGlvbnMgPSBmdW5jdGlvbiBmaWx0ZXJPcHRpb25zKG9wdGlvbnMpIHsKICByZXR1cm4gQkFTRV9QUk9QUy5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGtleSkgewogICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zW2tleV0pKSB7CiAgICAgIG1lbW9ba2V5XSA9IG9wdGlvbnNba2V5XTsKICAgIH0KCiAgICByZXR1cm4gbWVtbzsKICB9LCB7fSk7Cn07IC8vIE1ldGhvZCB0byBpbnN0YWxsIGAkYnZUb2FzdGAgVk0gaW5qZWN0aW9uCgoKdmFyIHBsdWdpbiA9IGZ1bmN0aW9uIHBsdWdpbihWdWUpIHsKICAvLyBDcmVhdGUgYSBwcml2YXRlIHN1Yi1jb21wb25lbnQgY29uc3RydWN0b3IgdGhhdAogIC8vIGV4dGVuZHMgQlRvYXN0IGFuZCBzZWxmLWRlc3RydWN0cyBhZnRlciBoaWRkZW4KICAvLyBAdnVlL2NvbXBvbmVudAogIHZhciBCVlRvYXN0UG9wID0gVnVlLmV4dGVuZCh7CiAgICBuYW1lOiBOQU1FX1RPQVNUX1BPUCwKICAgIGV4dGVuZHM6IEJUb2FzdCwKICAgIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgICAvLyBNYWtlIHN1cmUgd2Ugbm90IGluIGRvY3VtZW50IGFueSBtb3JlCiAgICAgIHZhciAkZWwgPSB0aGlzLiRlbDsKCiAgICAgIGlmICgkZWwgJiYgJGVsLnBhcmVudE5vZGUpIHsKICAgICAgICAkZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCgkZWwpOwogICAgICB9CiAgICB9LAogICAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsgLy8gU2VsZiBkZXN0cnVjdCBoYW5kbGVyCgoKICAgICAgdmFyIGhhbmRsZURlc3Ryb3kgPSBmdW5jdGlvbiBoYW5kbGVEZXN0cm95KCkgewogICAgICAgIC8vIEVuc3VyZSB0aGUgdG9hc3QgaGFzIGJlZW4gZm9yY2UgaGlkZGVuCiAgICAgICAgX3RoaXMubG9jYWxTaG93ID0gZmFsc2U7CiAgICAgICAgX3RoaXMuZG9SZW5kZXIgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIEluIGEgYHJlcXVlc3RBRigpYCB0byByZWxlYXNlIGNvbnRyb2wgYmFjayB0byBhcHBsaWNhdGlvbgogICAgICAgICAgICAvLyBhbmQgdG8gYWxsb3cgdGhlIHBvcnRhbC10YXJnZXQgdGltZSB0byByZW1vdmUgdGhlIGNvbnRlbnQKICAgICAgICAgICAgcmVxdWVzdEFGKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpcy4kZGVzdHJveSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9OyAvLyBTZWxmIGRlc3RydWN0IGlmIHBhcmVudCBkZXN0cm95ZWQKCgogICAgICB0aGlzLiRwYXJlbnQuJG9uY2UoSE9PS19FVkVOVF9OQU1FX0RFU1RST1lFRCwgaGFuZGxlRGVzdHJveSk7IC8vIFNlbGYgZGVzdHJ1Y3QgYWZ0ZXIgaGlkZGVuCgogICAgICB0aGlzLiRvbmNlKEVWRU5UX05BTUVfSElEREVOLCBoYW5kbGVEZXN0cm95KTsgLy8gU2VsZiBkZXN0cnVjdCB3aGVuIHRvYXN0ZXIgaXMgZGVzdHJveWVkCgogICAgICB0aGlzLmxpc3Rlbk9uUm9vdChnZXRSb290RXZlbnROYW1lKE5BTUVfVE9BU1RFUiwgRVZFTlRfTkFNRV9ERVNUUk9ZRUQpLCBmdW5jdGlvbiAodG9hc3RlcikgewogICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBoYXJkIHRvIHRlc3QgKi8KICAgICAgICBpZiAodG9hc3RlciA9PT0gX3RoaXMudG9hc3RlcikgewogICAgICAgICAgaGFuZGxlRGVzdHJveSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSk7IC8vIFByaXZhdGUgbWV0aG9kIHRvIGdlbmVyYXRlIHRoZSBvbi1kZW1hbmQgdG9hc3QKCiAgdmFyIG1ha2VUb2FzdCA9IGZ1bmN0aW9uIG1ha2VUb2FzdChwcm9wcywgJHBhcmVudCkgewogICAgaWYgKHdhcm5Ob3RDbGllbnQoUFJPUF9OQU1FKSkgewogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICByZXR1cm47CiAgICB9IC8vIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBgQlZUb2FzdFBvcGAgY29tcG9uZW50CgoKICAgIHZhciB0b2FzdCA9IG5ldyBCVlRvYXN0UG9wKHsKICAgICAgLy8gV2Ugc2V0IHBhcmVudCBhcyB0aGUgbG9jYWwgVk0gc28gdGhlc2UgdG9hc3RzIGNhbiBlbWl0IGV2ZW50cyBvbiB0aGUKICAgICAgLy8gYXBwIGAkcm9vdGAsIGFuZCBpdCBlbnN1cmVzIGBCVG9hc3RgIGlzIGRlc3Ryb3llZCB3aGVuIHBhcmVudCBpcyBkZXN0cm95ZWQKICAgICAgcGFyZW50OiAkcGFyZW50LAogICAgICBwcm9wc0RhdGE6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBmaWx0ZXJPcHRpb25zKGdldENvbXBvbmVudENvbmZpZyhOQU1FX1RPQVNUKSkpLCBvbWl0KHByb3BzLCBrZXlzKHByb3BzVG9TbG90cykpKSwge30sIHsKICAgICAgICAvLyBQcm9wcyB0aGF0IGNhbid0IGJlIG92ZXJyaWRkZW4KICAgICAgICBzdGF0aWM6IGZhbHNlLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSkKICAgIH0pOyAvLyBDb252ZXJ0IGNlcnRhaW4gcHJvcHMgdG8gc2xvdHMKCiAgICBrZXlzKHByb3BzVG9TbG90cykuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkgewogICAgICB2YXIgdmFsdWUgPSBwcm9wc1twcm9wXTsKCiAgICAgIGlmICghaXNVbmRlZmluZWQodmFsdWUpKSB7CiAgICAgICAgLy8gQ2FuIGJlIGEgc3RyaW5nLCBvciBhcnJheSBvZiBWTm9kZXMKICAgICAgICBpZiAocHJvcCA9PT0gJ3RpdGxlJyAmJiBpc1N0cmluZyh2YWx1ZSkpIHsKICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdGl0bGUgaWYgaXQgaXMgYSBzdHJpbmcsIHdlIHdyYXAgaW4gYSA8c3Ryb25nPgogICAgICAgICAgdmFsdWUgPSBbJHBhcmVudC4kY3JlYXRlRWxlbWVudCgnc3Ryb25nJywgewogICAgICAgICAgICBjbGFzczogJ21yLTInCiAgICAgICAgICB9LCB2YWx1ZSldOwogICAgICAgIH0KCiAgICAgICAgdG9hc3QuJHNsb3RzW3Byb3BzVG9TbG90c1twcm9wXV0gPSBjb25jYXQodmFsdWUpOwogICAgICB9CiAgICB9KTsgLy8gQ3JlYXRlIGEgbW91bnQgcG9pbnQgKGEgRElWKSBhbmQgbW91bnQgaXQgKHdoaWNoIHRyaWdnZXJzIHRoZSBzaG93KQoKICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTsKICAgIHRvYXN0LiRtb3VudChkaXYpOwogIH07IC8vIERlY2xhcmUgQnZUb2FzdCBpbnN0YW5jZSBwcm9wZXJ0eSBjbGFzcwoKCiAgdmFyIEJ2VG9hc3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gQnZUb2FzdCh2bSkgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQnZUb2FzdCk7IC8vIEFzc2lnbiB0aGUgbmV3IHByb3BlcnRpZXMgdG8gdGhpcyBpbnN0YW5jZQoKCiAgICAgIGFzc2lnbih0aGlzLCB7CiAgICAgICAgX3ZtOiB2bSwKICAgICAgICBfcm9vdDogdm0uJHJvb3QKICAgICAgfSk7IC8vIFNldCB0aGVzZSBwcm9wZXJ0aWVzIGFzIHJlYWQtb25seSBhbmQgbm9uLWVudW1lcmFibGUKCiAgICAgIGRlZmluZVByb3BlcnRpZXModGhpcywgewogICAgICAgIF92bTogcmVhZG9ubHlEZXNjcmlwdG9yKCksCiAgICAgICAgX3Jvb3Q6IHJlYWRvbmx5RGVzY3JpcHRvcigpCiAgICAgIH0pOwogICAgfSAvLyAtLS0gUHVibGljIEluc3RhbmNlIG1ldGhvZHMgLS0tCiAgICAvLyBPcGVucyBhIHVzZXIgZGVmaW5lZCB0b2FzdCBhbmQgcmV0dXJucyBpbW1lZGlhdGVseQoKCiAgICBfY3JlYXRlQ2xhc3MoQnZUb2FzdCwgW3sKICAgICAga2V5OiAidG9hc3QiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gdG9hc3QoY29udGVudCkgewogICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKCiAgICAgICAgaWYgKCFjb250ZW50IHx8IHdhcm5Ob3RDbGllbnQoUFJPUF9OQU1FKSkgewogICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIG1ha2VUb2FzdChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGZpbHRlck9wdGlvbnMob3B0aW9ucykpLCB7fSwgewogICAgICAgICAgdG9hc3RDb250ZW50OiBjb250ZW50CiAgICAgICAgfSksIHRoaXMuX3ZtKTsKICAgICAgfSAvLyBzaG93cyBhIGA8Yi10b2FzdD5gIGNvbXBvbmVudCB3aXRoIHRoZSBzcGVjaWZpZWQgSUQKCiAgICB9LCB7CiAgICAgIGtleTogInNob3ciLAogICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdyhpZCkgewogICAgICAgIGlmIChpZCkgewogICAgICAgICAgdGhpcy5fcm9vdC4kZW1pdChnZXRSb290QWN0aW9uRXZlbnROYW1lKE5BTUVfVE9BU1QsIEVWRU5UX05BTUVfU0hPVyksIGlkKTsKICAgICAgICB9CiAgICAgIH0gLy8gSGlkZSBhIHRvYXN0IHdpdGggc3BlY2lmaWVkIElELCBvciBpZiBub3QgSUQgYWxsIHRvYXN0cwoKICAgIH0sIHsKICAgICAga2V5OiAiaGlkZSIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKCkgewogICAgICAgIHZhciBpZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDsKCiAgICAgICAgdGhpcy5fcm9vdC4kZW1pdChnZXRSb290QWN0aW9uRXZlbnROYW1lKE5BTUVfVE9BU1QsIEVWRU5UX05BTUVfSElERSksIGlkKTsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBCdlRvYXN0OwogIH0oKTsgLy8gQWRkIG91ciBpbnN0YW5jZSBtaXhpbgoKCiAgVnVlLm1peGluKHsKICAgIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlKCkgewogICAgICAvLyBCZWNhdXNlIHdlIG5lZWQgYWNjZXNzIHRvIGAkcm9vdGAgZm9yIGAkZW1pdHNgLCBhbmQgVk0gZm9yIHBhcmVudGluZywKICAgICAgLy8gd2UgaGF2ZSB0byBjcmVhdGUgYSBmcmVzaCBpbnN0YW5jZSBvZiBgQnZUb2FzdGAgZm9yIGVhY2ggVk0KICAgICAgdGhpc1tQUk9QX05BTUVfUFJJVl0gPSBuZXcgQnZUb2FzdCh0aGlzKTsKICAgIH0KICB9KTsgLy8gRGVmaW5lIG91ciByZWFkLW9ubHkgYCRidlRvYXN0YCBpbnN0YW5jZSBwcm9wZXJ0eQogIC8vIFBsYWNlZCBpbiBhbiBpZiBqdXN0IGluIGNhc2UgaW4gSE1SIG1vZGUKCiAgaWYgKCFoYXNPd25Qcm9wZXJ0eShWdWUucHJvdG90eXBlLCBQUk9QX05BTUUpKSB7CiAgICBkZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCBQUk9QX05BTUUsIHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgICBpZiAoIXRoaXMgfHwgIXRoaXNbUFJPUF9OQU1FX1BSSVZdKSB7CiAgICAgICAgICB3YXJuKCJcIiIuY29uY2F0KFBST1BfTkFNRSwgIlwiIG11c3QgYmUgYWNjZXNzZWQgZnJvbSBhIFZ1ZSBpbnN0YW5jZSBcInRoaXNcIiBjb250ZXh0LiIpLCBOQU1FX1RPQVNUKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzW1BST1BfTkFNRV9QUklWXTsKICAgICAgfQogICAgfSk7CiAgfQp9OwoKZXhwb3J0IHZhciBCVlRvYXN0UGx1Z2luID0gLyojX19QVVJFX18qL3BsdWdpbkZhY3RvcnkoewogIHBsdWdpbnM6IHsKICAgIHBsdWdpbjogcGx1Z2luCiAgfQp9KTs="},null]}