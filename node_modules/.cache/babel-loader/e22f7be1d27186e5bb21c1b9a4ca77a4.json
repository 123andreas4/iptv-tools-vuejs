{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/user/confirm-email.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/user/confirm-email.vue","mtime":1625771004966},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL21lZGlhL2VybnN0LzYzYmNlNDNjLTVlNTEtNGJmMS1hNjExLTNhZmRmMzJhYzZmNi9WdWVKUy9JUFRWLVRvb2xzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgaHR0cFNlcnZpY2UgfSBmcm9tICIuLi8uLi9zZXJ2aWNlcy9odHRwIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb2RlOiAiIiwKICAgICAgY29uZmlybWVkOiBmYWxzZSwKICAgICAgZXJyb3I6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbInByb2Nlc3NpbmciXSkpLCB7fSwgewogICAgY29uZmlybURpc2FibGVkOiBmdW5jdGlvbiBjb25maXJtRGlzYWJsZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLmNvZGUubGVuZ3RoID09PSAwOwogICAgfQogIH0pLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbImNoZWNrVXNlcm5hbWUiLCAicmVnaXN0ZXIiXSkpLCB7fSwgewogICAgY29uZmlybUVtYWlsOiBmdW5jdGlvbiBjb25maXJtRW1haWwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBodHRwU2VydmljZS5wb3N0KCd1c2Vycy9jb25maXJtJywgewogICAgICAgIGNvZGU6IHRoaXMuY29kZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSAmJiByZXMuZGF0YSA9PT0gdHJ1ZSkgewogICAgICAgICAgX3RoaXMuY29kZSA9ICIiOwogICAgICAgICAgX3RoaXMuY29uZmlybWVkID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuY29kZSA9ICIiOwogICAgICAgICAgX3RoaXMuY29uZmlybWVkID0gdHJ1ZTsKICAgICAgICAgIF90aGlzLmVycm9yID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5jb2RlID0gIiI7CiAgICAgICAgX3RoaXMuY29uZmlybWVkID0gdHJ1ZTsKICAgICAgICBfdGhpcy5lcnJvciA9IHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIGdvdG9Mb2dpbjogZnVuY3Rpb24gZ290b0xvZ2luKCkgewogICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgcGF0aDogIi91c2VyL2xvZ2luIgogICAgICB9KTsKICAgIH0KICB9KSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkgJiYgdGhpcy4kcm91dGUucXVlcnkuY29kZSAmJiB0aGlzLiRyb3V0ZS5xdWVyeS5jb2RlLmxlbmd0aCkgewogICAgICB0aGlzLmNvZGUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5jb2RlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["confirm-email.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,SAAA,WAAA,QAAA,qBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,QAAA,kCACA,UAAA,CAAA,CAAA,YAAA,CAAA,CADA;AAEA,IAAA,eAFA,6BAEA;AACA,aAAA,KAAA,IAAA,CAAA,MAAA,KAAA,CAAA;AACA;AAJA,IARA;AAcA,EAAA,OAAA,kCACA,UAAA,CAAA,CAAA,eAAA,EAAA,UAAA,CAAA,CADA;AAEA,IAAA,YAFA,0BAEA;AAAA;;AACA,MAAA,WAAA,CAAA,IAAA,CAAA,eAAA,EAAA;AAAA,QAAA,IAAA,EAAA,KAAA;AAAA,OAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,MAAA,KAAA,IAAA,IAAA,GAAA,CAAA,IAAA,KAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,UAAA,KAAA,CAAA,KAAA,GAAA,IAAA;AACA;AACA,OAVA,EAWA,KAXA,CAWA,YAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,IAAA;AACA,OAfA;AAgBA,KAnBA;AAoBA,IAAA,SApBA,uBAoBA;AACA,WAAA,OAAA,CAAA,OAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA;AAtBA,IAdA;AAsCA,EAAA,WAtCA,yBAsCA;AACA,QAAA,KAAA,MAAA,CAAA,KAAA,IAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,IAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,WAAA,IAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA;AACA;AACA;AA1CA,CAAA","sourcesContent":["<template>\n  <erd-row class=\"h-100\">\n    <erd-col sm=\"12\" md=\"10\" lg=\"7\" class=\"mx-auto my-auto pb-5\">\n      <erd-card class=\"depth-4 register\">\n        <div class=\"image-side\">\n          <div class=\"title\">\n            <h1>{{ $t(\"confirm.head\") }}</h1>\n            <h5>{{ $t(\"confirm.subtitle\") }}</h5>\n          </div>\n          <transition name=\"fade\">\n            <erd-spinner\n              variant=\"primary\"\n              v-if=\"processing\"\n              size=\"lg\"\n            ></erd-spinner>\n          </transition>\n        </div>\n        <div class=\"form-side\">\n          <h1 class=\"title\">{{ $t(\"confirm.title\") }}</h1>\n          <div class=\"form\">\n            <div class=\"px-4 text-center\">\n              <p>{{ $t(\"confirm.text\") }}</p>\n            </div>\n            <div class=\"py-5 text-center\">\n              <erd-button\n                variant=\"primary\"\n                @click=\"confirmEmail\"\n                v-if=\"!confirmed\"\n                :disabled=\"confirmDisabled\"\n                >{{ $t(\"confirm.submit\") }}</erd-button\n              >\n              <erd-button\n                variant=\"primary\"\n                @click=\"gotoLogin\"\n                v-if=\"confirmed\"\n                >{{ $t(\"login.submit\") }}</erd-button\n              >\n              <p class=\"mt-5 font-weight-bold\" v-if=\"confirmed\">{{ $t(\"confirm.thank-you\") }}</p>\n              <p class=\"mt-5 font-weight-bold text-danger\" v-if=\"error\">{{ $t(\"confirm.error\") }}</p>\n            </div>\n          </div>\n        </div>\n      </erd-card>\n    </erd-col>\n  </erd-row>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nimport { httpService } from \"../../services/http\";\n\nexport default {\n  data() {\n    return {\n      code: \"\",\n      confirmed: false,\n      error: false,\n    };\n  },\n  computed: {\n    ...mapGetters([\"processing\"]),\n    confirmDisabled() {\n      return this.code.length === 0;\n    }\n  },\n  methods: {\n    ...mapActions([\"checkUsername\", \"register\"]),\n    confirmEmail() {\n      httpService.post('users/confirm', { code: this.code })\n      .then(res => {\n        if (res.status === true && res.data === true) {\n          this.code = \"\";\n          this.confirmed = true;\n        } else {\n          this.code  = \"\";\n          this.confirmed = true;\n          this.error = true;\n        }\n      })\n      .catch(() => {\n        this.code  = \"\";\n        this.confirmed = true;\n        this.error = true;\n      })\n    },\n    gotoLogin() {\n      this.$router.replace({ path: \"/user/login\" });\n    }\n  },\n  beforeMount() {\n    if (this.$route.query && this.$route.query.code && this.$route.query.code.length) {\n      this.code = this.$route.query.code;\n    }\n  }\n};\n</script>"],"sourceRoot":"src/views/user"}]}