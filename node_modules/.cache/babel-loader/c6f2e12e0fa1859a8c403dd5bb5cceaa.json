{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/eslint-loader/index.js??ref--13-0!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/services/http.js","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/services/http.js","mtime":1624285786416},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKaW1wb3J0IHsgYXV0aEhlYWRlciwgZm9ybWF0SGVhZGVyLCBhY3RpdmVBUEkgfSBmcm9tICIuLi9oZWxwZXJzIjsKaW1wb3J0IHsgaXBHZW9BUElLZXkgfSBmcm9tICIuLi9jb25zdGFudHMvY29uZmlnIjsKZXhwb3J0IHZhciBodHRwU2VydmljZSA9IHsKICBnZXQ6IGZ1bmN0aW9uIGdldCh1cmwsIGhlYWRlcikgewogICAgdmFyIHJlcXVlc3RPcHRpb25zID0gewogICAgICBtZXRob2Q6ICJHRVQiLAogICAgICBoZWFkZXJzOiBmb3JtYXRIZWFkZXIoYXV0aEhlYWRlcihoZWFkZXIpKQogICAgfTsKICAgIHJldHVybiBmZXRjaCgiIi5jb25jYXQoYWN0aXZlQVBJKCksICIvIikuY29uY2F0KHVybCksIHJlcXVlc3RPcHRpb25zKS50aGVuKGhhbmRsZVJlc3BvbnNlKTsKICB9LAogIHB1dDogZnVuY3Rpb24gcHV0KHVybCwgZGF0YSwgaGVhZGVyKSB7CiAgICB2YXIgcmVxdWVzdE9wdGlvbnMgPSB7CiAgICAgIG1ldGhvZDogIlBVVCIsCiAgICAgIGhlYWRlcnM6IGZvcm1hdEhlYWRlcihhdXRoSGVhZGVyKGhlYWRlcikpLAogICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKQogICAgfTsKICAgIHJldHVybiBmZXRjaCgiIi5jb25jYXQoYWN0aXZlQVBJKCksICIvIikuY29uY2F0KHVybCksIHJlcXVlc3RPcHRpb25zKS50aGVuKGhhbmRsZVJlc3BvbnNlKTsKICB9LAogIHBvc3Q6IGZ1bmN0aW9uIHBvc3QodXJsLCBkYXRhLCBoZWFkZXIpIHsKICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgIGhlYWRlcnM6IGZvcm1hdEhlYWRlcihhdXRoSGVhZGVyKGhlYWRlcikpLAogICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKQogICAgfTsKICAgIHJldHVybiBmZXRjaCgiIi5jb25jYXQoYWN0aXZlQVBJKCksICIvIikuY29uY2F0KHVybCksIHJlcXVlc3RPcHRpb25zKS50aGVuKGhhbmRsZVJlc3BvbnNlKTsKICB9LAogIGRlbGV0ZTogZnVuY3Rpb24gX2RlbGV0ZSh1cmwsIGhlYWRlcikgewogICAgdmFyIHJlcXVlc3RPcHRpb25zID0gewogICAgICBtZXRob2Q6ICJERUxFVEUiLAogICAgICBoZWFkZXJzOiBmb3JtYXRIZWFkZXIoYXV0aEhlYWRlcihoZWFkZXIpKQogICAgfTsKICAgIHJldHVybiBmZXRjaCgiIi5jb25jYXQoYWN0aXZlQVBJKCksICIvIikuY29uY2F0KHVybCksIHJlcXVlc3RPcHRpb25zKS50aGVuKGhhbmRsZVJlc3BvbnNlKTsKICB9LAogIHlvdXR1YmU6IGZ1bmN0aW9uIHlvdXR1YmUodmlkZW9JZCkgewogICAgdmFyIHJlcXVlc3RPcHRpb25zID0gewogICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgaGVhZGVyczogZm9ybWF0SGVhZGVyKGF1dGhIZWFkZXIoKSksCiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICB2aWRlb19pZDogdmlkZW9JZAogICAgICB9KQogICAgfTsKICAgIHJldHVybiBmZXRjaCgiIi5jb25jYXQoYWN0aXZlQVBJKCksICIvZWRpdG9yL3lvdXR1YmUtdmlkZW8iKSwgcmVxdWVzdE9wdGlvbnMpLnRoZW4oaGFuZGxlWW91dHViZSk7CiAgfSwKICBpcGdlbzogZnVuY3Rpb24gaXBnZW8oKSB7CiAgICByZXR1cm4gZmV0Y2goImh0dHBzOi8vYXBpLmlwZ2VvbG9jYXRpb24uaW8vaXBnZW8/YXBpS2V5PSIuY29uY2F0KGlwR2VvQVBJS2V5KSwgewogICAgICBtZXRob2Q6ICJHRVQiCiAgICB9KS50aGVuKGhhbmRsZVJlc3BvbnNlKTsKICB9LAogIGRvd25sb2FkOiBmdW5jdGlvbiBkb3dubG9hZCh1cmwpIHsKICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgaGVhZGVyczogZm9ybWF0SGVhZGVyKGF1dGhIZWFkZXIoKSkKICAgIH07CiAgICByZXR1cm4gZmV0Y2goIiIuY29uY2F0KGFjdGl2ZUFQSSgpLCAiLyIpLmNvbmNhdCh1cmwpLCByZXF1ZXN0T3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTsKICAgIH0pOwogIH0sCiAgcG9zdEZpbGU6IGZ1bmN0aW9uIHBvc3RGaWxlKHVybCwgZm9ybURhdGEpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgeGhyLm9wZW4oIlBPU1QiLCAiIi5jb25jYXQoYWN0aXZlQVBJKCksICIvIikuY29uY2F0KHVybCkpOwoKICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAodGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwKSB7CiAgICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlamVjdCh7CiAgICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsCiAgICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH07CgogICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZWplY3QoewogICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cywKICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICB2YXIgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXIiKSk7CgogICAgICBpZiAodXNlciAmJiB1c2VyLnRva2VuKSB7CiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoIngtYXBpLWtleSIsICJCZWFyZXIgIiArIHVzZXIudG9rZW4pOwogICAgICB9CgogICAgICB4aHIuc2VuZChmb3JtRGF0YSk7CiAgICB9KTsKICB9Cn07CmV4cG9ydCB2YXIgdXNlclNlcnZpY2UgPSB7CiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZCkgewogICAgdmFyIHJlcXVlc3RPcHRpb25zID0gewogICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgaGVhZGVyczogZm9ybWF0SGVhZGVyKCksCiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkCiAgICAgIH0pCiAgICB9OwogICAgcmV0dXJuIGZldGNoKCIiLmNvbmNhdChhY3RpdmVBUEkoKSwgIi91c2Vycy9hdXRoZW50aWNhdGUiKSwgcmVxdWVzdE9wdGlvbnMpLnRoZW4oaGFuZGxlUmVzcG9uc2UpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgLy8gbG9naW4gc3VjY2Vzc2Z1bCBpZiB0aGVyZSdzIGEgand0IHRva2VuIGluIHRoZSByZXNwb25zZQogICAgICBpZiAodXNlci50b2tlbikgewogICAgICAgIC8vIHN0b3JlIHVzZXIgZGV0YWlscyBhbmQgand0IHRva2VuIGluIGxvY2FsIHN0b3JhZ2UgdG8ga2VlcCB1c2VyIGxvZ2dlZCBpbiBiZXR3ZWVuIHBhZ2UgcmVmcmVzaGVzCiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1c2VyOwogICAgfSk7CiAgfSwKICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgIGhlYWRlcnM6IGZvcm1hdEhlYWRlcihhdXRoSGVhZGVyKCkpLAogICAgICBib2R5OiAiIgogICAgfTsKICAgIHJldHVybiBmZXRjaCgiIi5jb25jYXQoYWN0aXZlQVBJKCksICIvdXNlcnMvbG9nb3V0IiksIHJlcXVlc3RPcHRpb25zKS50aGVuKGhhbmRsZVJlc3BvbnNlKTsKICB9LAogIGZvcmdvdFBhc3N3b3JkOiBmdW5jdGlvbiBmb3Jnb3RQYXNzd29yZCh1c2VybmFtZSwgZW1haWwpIHsKICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgIGhlYWRlcnM6IGZvcm1hdEhlYWRlcigpLAogICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgICAgIGVtYWlsOiBlbWFpbAogICAgICB9KQogICAgfTsKICAgIHJldHVybiBmZXRjaCgiIi5jb25jYXQoYWN0aXZlQVBJKCksICIvdXNlcnMvZm9yZ290IiksIHJlcXVlc3RPcHRpb25zKS50aGVuKGhhbmRsZVJlc3BvbnNlKTsKICB9LAogIHJlc2V0UGFzc3dvcmQ6IGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmQodXNlcm5hbWUsIGNvZGUsIHBhc3N3b3JkKSB7CiAgICB2YXIgcmVxdWVzdE9wdGlvbnMgPSB7CiAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICBoZWFkZXJzOiBmb3JtYXRIZWFkZXIoKSwKICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgICBjb2RlOiBjb2RlLAogICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICB9KQogICAgfTsKICAgIHJldHVybiBmZXRjaCgiIi5jb25jYXQoYWN0aXZlQVBJKCksICIvdXNlcnMvcmVzZXQiKSwgcmVxdWVzdE9wdGlvbnMpLnRoZW4oaGFuZGxlUmVzcG9uc2UpOwogIH0sCiAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKHVzZXIpIHsKICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgIGhlYWRlcnM6IGZvcm1hdEhlYWRlcigpLAogICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyKQogICAgfTsKICAgIHJldHVybiBmZXRjaCgiIi5jb25jYXQoYWN0aXZlQVBJKCksICIvdXNlcnMvcmVnaXN0ZXIiKSwgcmVxdWVzdE9wdGlvbnMpLnRoZW4oaGFuZGxlUmVzcG9uc2UpOwogIH0sCiAgY2hlY2tVc2VybmFtZTogZnVuY3Rpb24gY2hlY2tVc2VybmFtZSh1c2VybmFtZSkgewogICAgdmFyIHJlcXVlc3RPcHRpb25zID0gewogICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgaGVhZGVyczogZm9ybWF0SGVhZGVyKCksCiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUKICAgICAgfSkKICAgIH07CiAgICByZXR1cm4gZmV0Y2goIiIuY29uY2F0KGFjdGl2ZUFQSSgpLCAiL3VzZXJzL2F2YWlsYWJsZSIpLCByZXF1ZXN0T3B0aW9ucykudGhlbihoYW5kbGVSZXNwb25zZSk7CiAgfQp9OwoKZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpIHsKICByZXR1cm4gcmVzcG9uc2UudGV4dCgpLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgIHZhciBkYXRhID0gdGV4dCAmJiBKU09OLnBhcnNlKHRleHQpOwoKICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgLy8gYXV0byBsb2dvdXQgaWYgNDAxIHJlc3BvbnNlIHJldHVybmVkIGZyb20gYXBpCiAgICAgICAgaHR0cFNlcnZpY2UubG9nb3V0KCk7CiAgICAgICAgbG9jYXRpb24ucmVsb2FkKHRydWUpOwogICAgICB9CgogICAgICB2YXIgZXJyb3IgPSBkYXRhICYmIGRhdGEubWVzc2FnZSB8fCByZXNwb25zZS5zdGF0dXNUZXh0OwogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgfQoKICAgIHJldHVybiBkYXRhOwogIH0pOwp9CgpmdW5jdGlvbiBoYW5kbGVZb3V0dWJlKHJlc3BvbnNlKSB7CiAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKS50aGVuKGZ1bmN0aW9uICh0ZXh0KSB7CiAgICB2YXIgaW5mbyA9IHRleHQubWF0Y2goLyg/PD0+dmFyIHl0SW5pdGlhbFBsYXllclJlc3BvbnNlID0pKC4qKSg/PTt2YXIgbWV0YSkvaSk7CiAgICByZXR1cm4gaW5mbyAmJiBpbmZvLmxlbmd0aCA/IEpTT04ucGFyc2UoaW5mb1swXSkgOiBudWxsOwogIH0pOwp9Ci8qZnVuY3Rpb24gaGFuZGxlUmF3KHJlc3BvbnNlKSB7CiAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKS50aGVuKCh0ZXh0KSA9PiB7CiAgICByZXR1cm4gdGV4dDsKICB9KTsKfSov"},{"version":3,"sources":["/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/services/http.js"],"names":["authHeader","formatHeader","activeAPI","ipGeoAPIKey","httpService","get","url","header","requestOptions","method","headers","fetch","then","handleResponse","put","data","body","JSON","stringify","post","delete","youtube","videoId","video_id","handleYoutube","ipgeo","download","response","blob","postFile","formData","Promise","resolve","reject","xhr","XMLHttpRequest","open","onload","status","parse","statusText","onerror","user","localStorage","getItem","token","setRequestHeader","send","userService","login","username","password","setItem","logout","forgotPassword","email","resetPassword","code","register","checkUsername","text","ok","location","reload","error","message","info","match","length"],"mappings":"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","sourcesContent":["import { authHeader, formatHeader, activeAPI } from \"../helpers\";\nimport { ipGeoAPIKey } from \"../constants/config\";\n\nexport const httpService = {\n  get(url, header) {\n    const requestOptions = {\n      method: \"GET\",\n      headers: formatHeader(authHeader(header)),\n    };\n    return fetch(`${activeAPI()}/${url}`, requestOptions).then(handleResponse);\n  },\n  put(url, data, header) {\n    const requestOptions = {\n      method: \"PUT\",\n      headers: formatHeader(authHeader(header)),\n      body: JSON.stringify(data),\n    };\n\n    return fetch(`${activeAPI()}/${url}`, requestOptions).then(handleResponse);\n  },\n  post(url, data, header) {\n    const requestOptions = {\n      method: \"POST\",\n      headers: formatHeader(authHeader(header)),\n      body: JSON.stringify(data),\n    };\n\n    return fetch(`${activeAPI()}/${url}`, requestOptions).then(handleResponse);\n  },\n  delete(url, header) {\n    const requestOptions = {\n      method: \"DELETE\",\n      headers: formatHeader(authHeader(header)),\n    };\n\n    return fetch(`${activeAPI()}/${url}`, requestOptions).then(handleResponse);\n  },\n  youtube(videoId) {\n    const requestOptions = {\n      method: \"POST\",\n      headers: formatHeader(authHeader()),\n      body: JSON.stringify({ video_id: videoId }),\n    };\n\n    return fetch(`${activeAPI()}/editor/youtube-video`, requestOptions).then(\n      handleYoutube\n    );\n  },\n  ipgeo() {\n    return fetch(`https://api.ipgeolocation.io/ipgeo?apiKey=${ipGeoAPIKey}`, {\n      method: \"GET\",\n    }).then(handleResponse);\n  },\n  download(url) {\n    const requestOptions = {\n      method: \"GET\",\n      headers: formatHeader(authHeader()),\n    };\n\n    return fetch(`${activeAPI()}/${url}`, requestOptions)\n      .then(response => response.blob())\n  },\n  postFile(url, formData) {\n    return new Promise(function (resolve, reject) {\n      var xhr = new XMLHttpRequest();\n      xhr.open(\"POST\", `${activeAPI()}/${url}`);\n      xhr.onload = function () {\n        if (this.status >= 200 && this.status < 300) {\n          resolve(JSON.parse(xhr.response));\n        } else {\n          reject({\n            status: this.status,\n            statusText: xhr.statusText\n          });\n        }\n      };\n      xhr.onerror = function () {\n        reject({\n          status: this.status,\n          statusText: xhr.statusText\n        });\n      };\n      let user = JSON.parse(localStorage.getItem(\"user\"));\n      if (user && user.token) {\n        xhr.setRequestHeader(\"x-api-key\", \"Bearer \" + user.token);\n      }\n      xhr.send(formData);\n    });\n  }\n};\n\nexport const userService = {\n  login(username, password) {\n    const requestOptions = {\n      method: \"POST\",\n      headers: formatHeader(),\n      body: JSON.stringify({\n        username: username,\n        password: password,\n      }),\n    };\n\n    return fetch(`${activeAPI()}/users/authenticate`, requestOptions)\n      .then(handleResponse)\n      .then((user) => {\n        // login successful if there's a jwt token in the response\n        if (user.token) {\n          // store user details and jwt token in local storage to keep user logged in between page refreshes\n          localStorage.setItem(\"user\", JSON.stringify(user));\n        }\n\n        return user;\n      });\n  },\n  logout() {\n    const requestOptions = {\n      method: \"POST\",\n      headers: formatHeader(authHeader()),\n      body: \"\",\n    };\n\n    return fetch(`${activeAPI()}/users/logout`, requestOptions).then(\n      handleResponse\n    );\n  },\n  forgotPassword(username, email) {\n    const requestOptions = {\n      method: \"POST\",\n      headers: formatHeader(),\n      body: JSON.stringify({\n        username: username,\n        email: email,\n      }),\n    };\n\n    return fetch(`${activeAPI()}/users/forgot`, requestOptions).then(\n      handleResponse\n    );\n  },\n  resetPassword(username, code, password) {\n    const requestOptions = {\n      method: \"POST\",\n      headers: formatHeader(),\n      body: JSON.stringify({\n        username: username,\n        code: code,\n        password: password,\n      }),\n    };\n\n    return fetch(`${activeAPI()}/users/reset`, requestOptions).then(\n      handleResponse\n    );\n  },\n  register(user) {\n    const requestOptions = {\n      method: \"POST\",\n      headers: formatHeader(),\n      body: JSON.stringify(user),\n    };\n\n    return fetch(`${activeAPI()}/users/register`, requestOptions).then(\n      handleResponse\n    );\n  },\n  checkUsername(username) {\n    const requestOptions = {\n      method: \"POST\",\n      headers: formatHeader(),\n      body: JSON.stringify({\n        username: username,\n      }),\n    };\n\n    return fetch(`${activeAPI()}/users/available`, requestOptions).then(\n      handleResponse\n    );\n  },\n};\n\nfunction handleResponse(response) {\n  return response.text().then((text) => {\n    const data = text && JSON.parse(text);\n    if (!response.ok) {\n      if (response.status === 401) {\n        // auto logout if 401 response returned from api\n        httpService.logout();\n        location.reload(true);\n      }\n\n      const error = (data && data.message) || response.statusText;\n      return Promise.reject(error);\n    }\n\n    return data;\n  });\n}\n\nfunction handleYoutube(response) {\n  return response.text().then((text) => {\n    let info = text.match(\n      /(?<=>var ytInitialPlayerResponse =)(.*)(?=;var meta)/i\n    );\n    return info && info.length ? JSON.parse(info[0]) : null;\n  });\n}\n\n/*function handleRaw(response) {\n  return response.text().then((text) => {\n    return text;\n  });\n}*/\n"]}]}