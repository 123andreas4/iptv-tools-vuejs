{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/xtream/playlists.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/xtream/playlists.vue","mtime":1625167695206},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvbWVkaWEvZXJuc3QvNjNiY2U0M2MtNWU1MS00YmYxLWE2MTEtM2FmZGYzMmFjNmY2L1Z1ZUpTL0lQVFYtVG9vbHMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL21lZGlhL2VybnN0LzYzYmNlNDNjLTVlNTEtNGJmMS1hNjExLTNhZmRmMzJhYzZmNi9WdWVKUy9JUFRWLVRvb2xzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKLyogZXNsaW50LWRpc2FibGUgdnVlL25vLXNpZGUtZWZmZWN0cy1pbi1jb21wdXRlZC1wcm9wZXJ0aWVzICovCmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAiLi4vLi4vLi4vc2VydmljZXMvZWJ1cyI7CmltcG9ydCB7IGh0dHBTZXJ2aWNlIH0gZnJvbSAiLi4vLi4vLi4vc2VydmljZXMvaHR0cCI7CmltcG9ydCB7IGxhbmd1YWdlcyB9IGZyb20gIi4uLy4uLy4uL2hlbHBlcnMiOwppbXBvcnQgeyBVc2VyUm9sZSwgU3Vic2NyaXB0aW9uVHlwZSB9IGZyb20gIi4uLy4uLy4uL2NvbnN0YW50cy9jb25maWciOwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGFuZ3VhZ2VzOiBsYW5ndWFnZXMsCiAgICAgIGFjdGl2ZVRhYjogMCwKICAgICAgcGxheWxpc3RHcm91cHM6IHsKICAgICAgICBsaXZlOiBbXSwKICAgICAgICBtb3ZpZXM6IFtdLAogICAgICAgIHNlcmllczogW10KICAgICAgfSwKICAgICAgcGxheWxpc3RJbmZvOiB7CiAgICAgICAgbW9kYWw6IGZhbHNlLAogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfSwKICAgICAgcGxheWxpc3RzOiBbXSwKICAgICAgcGxheWxpc3Q6IG51bGwsCiAgICAgIGVkaXRvcjogZmFsc2UsCiAgICAgIHNlYXJjaDogbnVsbCwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgZnJvbTogMCwKICAgICAgdG86IDAsCiAgICAgIHRvdGFsOiAwLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgZmllbGRzOiBbewogICAgICAgIGtleTogImNyZWF0ZWRfYXQiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0uY3JlYXRlZCIpLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJsYXN0X3VwZGF0ZWQiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0ubGFzdC11cGRhdGVkIiksCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIm5hbWUiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0ubmFtZSIpLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJncm91cHMiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0uZ3JvdXBzIiksCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogInN0cmVhbXMiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0uc3RyZWFtcyIpLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJzeW5jX2ludGVydmFsIiwKICAgICAgICBsYWJlbDogdGhpcy4kdCgieHRyZWFtLnN5bmMtaW50ZXJ2YWwiKSwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAic3luY2VkX2F0IiwKICAgICAgICBsYWJlbDogdGhpcy4kdCgieHRyZWFtLnN5bmNlZC1hdCIpLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJzb3VyY2VfZXhwX2RhdGUiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0uZXhwaXJlIiksCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogInNvdXJjZV9tYXhfY29ubmVjdGlvbnMiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0ubWF4LWNvbm5lY3Rpb25zIiksCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogImFjdGlvbnMiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ1c2Vycy5hY3Rpb25zIiksCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHRoQ2xhc3M6ICJ0ZXh0LXJpZ2h0IiwKICAgICAgICB0ZENsYXNzOiAidGV4dC1yaWdodCIKICAgICAgfV0sCiAgICAgIHN5bmNJbnRlcnZhbHM6IFt7CiAgICAgICAgdGV4dDogdGhpcy4kdCgic3luYy1pbnRlcnZhbC40OCIpLAogICAgICAgIHZhbHVlOiA0OAogICAgICB9LCB7CiAgICAgICAgdGV4dDogdGhpcy4kdCgic3luYy1pbnRlcnZhbC4yNCIpLAogICAgICAgIHZhbHVlOiAyNAogICAgICB9LCB7CiAgICAgICAgdGV4dDogdGhpcy4kdCgic3luYy1pbnRlcnZhbC4xMiIpLAogICAgICAgIHZhbHVlOiAxMgogICAgICB9LCB7CiAgICAgICAgdGV4dDogdGhpcy4kdCgic3luYy1pbnRlcnZhbC42IiksCiAgICAgICAgdmFsdWU6IDYKICAgICAgfSwgewogICAgICAgIHRleHQ6IHRoaXMuJHQoInN5bmMtaW50ZXJ2YWwuMSIpLAogICAgICAgIHZhbHVlOiAxCiAgICAgIH1dLAogICAgICBvdXRwdXRUeXBlczogW3sKICAgICAgICB0ZXh0OiB0aGlzLiR0KCJvdXRwdXQuMSIpLAogICAgICAgIHZhbHVlOiAxCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB0aGlzLiR0KCJvdXRwdXQuMiIpLAogICAgICAgIHZhbHVlOiAyCiAgICAgIH1dLAogICAgICBpcHR2VG9vbHNIb3N0OiAiaHR0cDovL3R2LmlwdHYtdG9vbHMuY29tIiwKICAgICAgaXB0dlRvb2xzUG9ydDogODAKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsiY3VycmVudFVzZXIiLCAic2V0dGluZ3MiLCAic3luY1RNREIiLCAic3luY1BsYXlsaXN0Il0pKSwge30sIHsKICAgIHNob3dUb29sdGlwczogZnVuY3Rpb24gc2hvd1Rvb2x0aXBzKCkgewogICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5zaG93VG9vbHRpcHM7CiAgICB9LAogICAgZXBnT2Zmc2V0OiBmdW5jdGlvbiBlcGdPZmZzZXQoKSB7CiAgICAgIHZhciBkdCA9IG5ldyBEYXRlKCk7CiAgICAgIHJldHVybiBNYXRoLmFicyhkdC5nZXRUaW1lem9uZU9mZnNldCgpIC8gNjApOwogICAgfSwKICAgIHBlclBhZ2U6IGZ1bmN0aW9uIHBlclBhZ2UoKSB7CiAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnBlclBhZ2U7CiAgICB9LAogICAgc2VhcmNoRmlsdGVyZWQ6IGZ1bmN0aW9uIHNlYXJjaEZpbHRlcmVkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc2VhcmNoID09PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RzOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAodGhpcy5zZWFyY2gsICJpIik7CiAgICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RzLmZpbHRlcihmdW5jdGlvbiAoYWNjb3VudCkgewogICAgICAgICAgcmV0dXJuIFN0cmluZyhhY2NvdW50LnRpdGxlKS5tYXRjaChyZSkgfHwgU3RyaW5nKGFjY291bnQuaG9zdCkubWF0Y2gocmUpIHx8IFN0cmluZyhhY2NvdW50LnBvcnQpLm1hdGNoKHJlKSB8fCBTdHJpbmcoYWNjb3VudC51c2VybmFtZSkubWF0Y2gocmUpIHx8IFN0cmluZyhhY2NvdW50LnBhc3N3b3JkKS5tYXRjaChyZSkgfHwgX3RoaXMuZm9ybWF0RGF0ZShhY2NvdW50LnN5bmNlZF9hdCkubWF0Y2gocmUpIHx8IF90aGlzLiR0KCJzeW5jLWludGVydmFsLiIuY29uY2F0KGFjY291bnQuc3luY19pbnRlcnZhbCkpLm1hdGNoKHJlKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHBhZ2VkOiBmdW5jdGlvbiBwYWdlZCgpIHsKICAgICAgdGhpcy50b3RhbCA9IHRoaXMuc2VhcmNoRmlsdGVyZWQubGVuZ3RoOwogICAgICB0aGlzLmZyb20gPSAodGhpcy5jdXJyZW50UGFnZSAtIDEpICogdGhpcy5wZXJQYWdlIHx8IDA7CiAgICAgIHRoaXMudG8gPSB0aGlzLmZyb20gKyB0aGlzLnBlclBhZ2UgPiB0aGlzLnRvdGFsID8gdGhpcy50b3RhbCA6IHRoaXMuZnJvbSArIHRoaXMucGVyUGFnZTsKICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRmlsdGVyZWQuc2xpY2UodGhpcy5mcm9tLCB0aGlzLnRvKTsKICAgIH0sCiAgICBhbGxvd2VkSXBzOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLnBsYXlsaXN0LmlwX2FsbG93ZWQgPyB0aGlzLnBsYXlsaXN0LmlwX2FsbG93ZWQuam9pbigiLCIpIDogIiI7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgewogICAgICAgIHRoaXMucGxheWxpc3QuaXBfYWxsb3dlZCA9IHZhbC5zcGxpdCgiLCIpLm1hcChmdW5jdGlvbiAoaXApIHsKICAgICAgICAgIHJldHVybiBpcC50cmltKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjb250ZXh0TGl2ZTogZnVuY3Rpb24gY29udGV4dExpdmUoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CgogICAgICB2YXIgbGl2ZSA9IF90b0NvbnN1bWFibGVBcnJheSh2bS5wbGF5bGlzdEdyb3Vwcy5saXZlKTsKCiAgICAgIHJldHVybiBbewogICAgICAgIHRleHQ6IHZtLiR0KCJnZW5lcmFsLnNlbGVjdC1hbGwiKSwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgdm0ucGxheWxpc3Quc3luY19saXZlID0gX3RvQ29uc3VtYWJsZUFycmF5KGxpdmUubWFwKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgICAgIHJldHVybiBnLmNhdGVnb3J5X2lkOwogICAgICAgICAgfSkpOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIHRleHQ6IHZtLiR0KCJnZW5lcmFsLnNlbGVjdC1ub25lIiksCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHZtLnBsYXlsaXN0LnN5bmNfbGl2ZSA9IFtdOwogICAgICAgIH0KICAgICAgfV07CiAgICB9LAogICAgY29udGV4dE1vdmllczogZnVuY3Rpb24gY29udGV4dE1vdmllcygpIHsKICAgICAgdmFyIHZtID0gdGhpczsKCiAgICAgIHZhciBtb3ZpZXMgPSBfdG9Db25zdW1hYmxlQXJyYXkodm0ucGxheWxpc3RHcm91cHMubW92aWVzKTsKCiAgICAgIHJldHVybiBbewogICAgICAgIHRleHQ6IHZtLiR0KCJnZW5lcmFsLnNlbGVjdC1hbGwiKSwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgaWYgKHZtLmNhblVzZU1vdmllc1NlcmllcykgewogICAgICAgICAgICB2bS5wbGF5bGlzdC5zeW5jX21vdmllcyA9IF90b0NvbnN1bWFibGVBcnJheShtb3ZpZXMubWFwKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGcuY2F0ZWdvcnlfaWQ7CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGRpc2FibGVkOiAhdm0uY2FuVXNlTW92aWVzU2VyaWVzCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB2bS4kdCgiZ2VuZXJhbC5zZWxlY3Qtbm9uZSIpLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICB2bS5wbGF5bGlzdC5zeW5jX21vdmllcyA9IFtdOwogICAgICAgIH0sCiAgICAgICAgZGlzYWJsZWQ6ICF2bS5jYW5Vc2VNb3ZpZXNTZXJpZXMKICAgICAgfV07CiAgICB9LAogICAgY29udGV4dFNlcmllczogZnVuY3Rpb24gY29udGV4dFNlcmllcygpIHsKICAgICAgdmFyIHZtID0gdGhpczsKCiAgICAgIHZhciBzZXJpZXMgPSBfdG9Db25zdW1hYmxlQXJyYXkodm0ucGxheWxpc3RHcm91cHMuc2VyaWVzKTsKCiAgICAgIHJldHVybiBbewogICAgICAgIHRleHQ6IHZtLiR0KCJnZW5lcmFsLnNlbGVjdC1hbGwiKSwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgaWYgKHZtLmNhblVzZU1vdmllc1NlcmllcykgewogICAgICAgICAgICB2bS5wbGF5bGlzdC5zeW5jX3NlcmllcyA9IF90b0NvbnN1bWFibGVBcnJheShzZXJpZXMubWFwKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGcuY2F0ZWdvcnlfaWQ7CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGRpc2FibGVkOiAhdm0uY2FuVXNlTW92aWVzU2VyaWVzCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB2bS4kdCgiZ2VuZXJhbC5zZWxlY3Qtbm9uZSIpLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICB2bS5wbGF5bGlzdC5zeW5jX3NlcmllcyA9IFtdOwogICAgICAgIH0sCiAgICAgICAgZGlzYWJsZWQ6ICF2bS5jYW5Vc2VNb3ZpZXNTZXJpZXMKICAgICAgfV07CiAgICB9LAogICAgdG1kYkxhbmd1YWdlczogZnVuY3Rpb24gdG1kYkxhbmd1YWdlcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5sYW5ndWFnZXMpLm1hcChmdW5jdGlvbiAobGFuZ3VhZ2UpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdmFsdWU6IGxhbmd1YWdlLAogICAgICAgICAgdGV4dDogIiIuY29uY2F0KF90aGlzMi5sYW5ndWFnZXNbbGFuZ3VhZ2VdLm5hbWUsICIgKCIpLmNvbmNhdChfdGhpczIubGFuZ3VhZ2VzW2xhbmd1YWdlXS5uYXRpdmVOYW1lLCAiKSIpCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgY2FuVXNlQ3VzdG9tVXNlclBhc3M6IGZ1bmN0aW9uIGNhblVzZUN1c3RvbVVzZXJQYXNzKCkgewogICAgICByZXR1cm4gW1VzZXJSb2xlLlN1cGVyQWRtaW4sIFVzZXJSb2xlLkFkbWluLCBVc2VyUm9sZS5Nb2RlcmF0b3JdLmluY2x1ZGVzKHRoaXMuY3VycmVudFVzZXIudXNlci5yb2xlKTsKICAgIH0sCiAgICBjYW5Vc2VNb3ZpZXNTZXJpZXM6IGZ1bmN0aW9uIGNhblVzZU1vdmllc1NlcmllcygpIHsKICAgICAgcmV0dXJuIFtTdWJzY3JpcHRpb25UeXBlLlByb2Zlc3Npb25hbCwgU3Vic2NyaXB0aW9uVHlwZS5GYW1pbHksIFN1YnNjcmlwdGlvblR5cGUuQnVzaW5lc3NTbWFsbCwgU3Vic2NyaXB0aW9uVHlwZS5CdXNpbmVzc1Byb2Zlc3Npb25hbCwgU3Vic2NyaXB0aW9uVHlwZS5CdXNpbmVzc0VudGVycHJpc2UsIFN1YnNjcmlwdGlvblR5cGUuTWFuYWdlcl0uaW5jbHVkZXModGhpcy5jdXJyZW50VXNlci5zdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uX3R5cGUpOwogICAgfSwKICAgIHBsYXlsaXN0SXNFbXB0eTogZnVuY3Rpb24gcGxheWxpc3RJc0VtcHR5KCkgewogICAgICByZXR1cm4gdGhpcy5wbGF5bGlzdCAmJiB0aGlzLnBsYXlsaXN0Lmdyb3VwcyA9PSAwIHx8IHRoaXMucGxheWxpc3Quc3RyZWFtcyA9PSAwOwogICAgfSwKICAgIGNhbkFkZFBsYXlsaXN0OiBmdW5jdGlvbiBjYW5BZGRQbGF5bGlzdCgpIHsKICAgICAgaWYgKHRoaXMuY3VycmVudFVzZXIuc3Vic2NyaXB0aW9uKSB7CiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRoaXMuY3VycmVudFVzZXIuc3Vic2NyaXB0aW9uOwoKICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLmVuZF9kYXRlICE9IG51bGwgJiYgbmV3IERhdGUoc3Vic2NyaXB0aW9uLmVuZF9kYXRlKS5nZXRUaW1lKCkgPCBuZXcgRGF0ZSgpLmdldFRpbWUoKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbi5jdXN0b21fcGxhbiA9PSAxKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5wbGF5bGlzdHMubGVuZ3RoIDwgc3Vic2NyaXB0aW9uLm1heF9wbGF5bGlzdDsKICAgICAgICB9CgogICAgICAgIGlmIChzdWJzY3JpcHRpb24uZW5hYmxlZCAhPSAxKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBzd2l0Y2ggKHN1YnNjcmlwdGlvbi5zdWJzY3JpcHRpb25fdHlwZSkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICByZXR1cm4gdGhpcy5wbGF5bGlzdHMubGVuZ3RoIDwgMjsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiB0aGlzLnBsYXlsaXN0cy5sZW5ndGggPCA1OwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RzLmxlbmd0aCA8IDU7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICByZXR1cm4gdGhpcy5wbGF5bGlzdHMubGVuZ3RoIDwgMTA7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICByZXR1cm4gdGhpcy5wbGF5bGlzdHMubGVuZ3RoIDwgMjU7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsic3luY2hyb25pemVUTURCIiwgInN5bmNocm9uaXplUGxheWxpc3QiXSkpLCB7fSwgewogICAgb3BlbkNvbnRleHQ6IGZ1bmN0aW9uIG9wZW5Db250ZXh0KGNvbnRleHQpIHsKICAgICAgdGhpcy4kcmVmc1tjb250ZXh0XS5vcGVuKCk7CiAgICB9LAogICAgbG9hZEdyb3VwczogZnVuY3Rpb24gbG9hZEdyb3VwcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIGh0dHBTZXJ2aWNlLnBvc3QoInBsYXlsaXN0L2xvYWQtZ3JvdXBzIiwgewogICAgICAgIGhvc3Q6IHRoaXMucGxheWxpc3Quc291cmNlX2hvc3QsCiAgICAgICAgcG9ydDogdGhpcy5wbGF5bGlzdC5zb3VyY2VfcG9ydCwKICAgICAgICB1c2VybmFtZTogdGhpcy5wbGF5bGlzdC5zb3VyY2VfdXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGxheWxpc3Quc291cmNlX3Bhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IHRydWUpIHsKICAgICAgICAgIF90aGlzMy5wbGF5bGlzdEdyb3VwcyA9IHJlcy5kYXRhOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbG9hZFBsYXlsaXN0czogZnVuY3Rpb24gbG9hZFBsYXlsaXN0cygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIGh0dHBTZXJ2aWNlLmdldCgicGxheWxpc3QiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlKSB7CiAgICAgICAgICBfdGhpczQucGxheWxpc3RzID0gcmVzLmRhdGE7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBfdGhpczQuJG5vdGlmeSgiZXJyb3IiLCBfdGhpczQuJHQoInByb2ZpbGUuZmFpbGVkIiksIF90aGlzNC4kdCgieHRyZWFtLnh0cmVhbS1sb2FkLWVycm9yIiksICJsYS11c2VyLXNoaWVsZCIsIHsKICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgcGVybWFuZW50OiBmYWxzZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRQbGF5bGlzdDogZnVuY3Rpb24gYWRkUGxheWxpc3QoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuY2FuQWRkUGxheWxpc3QgIT09IHRydWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGh0dHBTZXJ2aWNlLnBvc3QoInBsYXlsaXN0L2FkZCIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlICYmIHJlcy5kYXRhICE9PSBmYWxzZSkgewogICAgICAgICAgX3RoaXM1LnBsYXlsaXN0ID0gewogICAgICAgICAgICBpZDogcmVzLmRhdGEsCiAgICAgICAgICAgIHVybDogIiIsCiAgICAgICAgICAgIGVuYWJsZWQ6IDEsCiAgICAgICAgICAgIHNvdXJjZV9ob3N0OiAiIiwKICAgICAgICAgICAgc291cmNlX3BvcnQ6ICIiLAogICAgICAgICAgICBzb3VyY2VfdXNlcm5hbWU6ICIiLAogICAgICAgICAgICBzb3VyY2VfcGFzc3dvcmQ6ICIiLAogICAgICAgICAgICBzb3VyY2VfZXhwX2RhdGU6IGZhbHNlLAogICAgICAgICAgICBzb3VyY2VfbWF4X2Nvbm5lY3Rpb25zOiBmYWxzZSwKICAgICAgICAgICAgc3luY19lbmFibGVkOiAxLAogICAgICAgICAgICBzeW5jX2ludGVydmFsOiA0OCwKICAgICAgICAgICAgc3luY19saXZlOiBbXSwKICAgICAgICAgICAgc3luY19tb3ZpZXM6IFtdLAogICAgICAgICAgICBzeW5jX3NlcmllczogW10sCiAgICAgICAgICAgIGlwX3Byb3RlY3Rpb246IDAsCiAgICAgICAgICAgIGlwX2FsbG93ZWQ6IFtdLAogICAgICAgICAgICBhcGlfdXNlcm5hbWU6IF90aGlzNS5jdXJyZW50VXNlci51c2VyLnVzZXJuYW1lLAogICAgICAgICAgICBhcGlfcGFzc3dvcmQ6ICIiLAogICAgICAgICAgICBhcGlfbWVzc2FnZTogIldlbGNvbWUgdG8gSVBUVi1Ub29scy5jb20iLAogICAgICAgICAgICBhcGlfb3V0cHV0X2Zvcm1hdDogMSwKICAgICAgICAgICAgbmFtZTogIiIsCiAgICAgICAgICAgIHRtZGJfbGFuZ3VhZ2U6IF90aGlzNS4kaTE4bi5sb2NhbGUsCiAgICAgICAgICAgIGVwZ19vZmZzZXQ6IF90aGlzNS5lcGdPZmZzZXQKICAgICAgICAgIH07CiAgICAgICAgICBfdGhpczUucGxheWxpc3RHcm91cHMgPSB7CiAgICAgICAgICAgIGxpdmU6IFtdLAogICAgICAgICAgICBtb3ZpZXM6IFtdLAogICAgICAgICAgICBzZXJpZXM6IFtdCiAgICAgICAgICB9OwoKICAgICAgICAgIF90aGlzNS5yYW5kb21QYXNzd29yZCgpOwoKICAgICAgICAgIF90aGlzNS5lZGl0b3IgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS4kbm90aWZ5KCJlcnJvciIsIF90aGlzNS4kdCgicHJvZmlsZS5mYWlsZWQiKSwgX3RoaXM1LiR0KCJ4dHJlYW0ueHRyZWFtLW5ldy1lcnJvciIpLCAibGEtdXNlci1zaGllbGQiLCB7CiAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgIHBlcm1hbmVudDogZmFsc2UKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZWRpdFBsYXlsaXN0OiBmdW5jdGlvbiBlZGl0UGxheWxpc3QocGxheWxpc3QpIHsKICAgICAgdGhpcy5wbGF5bGlzdCA9IE9iamVjdC5hc3NpZ24oe30sIHBsYXlsaXN0KTsKICAgICAgdGhpcy5wbGF5bGlzdEF1dGgoKTsKICAgICAgdGhpcy5lZGl0b3IgPSB0cnVlOwogICAgfSwKICAgIHBsYXlsaXN0SW5mb01vZGFsOiBmdW5jdGlvbiBwbGF5bGlzdEluZm9Nb2RhbChzaG93LCBwbGF5bGlzdCkgewogICAgICBpZiAocGxheWxpc3QpIHsKICAgICAgICB0aGlzLnBsYXlsaXN0SW5mby51c2VybmFtZSA9IHBsYXlsaXN0LmFwaV91c2VybmFtZTsKICAgICAgICB0aGlzLnBsYXlsaXN0SW5mby5wYXNzd29yZCA9IHBsYXlsaXN0LmFwaV9wYXNzd29yZDsKICAgICAgfQoKICAgICAgdGhpcy5wbGF5bGlzdEluZm8ubW9kYWwgPSBzaG93OwogICAgfSwKICAgIGNhbmNlbEVkaXRvcjogZnVuY3Rpb24gY2FuY2VsRWRpdG9yKCkgewogICAgICB0aGlzLmVkaXRvciA9IGZhbHNlOwogICAgfSwKICAgIHNhdmVFZGl0b3I6IGZ1bmN0aW9uIHNhdmVFZGl0b3IoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIHBsYXlsaXN0ID0gdGhpcy5wbGF5bGlzdDsKICAgICAgdmFyIHBsYXlsaXN0SWQgPSB0aGlzLnBsYXlsaXN0LmlkOwogICAgICBkZWxldGUgcGxheWxpc3QuaWQ7CiAgICAgIGRlbGV0ZSBwbGF5bGlzdC51cmw7CiAgICAgIGRlbGV0ZSBwbGF5bGlzdC5ncm91cHM7CiAgICAgIGRlbGV0ZSBwbGF5bGlzdC5zdHJlYW1zOwogICAgICBwbGF5bGlzdC5sYXN0X3VwZGF0ZWQgPSBuZXcgRGF0ZSgpOwogICAgICBodHRwU2VydmljZS5wdXQoInBsYXlsaXN0LyIuY29uY2F0KHBsYXlsaXN0SWQpLCBwbGF5bGlzdCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IHRydWUgJiYgcmVzLmRhdGEgPT09IHRydWUpIHsKICAgICAgICAgIF90aGlzNi4kbm90aWZ5KCJwcmltYXJ5IiwgX3RoaXM2LiR0KCJwcm9maWxlLnN1Y2Nlc3MiKSwgX3RoaXM2LiR0KCJ4dHJlYW0ueHRyZWFtLXNhdmUtc3VjY2VzcyIpLCAibGEtdXNlci1zaGllbGQiLCB7CiAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczYuZWRpdG9yID0gZmFsc2U7CgogICAgICAgICAgX3RoaXM2LmxvYWRQbGF5bGlzdHMoKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYuJG5vdGlmeSgiZXJyb3IiLCBfdGhpczYuJHQoInByb2ZpbGUuZmFpbGVkIiksIF90aGlzNi4kdCgieHRyZWFtLnh0cmVhbS1zYXZlLWVycm9yIiksICJsYS11c2VyLXNoaWVsZCIsIHsKICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgcGVybWFuZW50OiBmYWxzZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVQbGF5bGlzdDogZnVuY3Rpb24gZGVsZXRlUGxheWxpc3QoaWQpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICBodHRwU2VydmljZS5kZWxldGUoInBsYXlsaXN0LyIuY29uY2F0KGlkKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IHRydWUpIHsKICAgICAgICAgIF90aGlzNy4kbm90aWZ5KCJwcmltYXJ5IiwgX3RoaXM3LiR0KCJwcm9maWxlLnN1Y2Nlc3MiKSwgX3RoaXM3LiR0KCJ4dHJlYW0ueHRyZWFtLWRlbGV0ZS1zdWNjZXNzIiksICJsYS11c2VyLXNoaWVsZCIsIHsKICAgICAgICAgICAgZHVyYXRpb246IDUwMDAsCiAgICAgICAgICAgIHBlcm1hbmVudDogZmFsc2UKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzNy5sb2FkUGxheWxpc3RzKCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM3LiRub3RpZnkoImVycm9yIiwgX3RoaXM3LiR0KCJwcm9maWxlLmZhaWxlZCIpLCBfdGhpczcuJHQoInh0cmVhbS54dHJlYW0tZGVsZXRlLWVycm9yIiksICJsYS11c2VyLXNoaWVsZCIsIHsKICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgcGVybWFuZW50OiBmYWxzZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBzZWFyY2hBY2NvdW50OiBmdW5jdGlvbiBzZWFyY2hBY2NvdW50KHNlYXJjaCkgewogICAgICBpZiAoc2VhcmNoLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuc2VhcmNoID0gbnVsbDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlYXJjaCA9IHNlYXJjaDsKICAgICAgfQogICAgfSwKICAgIHByaW50QWNjb3VudHM6IGZ1bmN0aW9uIHByaW50QWNjb3VudHMoKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwbGF5bGlzdHMiKS5wcmludCgpOwogICAgfSwKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkgewogICAgICByZXR1cm4gZGF0ZSA9PT0gZmFsc2UgPyAiIiA6IGRhdGUgPT09IG51bGwgfHwgZGF0ZSA9PT0gIjAwMDAtMDAtMDAgMDA6MDA6MDAiIHx8IGRhdGUgPT09IDAgfHwgZGF0ZSA9PT0gIiIgPyB0aGlzLiR0KCJ4dHJlYW0udW5saW1pdGVkIikgOiBuZXcgRGF0ZShkYXRlKS50b0xvY2FsZVN0cmluZyh0aGlzLiR0KCJkYXRlLmxvY2FsZSIpLCB0aGlzLmRhdGVPcHRpb25zKTsKICAgIH0sCiAgICBmb3JtYXRNYXhDb25uZWN0aW9uczogZnVuY3Rpb24gZm9ybWF0TWF4Q29ubmVjdGlvbnMobWF4KSB7CiAgICAgIHJldHVybiBtYXggPT09IGZhbHNlID8gIiIgOiBtYXggPT09IG51bGwgfHwgbWF4IDw9IDAgPyB0aGlzLiR0KCJ4dHJlYW0udW5saW1pdGVkIikgOiBtYXg7CiAgICB9LAogICAgZG9UYWJDaGFuZ2U6IGZ1bmN0aW9uIGRvVGFiQ2hhbmdlKHRhYikgewogICAgICBpZiAodGFiID09IDEpIHsvL3RoaXMubG9hZEdyb3VwcygpOwogICAgICB9CgogICAgICB0aGlzLmFjdGl2ZVRhYiA9IHRhYjsKICAgIH0sCiAgICByYW5kb21QYXNzd29yZDogZnVuY3Rpb24gcmFuZG9tUGFzc3dvcmQoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgaHR0cFNlcnZpY2UucG9zdCgicGxheWxpc3QvcmFuZG9tLXBhc3N3b3JkIiwgewogICAgICAgIHVzZXJuYW1lOiB0aGlzLnBsYXlsaXN0LmFwaV91c2VybmFtZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgX3RoaXM4LnBsYXlsaXN0LmFwaV9wYXNzd29yZCA9IHJlcy5kYXRhOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBwbGF5bGlzdEF1dGg6IGZ1bmN0aW9uIHBsYXlsaXN0QXV0aCgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIGh0dHBTZXJ2aWNlLnBvc3QoInBsYXlsaXN0L2F1dGhlbnRpY2F0ZSIsIHsKICAgICAgICBob3N0OiB0aGlzLnBsYXlsaXN0LnNvdXJjZV9ob3N0LAogICAgICAgIHBvcnQ6IHRoaXMucGxheWxpc3Quc291cmNlX3BvcnQsCiAgICAgICAgdXNlcm5hbWU6IHRoaXMucGxheWxpc3Quc291cmNlX3VzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBsYXlsaXN0LnNvdXJjZV9wYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczkuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlICYmIHJlcy5kYXRhLmF1dGgpIHsKICAgICAgICAgIF90aGlzOS5wbGF5bGlzdC5zb3VyY2VfZXhwX2RhdGUgPSByZXMuZGF0YS5leHBfZGF0ZTsKICAgICAgICAgIF90aGlzOS5wbGF5bGlzdC5zb3VyY2VfbWF4X2Nvbm5lY3Rpb25zID0gcmVzLmRhdGEubWF4X2Nvbm5lY3Rpb25zOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzOS5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0SVBBZGRyZXNzOiBmdW5jdGlvbiBnZXRJUEFkZHJlc3MoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIGh0dHBTZXJ2aWNlLmdldCgicGxheWxpc3QvaXAtYWRkcmVzcyIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlKSB7CiAgICAgICAgICBfdGhpczEwLnBsYXlsaXN0LmlwX2FsbG93ZWQucHVzaChyZXMuZGF0YSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGNoZWNrQXZhaWxhYmlsaXR5OiBmdW5jdGlvbiBjaGVja0F2YWlsYWJpbGl0eSgpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgaHR0cFNlcnZpY2UucG9zdCgicGxheWxpc3QvdXNlci1wYXNzLWV4aXN0cyIsIHsKICAgICAgICB1c2VybmFtZTogdGhpcy5wbGF5bGlzdC5hcGlfdXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGxheWxpc3QuYXBpX3Bhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEgPT09IHRydWUpIHsKICAgICAgICAgICAgX3RoaXMxMS4kbm90aWZ5KCJlcnJvciIsIF90aGlzMTEuJHQoInh0cmVhbS5ub3QtYXZhaWxhYmxlIiksIF90aGlzMTEuJHQoInh0cmVhbS51c2VyLXBhc3MtdXNlZCIpLCAibGEtZXhjbGFtYXRpb24tdHJpYW5nbGUiLCB7CiAgICAgICAgICAgICAgZHVyYXRpb246IDUwMDAsCiAgICAgICAgICAgICAgcGVybWFuZW50OiBmYWxzZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMTEuJG5vdGlmeSgic3VjY2VzcyIsIF90aGlzMTEuJHQoInh0cmVhbS5hdmFpbGFibGUiKSwgX3RoaXMxMS4kdCgieHRyZWFtLnVzZXItcGFzcy1hdmFpbGFibGUiKSwgImxhLWNoZWNrLWNpcmNsZSIsIHsKICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBleHBvcnRNM1U6IGZ1bmN0aW9uIGV4cG9ydE0zVSgpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBodHRwU2VydmljZS5kb3dubG9hZCgicGxheWxpc3QvZXhwb3J0L20zdS8iLmNvbmNhdCh0aGlzLnBsYXlsaXN0LmlkKSkudGhlbihmdW5jdGlvbiAoYmxvYikgewogICAgICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICBhLmhyZWYgPSB1cmw7CiAgICAgICAgYS5kb3dubG9hZCA9ICJleHBvcnQubTN1IjsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOwogICAgICAgIGEuY2xpY2soKTsKICAgICAgICBhLnJlbW92ZSgpOwogICAgICAgIF90aGlzMTIuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGV4cG9ydFNJUFRWOiBmdW5jdGlvbiBleHBvcnRTSVBUVigpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBodHRwU2VydmljZS5kb3dubG9hZCgicGxheWxpc3QvZXhwb3J0L3NpcHR2LyIuY29uY2F0KHRoaXMucGxheWxpc3QuaWQpKS50aGVuKGZ1bmN0aW9uIChibG9iKSB7CiAgICAgICAgdmFyIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgIGEuaHJlZiA9IHVybDsKICAgICAgICBhLmRvd25sb2FkID0gImV4cG9ydC50eHQiOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgYS5jbGljaygpOwogICAgICAgIGEucmVtb3ZlKCk7CiAgICAgICAgX3RoaXMxMy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZXhwb3J0Qm91cXVldDogZnVuY3Rpb24gZXhwb3J0Qm91cXVldCgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBodHRwU2VydmljZS5kb3dubG9hZCgicGxheWxpc3QvZXhwb3J0L2JvdXF1ZXQvIi5jb25jYXQodGhpcy5wbGF5bGlzdC5pZCkpLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHsKICAgICAgICB2YXIgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgYS5ocmVmID0gdXJsOwogICAgICAgIGEuZG93bmxvYWQgPSAiZXhwb3J0LnppcCI7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICBhLmNsaWNrKCk7CiAgICAgICAgYS5yZW1vdmUoKTsKICAgICAgICBfdGhpczE0LmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBleHBvcnRDU1Y6IGZ1bmN0aW9uIGV4cG9ydENTVigpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBodHRwU2VydmljZS5kb3dubG9hZCgicGxheWxpc3QvZXhwb3J0L2Nzdi8iLmNvbmNhdCh0aGlzLnBsYXlsaXN0LmlkKSkudGhlbihmdW5jdGlvbiAoYmxvYikgewogICAgICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICBhLmhyZWYgPSB1cmw7CiAgICAgICAgYS5kb3dubG9hZCA9ICJleHBvcnQuemlwIjsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOwogICAgICAgIGEuY2xpY2soKTsKICAgICAgICBhLnJlbW92ZSgpOwogICAgICAgIF90aGlzMTUuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGV4cG9ydEpTT046IGZ1bmN0aW9uIGV4cG9ydEpTT04oKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgaHR0cFNlcnZpY2UuZG93bmxvYWQoInBsYXlsaXN0L2V4cG9ydC9qc29uLyIuY29uY2F0KHRoaXMucGxheWxpc3QuaWQpKS50aGVuKGZ1bmN0aW9uIChibG9iKSB7CiAgICAgICAgdmFyIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgIGEuaHJlZiA9IHVybDsKICAgICAgICBhLmRvd25sb2FkID0gImV4cG9ydC56aXAiOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgYS5jbGljaygpOwogICAgICAgIGEucmVtb3ZlKCk7CiAgICAgICAgX3RoaXMxNi5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgYmFja3VwUGxheWxpc3Q6IGZ1bmN0aW9uIGJhY2t1cFBsYXlsaXN0KHBhdGgpIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwoKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBodHRwU2VydmljZS5kb3dubG9hZCgicGxheWxpc3QvYmFjay11cC8iLmNvbmNhdChwYXRoLCAiLyIpLmNvbmNhdCh0aGlzLnBsYXlsaXN0LmlkKSkudGhlbihmdW5jdGlvbiAoYmxvYikgewogICAgICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICBhLmhyZWYgPSB1cmw7CiAgICAgICAgYS5kb3dubG9hZCA9ICJiYWNrdXAuemlwIjsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOwogICAgICAgIGEuY2xpY2soKTsKICAgICAgICBhLnJlbW92ZSgpOwogICAgICAgIF90aGlzMTcuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGJhY2t1cEVQR0NvZGVzOiBmdW5jdGlvbiBiYWNrdXBFUEdDb2RlcygpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBodHRwU2VydmljZS5kb3dubG9hZCgicGxheWxpc3QvYmFjay11cC9lcGctY29kZXMvIi5jb25jYXQodGhpcy5wbGF5bGlzdC5pZCkpLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHsKICAgICAgICB2YXIgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgYS5ocmVmID0gdXJsOwogICAgICAgIGEuZG93bmxvYWQgPSAiYmFja3VwLnppcCI7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICBhLmNsaWNrKCk7CiAgICAgICAgYS5yZW1vdmUoKTsKICAgICAgICBfdGhpczE4LmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICByZXN0b3JlRVBHQ29kZXM6IGZ1bmN0aW9uIHJlc3RvcmVFUEdDb2RlcyhlKSB7CiAgICAgIHZhciBfdGhpczE5ID0gdGhpczsKCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKCiAgICAgIGlmIChlICYmIGUudGFyZ2V0LmZpbGVzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJiYWNrdXAuemlwIiwgZS50YXJnZXQuZmlsZXNbMF0pOwogICAgICAgIGh0dHBTZXJ2aWNlLnBvc3RGaWxlKCJwbGF5bGlzdC9yZXN0b3JlL2VwZy1jb2Rlcy8iLmNvbmNhdCh0aGlzLnBsYXlsaXN0LmlkKSwgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMxOS5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSAmJiByZXMuZGF0YSA9PT0gdHJ1ZSkgewogICAgICAgICAgICBfdGhpczE5LiRub3RpZnkoInByaW1hcnkiLCBfdGhpczE5LiR0KCJwcm9maWxlLnN1Y2Nlc3MiKSwgX3RoaXMxOS4kdCgieHRyZWFtLnJlc3RvcmUtZXBnY29kZXMtc3VjY2VzcyIpLCAibGEtdXNlci1zaGllbGQiLCB7CiAgICAgICAgICAgICAgZHVyYXRpb246IDUwMDAsCiAgICAgICAgICAgICAgcGVybWFuZW50OiBmYWxzZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMTkuJG5vdGlmeSgiZXJyb3IiLCBfdGhpczE5LiR0KCJwcm9maWxlLmZhaWxlZCIpLCBfdGhpczE5LiR0KCJ4dHJlYW0ucmVzdG9yZS1lcGdjb2Rlcy1lcnJvciIpLCAibGEtdXNlci1zaGllbGQiLCB7CiAgICAgICAgICAgICAgZHVyYXRpb246IDUwMDAsCiAgICAgICAgICAgICAgcGVybWFuZW50OiBmYWxzZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczE5LmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzMTkuJG5vdGlmeSgiZXJyb3IiLCBfdGhpczE5LiR0KCJwcm9maWxlLmZhaWxlZCIpLCBfdGhpczE5LiR0KCJ4dHJlYW0ucmVzdG9yZS1lcGdjb2Rlcy1lcnJvciIpLCAibGEtdXNlci1zaGllbGQiLCB7CiAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlc3RvcmVQbGF5bGlzdDogZnVuY3Rpb24gcmVzdG9yZVBsYXlsaXN0KGUpIHsKICAgICAgdmFyIF90aGlzMjAgPSB0aGlzOwoKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwoKICAgICAgaWYgKGUgJiYgZS50YXJnZXQuZmlsZXMubGVuZ3RoID09IDEpIHsKICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImJhY2t1cC56aXAiLCBlLnRhcmdldC5maWxlc1swXSk7CiAgICAgICAgaHR0cFNlcnZpY2UucG9zdEZpbGUoInBsYXlsaXN0L3Jlc3RvcmUvcGxheWxpc3QvIi5jb25jYXQodGhpcy5wbGF5bGlzdC5pZCksIGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMjAuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IHRydWUgJiYgcmVzLmRhdGEgPT09IHRydWUpIHsKICAgICAgICAgICAgX3RoaXMyMC4kbm90aWZ5KCJwcmltYXJ5IiwgX3RoaXMyMC4kdCgicHJvZmlsZS5zdWNjZXNzIiksIF90aGlzMjAuJHQoInh0cmVhbS5yZXN0b3JlLXBsYXlsaXN0LXN1Y2Nlc3MiKSwgImxhLXVzZXItc2hpZWxkIiwgewogICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgICAgIHBlcm1hbmVudDogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIwLiRub3RpZnkoImVycm9yIiwgX3RoaXMyMC4kdCgicHJvZmlsZS5mYWlsZWQiKSwgX3RoaXMyMC4kdCgieHRyZWFtLnJlc3RvcmUtcGxheWxpc3QtZXJyb3IiKSwgImxhLXVzZXItc2hpZWxkIiwgewogICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgICAgIHBlcm1hbmVudDogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyMC5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpczIwLiRub3RpZnkoImVycm9yIiwgX3RoaXMyMC4kdCgicHJvZmlsZS5mYWlsZWQiKSwgX3RoaXMyMC4kdCgieHRyZWFtLnJlc3RvcmUtcGxheWxpc3QtZXJyb3IiKSwgImxhLXVzZXItc2hpZWxkIiwgewogICAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgICAgcGVybWFuZW50OiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9KSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmxvYWRQbGF5bGlzdHMoKTsKICAgIEV2ZW50QnVzLiRlbWl0KCJjYW4tYWRkLXBsYXlsaXN0IiwgdGhpcy5jYW5BZGRQbGF5bGlzdCk7CiAgICBFdmVudEJ1cy4kb24oInNlYXJjaCIsIHRoaXMuc2VhcmNoQWNjb3VudCk7CiAgICBFdmVudEJ1cy4kb24oInByaW50IiwgdGhpcy5wcmludEFjY291bnRzKTsKICAgIEV2ZW50QnVzLiRvbigicmVmcmVzaCIsIHRoaXMubG9hZFBsYXlsaXN0cyk7CiAgICBFdmVudEJ1cy4kb24oImFkZCIsIHRoaXMuYWRkUGxheWxpc3QpOwogICAgRXZlbnRCdXMuJG9uKCJjYW5jZWwiLCB0aGlzLmNhbmNlbEVkaXRvcik7CiAgICBFdmVudEJ1cy4kb24oInNhdmUiLCB0aGlzLnNhdmVFZGl0b3IpOwogICAgRXZlbnRCdXMuJG9uKCJ0YWItY2hhbmdlIiwgdGhpcy5kb1RhYkNoYW5nZSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgRXZlbnRCdXMuJG9mZigic2VhcmNoIiwgdGhpcy5zZWFyY2hBY2NvdW50KTsKICAgIEV2ZW50QnVzLiRvZmYoInByaW50IiwgdGhpcy5wcmludEFjY291bnRzKTsKICAgIEV2ZW50QnVzLiRvZmYoInJlZnJlc2giLCB0aGlzLmxvYWRQbGF5bGlzdHMpOwogICAgRXZlbnRCdXMuJG9mZigiYWRkIiwgdGhpcy5hZGRQbGF5bGlzdCk7CiAgICBFdmVudEJ1cy4kb2ZmKCJjYW5jZWwiLCB0aGlzLmNhbmNlbEVkaXRvcik7CiAgICBFdmVudEJ1cy4kb2ZmKCJzYXZlIiwgdGhpcy5zYXZlRWRpdG9yKTsKICAgIEV2ZW50QnVzLiRvZmYoInRhYi1jaGFuZ2UiLCB0aGlzLmRvVGFiQ2hhbmdlKTsKICB9LAogIHdhdGNoOiB7CiAgICBmcm9tOiBmdW5jdGlvbiBmcm9tKHZhbCkgewogICAgICBFdmVudEJ1cy4kZW1pdCgidXBkYXRlLWZyb20iLCB2YWwpOwogICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IDA7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwOwogICAgfSwKICAgIHRvOiBmdW5jdGlvbiB0byh2YWwpIHsKICAgICAgRXZlbnRCdXMuJGVtaXQoInVwZGF0ZS10byIsIHZhbCk7CiAgICB9LAogICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKHZhbCkgewogICAgICBFdmVudEJ1cy4kZW1pdCgidXBkYXRlLXRvdGFsIiwgdmFsKTsKICAgIH0sCiAgICBlZGl0b3I6IGZ1bmN0aW9uIGVkaXRvcih2YWwpIHsKICAgICAgRXZlbnRCdXMuJGVtaXQoInVwZGF0ZS1lZGl0b3IiLCB2YWwpOwoKICAgICAgaWYgKCF2YWwpIHsKICAgICAgICB0aGlzLmxvYWRQbGF5bGlzdHMoKTsKICAgICAgfQogICAgfSwKICAgIGNhbkFkZFBsYXlsaXN0OiBmdW5jdGlvbiBjYW5BZGRQbGF5bGlzdCh2YWwpIHsKICAgICAgRXZlbnRCdXMuJGVtaXQoImNhbi1hZGQtcGxheWxpc3QiLCB2YWwpOwogICAgfSwKICAgICJwbGF5bGlzdC5zb3VyY2VfaG9zdCI6IGZ1bmN0aW9uIHBsYXlsaXN0U291cmNlX2hvc3QoKSB7CiAgICAgIGlmICh0aGlzLnBsYXlsaXN0LnNvdXJjZV9ob3N0ICYmIHRoaXMucGxheWxpc3Quc291cmNlX2hvc3QubGVuZ3RoICYmIHRoaXMucGxheWxpc3Quc291cmNlX3VzZXJuYW1lICYmIHRoaXMucGxheWxpc3Quc291cmNlX3VzZXJuYW1lLmxlbmd0aCAmJiB0aGlzLnBsYXlsaXN0LnNvdXJjZV9wYXNzd29yZCAmJiB0aGlzLnBsYXlsaXN0LnNvdXJjZV9wYXNzd29yZC5sZW5ndGggJiYgdGhpcy5lZGl0b3IpIHsKICAgICAgICB0aGlzLnBsYXlsaXN0QXV0aCgpOwogICAgICAgIHRoaXMubG9hZEdyb3VwcygpOwogICAgICB9CiAgICB9LAogICAgInBsYXlsaXN0LnVybCI6IGZ1bmN0aW9uIHBsYXlsaXN0VXJsKHVybCkgewogICAgICBpZiAodXJsICE9PSB1bmRlZmluZWQgJiYgdXJsLmxlbmd0aCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgdSA9IG5ldyBVUkwodXJsKTsKICAgICAgICAgIHRoaXMucGxheWxpc3Quc291cmNlX2hvc3QgPSB1Lmhvc3RuYW1lOwogICAgICAgICAgdGhpcy5wbGF5bGlzdC5zb3VyY2VfcG9ydCA9IHUucG9ydDsKICAgICAgICAgIHRoaXMucGxheWxpc3Quc291cmNlX3VzZXJuYW1lID0gdS5zZWFyY2hQYXJhbXMuZ2V0KCJ1c2VybmFtZSIpOwogICAgICAgICAgdGhpcy5wbGF5bGlzdC5zb3VyY2VfcGFzc3dvcmQgPSB1LnNlYXJjaFBhcmFtcy5nZXQoInBhc3N3b3JkIik7CgogICAgICAgICAgaWYgKCF0aGlzLnBsYXlsaXN0Lm5hbWUubGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMucGxheWxpc3QubmFtZSA9IHUuaG9zdG5hbWUudG9VcHBlckNhc2UoKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChfdW51c2VkKSB7Ly8KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07"},null]}