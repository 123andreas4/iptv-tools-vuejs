{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/bootstrap-vue/esm/directives/scrollspy/helpers/bv-scrollspy.class.js","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/bootstrap-vue/esm/directives/scrollspy/helpers/bv-scrollspy.class.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICB9IGVsc2UgewogICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgewogIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICB9Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOwogICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOwogICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOwogICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7CiAgfQp9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7CiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOwogIHJldHVybiBDb25zdHJ1Y3RvcjsKfQovKgogKiBTY3JvbGxTcHkgY2xhc3MgZGVmaW5pdGlvbgogKi8KCgppbXBvcnQgeyBFVkVOVF9PUFRJT05TX05PX0NBUFRVUkUgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvZXZlbnRzJzsKaW1wb3J0IHsgUlhfSFJFRiB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy9yZWdleCc7CmltcG9ydCB7IGFkZENsYXNzLCBjbG9zZXN0LCBnZXRBdHRyLCBnZXRCQ1IsIGhhc0NsYXNzLCBpc0VsZW1lbnQsIGlzVmlzaWJsZSwgbWF0Y2hlcywgb2Zmc2V0LCBwb3NpdGlvbiwgcmVtb3ZlQ2xhc3MsIHNlbGVjdCwgc2VsZWN0QWxsIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZG9tJzsKaW1wb3J0IHsgZ2V0Um9vdEV2ZW50TmFtZSwgZXZlbnRPbiwgZXZlbnRPZmYgfSBmcm9tICcuLi8uLi8uLi91dGlscy9ldmVudHMnOwppbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2lkZW50aXR5JzsKaW1wb3J0IHsgaXNTdHJpbmcsIGlzVW5kZWZpbmVkIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaW5zcGVjdCc7CmltcG9ydCB7IG1hdGhNYXggfSBmcm9tICcuLi8uLi8uLi91dGlscy9tYXRoJzsKaW1wb3J0IHsgdG9JbnRlZ2VyIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvbnVtYmVyJzsKaW1wb3J0IHsgaGFzT3duUHJvcGVydHksIHRvU3RyaW5nIGFzIG9iamVjdFRvU3RyaW5nIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgb2JzZXJ2ZURvbSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL29ic2VydmUtZG9tJzsKaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3dhcm4nOwovKgogKiBDb25zdGFudHMgLyBEZWZhdWx0cwogKi8KCnZhciBOQU1FID0gJ3YtYi1zY3JvbGxzcHknOwp2YXIgQ0xBU1NfTkFNRV9EUk9QRE9XTl9JVEVNID0gJ2Ryb3Bkb3duLWl0ZW0nOwp2YXIgQ0xBU1NfTkFNRV9BQ1RJVkUgPSAnYWN0aXZlJzsKdmFyIFNFTEVDVE9SX05BVl9MSVNUX0dST1VQID0gJy5uYXYsIC5saXN0LWdyb3VwJzsKdmFyIFNFTEVDVE9SX05BVl9MSU5LUyA9ICcubmF2LWxpbmsnOwp2YXIgU0VMRUNUT1JfTkFWX0lURU1TID0gJy5uYXYtaXRlbSc7CnZhciBTRUxFQ1RPUl9MSVNUX0lURU1TID0gJy5saXN0LWdyb3VwLWl0ZW0nOwp2YXIgU0VMRUNUT1JfRFJPUERPV04gPSAnLmRyb3Bkb3duLCAuZHJvcHVwJzsKdmFyIFNFTEVDVE9SX0RST1BET1dOX0lURU1TID0gJy5kcm9wZG93bi1pdGVtJzsKdmFyIFNFTEVDVE9SX0RST1BET1dOX1RPR0dMRSA9ICcuZHJvcGRvd24tdG9nZ2xlJzsKdmFyIFJPT1RfRVZFTlRfTkFNRV9BQ1RJVkFURSA9IGdldFJvb3RFdmVudE5hbWUoJ0JWU2Nyb2xsc3B5JywgJ2FjdGl2YXRlJyk7CnZhciBNRVRIT0RfT0ZGU0VUID0gJ29mZnNldCc7CnZhciBNRVRIT0RfUE9TSVRJT04gPSAncG9zaXRpb24nOwp2YXIgRGVmYXVsdCA9IHsKICBlbGVtZW50OiAnYm9keScsCiAgb2Zmc2V0OiAxMCwKICBtZXRob2Q6ICdhdXRvJywKICB0aHJvdHRsZTogNzUKfTsKdmFyIERlZmF1bHRUeXBlID0gewogIGVsZW1lbnQ6ICcoc3RyaW5nfGVsZW1lbnR8Y29tcG9uZW50KScsCiAgb2Zmc2V0OiAnbnVtYmVyJywKICBtZXRob2Q6ICdzdHJpbmcnLAogIHRocm90dGxlOiAnbnVtYmVyJwp9OyAvLyBUcmFuc2l0aW9uIEV2ZW50cwoKdmFyIFRyYW5zaXRpb25FbmRFdmVudHMgPSBbJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCAndHJhbnNpdGlvbmVuZCcsICdvdHJhbnNpdGlvbmVuZCcsICdvVHJhbnNpdGlvbkVuZCddOwovKgogKiBVdGlsaXR5IE1ldGhvZHMKICovCi8vIEJldHRlciB2YXIgdHlwZSBkZXRlY3Rpb24KCnZhciB0b1R5cGUgPSBmdW5jdGlvbiB0b1R5cGUob2JqKQovKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogbm90IGVhc3kgdG8gdGVzdCAqLwp7CiAgcmV0dXJuIG9iamVjdFRvU3RyaW5nKG9iaikubWF0Y2goL1xzKFthLXpBLVpdKykvKVsxXS50b0xvd2VyQ2FzZSgpOwp9OyAvLyBDaGVjayBjb25maWcgcHJvcGVydGllcyBmb3IgZXhwZWN0ZWQgdHlwZXMKCi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCgoKdmFyIHR5cGVDaGVja0NvbmZpZyA9IGZ1bmN0aW9uIHR5cGVDaGVja0NvbmZpZyhjb21wb25lbnROYW1lLCBjb25maWcsIGNvbmZpZ1R5cGVzKQovKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogbm90IGVhc3kgdG8gdGVzdCAqLwp7CiAgZm9yICh2YXIgcHJvcGVydHkgaW4gY29uZmlnVHlwZXMpIHsKICAgIGlmIChoYXNPd25Qcm9wZXJ0eShjb25maWdUeXBlcywgcHJvcGVydHkpKSB7CiAgICAgIHZhciBleHBlY3RlZFR5cGVzID0gY29uZmlnVHlwZXNbcHJvcGVydHldOwogICAgICB2YXIgdmFsdWUgPSBjb25maWdbcHJvcGVydHldOwogICAgICB2YXIgdmFsdWVUeXBlID0gdmFsdWUgJiYgaXNFbGVtZW50KHZhbHVlKSA/ICdlbGVtZW50JyA6IHRvVHlwZSh2YWx1ZSk7IC8vIGhhbmRsZSBWdWUgaW5zdGFuY2VzCgogICAgICB2YWx1ZVR5cGUgPSB2YWx1ZSAmJiB2YWx1ZS5faXNWdWUgPyAnY29tcG9uZW50JyA6IHZhbHVlVHlwZTsKCiAgICAgIGlmICghbmV3IFJlZ0V4cChleHBlY3RlZFR5cGVzKS50ZXN0KHZhbHVlVHlwZSkpIHsKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICAgIHdhcm4oIiIuY29uY2F0KGNvbXBvbmVudE5hbWUsICI6IE9wdGlvbiBcIiIpLmNvbmNhdChwcm9wZXJ0eSwgIlwiIHByb3ZpZGVkIHR5cGUgXCIiKS5jb25jYXQodmFsdWVUeXBlLCAiXCIgYnV0IGV4cGVjdGVkIHR5cGUgXCIiKS5jb25jYXQoZXhwZWN0ZWRUeXBlcywgIlwiIikpOwogICAgICB9CiAgICB9CiAgfQp9OwovKgogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogQ2xhc3MgRGVmaW5pdGlvbgogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICovCgovKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogbm90IGVhc3kgdG8gdGVzdCAqLwoKCmV4cG9ydCB2YXIgQlZTY3JvbGxTcHkKLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IG5vdCBlYXN5IHRvIHRlc3QgKi8KPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBCVlNjcm9sbFNweShlbGVtZW50LCBjb25maWcsICRyb290KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQlZTY3JvbGxTcHkpOyAvLyBUaGUgZWxlbWVudCB3ZSBhY3RpdmF0ZSBsaW5rcyBpbgoKCiAgICB0aGlzLiRlbCA9IGVsZW1lbnQ7CiAgICB0aGlzLiRzY3JvbGxlciA9IG51bGw7CiAgICB0aGlzLiRzZWxlY3RvciA9IFtTRUxFQ1RPUl9OQVZfTElOS1MsIFNFTEVDVE9SX0xJU1RfSVRFTVMsIFNFTEVDVE9SX0RST1BET1dOX0lURU1TXS5qb2luKCcsJyk7CiAgICB0aGlzLiRvZmZzZXRzID0gW107CiAgICB0aGlzLiR0YXJnZXRzID0gW107CiAgICB0aGlzLiRhY3RpdmVUYXJnZXQgPSBudWxsOwogICAgdGhpcy4kc2Nyb2xsSGVpZ2h0ID0gMDsKICAgIHRoaXMuJHJlc2l6ZVRpbWVvdXQgPSBudWxsOwogICAgdGhpcy4kc2Nyb2xsZXJPYnNlcnZlciA9IG51bGw7CiAgICB0aGlzLiR0YXJnZXRzT2JzZXJ2ZXIgPSBudWxsOwogICAgdGhpcy4kcm9vdCA9ICRyb290IHx8IG51bGw7CiAgICB0aGlzLiRjb25maWcgPSBudWxsOwogICAgdGhpcy51cGRhdGVDb25maWcoY29uZmlnKTsKICB9CgogIF9jcmVhdGVDbGFzcyhCVlNjcm9sbFNweSwgW3sKICAgIGtleTogInVwZGF0ZUNvbmZpZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQ29uZmlnKGNvbmZpZywgJHJvb3QpIHsKICAgICAgaWYgKHRoaXMuJHNjcm9sbGVyKSB7CiAgICAgICAgLy8gSnVzdCBpbiBjYXNlIG91dCBzY3JvbGwgZWxlbWVudCBoYXMgY2hhbmdlZAogICAgICAgIHRoaXMudW5saXN0ZW4oKTsKICAgICAgICB0aGlzLiRzY3JvbGxlciA9IG51bGw7CiAgICAgIH0KCiAgICAgIHZhciBjZmcgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdCksIGNvbmZpZyk7CgogICAgICBpZiAoJHJvb3QpIHsKICAgICAgICB0aGlzLiRyb290ID0gJHJvb3Q7CiAgICAgIH0KCiAgICAgIHR5cGVDaGVja0NvbmZpZyh0aGlzLmNvbnN0cnVjdG9yLk5hbWUsIGNmZywgdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0VHlwZSk7CiAgICAgIHRoaXMuJGNvbmZpZyA9IGNmZzsKCiAgICAgIGlmICh0aGlzLiRyb290KSB7CiAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgIHRoaXMuJHJvb3QuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHNlbGYubGlzdGVuKCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5saXN0ZW4oKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImRpc3Bvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7CiAgICAgIHRoaXMudW5saXN0ZW4oKTsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuJHJlc2l6ZVRpbWVvdXQpOwogICAgICB0aGlzLiRyZXNpemVUaW1lb3V0ID0gbnVsbDsKICAgICAgdGhpcy4kZWwgPSBudWxsOwogICAgICB0aGlzLiRjb25maWcgPSBudWxsOwogICAgICB0aGlzLiRzY3JvbGxlciA9IG51bGw7CiAgICAgIHRoaXMuJHNlbGVjdG9yID0gbnVsbDsKICAgICAgdGhpcy4kb2Zmc2V0cyA9IG51bGw7CiAgICAgIHRoaXMuJHRhcmdldHMgPSBudWxsOwogICAgICB0aGlzLiRhY3RpdmVUYXJnZXQgPSBudWxsOwogICAgICB0aGlzLiRzY3JvbGxIZWlnaHQgPSBudWxsOwogICAgfQogIH0sIHsKICAgIGtleTogImxpc3RlbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdGVuKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHNjcm9sbGVyID0gdGhpcy5nZXRTY3JvbGxlcigpOwoKICAgICAgaWYgKHNjcm9sbGVyICYmIHNjcm9sbGVyLnRhZ05hbWUgIT09ICdCT0RZJykgewogICAgICAgIGV2ZW50T24oc2Nyb2xsZXIsICdzY3JvbGwnLCB0aGlzLCBFVkVOVF9PUFRJT05TX05PX0NBUFRVUkUpOwogICAgICB9CgogICAgICBldmVudE9uKHdpbmRvdywgJ3Njcm9sbCcsIHRoaXMsIEVWRU5UX09QVElPTlNfTk9fQ0FQVFVSRSk7CiAgICAgIGV2ZW50T24od2luZG93LCAncmVzaXplJywgdGhpcywgRVZFTlRfT1BUSU9OU19OT19DQVBUVVJFKTsKICAgICAgZXZlbnRPbih3aW5kb3csICdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMsIEVWRU5UX09QVElPTlNfTk9fQ0FQVFVSRSk7CiAgICAgIFRyYW5zaXRpb25FbmRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7CiAgICAgICAgZXZlbnRPbih3aW5kb3csIGV2ZW50TmFtZSwgX3RoaXMsIEVWRU5UX09QVElPTlNfTk9fQ0FQVFVSRSk7CiAgICAgIH0pOwogICAgICB0aGlzLnNldE9ic2VydmVycyh0cnVlKTsgLy8gU2NoZWR1bGUgYSByZWZyZXNoCgogICAgICB0aGlzLmhhbmRsZUV2ZW50KCdyZWZyZXNoJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAidW5saXN0ZW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVubGlzdGVuKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBzY3JvbGxlciA9IHRoaXMuZ2V0U2Nyb2xsZXIoKTsKICAgICAgdGhpcy5zZXRPYnNlcnZlcnMoZmFsc2UpOwoKICAgICAgaWYgKHNjcm9sbGVyICYmIHNjcm9sbGVyLnRhZ05hbWUgIT09ICdCT0RZJykgewogICAgICAgIGV2ZW50T2ZmKHNjcm9sbGVyLCAnc2Nyb2xsJywgdGhpcywgRVZFTlRfT1BUSU9OU19OT19DQVBUVVJFKTsKICAgICAgfQoKICAgICAgZXZlbnRPZmYod2luZG93LCAnc2Nyb2xsJywgdGhpcywgRVZFTlRfT1BUSU9OU19OT19DQVBUVVJFKTsKICAgICAgZXZlbnRPZmYod2luZG93LCAncmVzaXplJywgdGhpcywgRVZFTlRfT1BUSU9OU19OT19DQVBUVVJFKTsKICAgICAgZXZlbnRPZmYod2luZG93LCAnb3JpZW50YXRpb25jaGFuZ2UnLCB0aGlzLCBFVkVOVF9PUFRJT05TX05PX0NBUFRVUkUpOwogICAgICBUcmFuc2l0aW9uRW5kRXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkgewogICAgICAgIGV2ZW50T2ZmKHdpbmRvdywgZXZlbnROYW1lLCBfdGhpczIsIEVWRU5UX09QVElPTlNfTk9fQ0FQVFVSRSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInNldE9ic2VydmVycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T2JzZXJ2ZXJzKG9uKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOyAvLyBXZSBvYnNlcnZlIGJvdGggdGhlIHNjcm9sbGVyIGZvciBjb250ZW50IGNoYW5nZXMsIGFuZCB0aGUgdGFyZ2V0IGxpbmtzCgoKICAgICAgdGhpcy4kc2Nyb2xsZXJPYnNlcnZlciAmJiB0aGlzLiRzY3JvbGxlck9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKICAgICAgdGhpcy4kdGFyZ2V0c09ic2VydmVyICYmIHRoaXMuJHRhcmdldHNPYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgIHRoaXMuJHNjcm9sbGVyT2JzZXJ2ZXIgPSBudWxsOwogICAgICB0aGlzLiR0YXJnZXRzT2JzZXJ2ZXIgPSBudWxsOwoKICAgICAgaWYgKG9uKSB7CiAgICAgICAgdGhpcy4kdGFyZ2V0c09ic2VydmVyID0gb2JzZXJ2ZURvbSh0aGlzLiRlbCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMzLmhhbmRsZUV2ZW50KCdtdXRhdGlvbicpOwogICAgICAgIH0sIHsKICAgICAgICAgIHN1YnRyZWU6IHRydWUsCiAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLAogICAgICAgICAgYXR0cmlidXRlRmlsdGVyOiBbJ2hyZWYnXQogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHNjcm9sbGVyT2JzZXJ2ZXIgPSBvYnNlcnZlRG9tKHRoaXMuZ2V0U2Nyb2xsZXIoKSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMzLmhhbmRsZUV2ZW50KCdtdXRhdGlvbicpOwogICAgICAgIH0sIHsKICAgICAgICAgIHN1YnRyZWU6IHRydWUsCiAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLAogICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSwKICAgICAgICAgIGF0dHJpYnV0ZUZpbHRlcjogWydpZCcsICdzdHlsZScsICdjbGFzcyddCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0gLy8gR2VuZXJhbCBldmVudCBoYW5kbGVyCgogIH0sIHsKICAgIGtleTogImhhbmRsZUV2ZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVFdmVudChldmVudCkgewogICAgICB2YXIgdHlwZSA9IGlzU3RyaW5nKGV2ZW50KSA/IGV2ZW50IDogZXZlbnQudHlwZTsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwoKICAgICAgdmFyIHJlc2l6ZVRocm90dGxlID0gZnVuY3Rpb24gcmVzaXplVGhyb3R0bGUoKSB7CiAgICAgICAgaWYgKCFzZWxmLiRyZXNpemVUaW1lb3V0KSB7CiAgICAgICAgICBzZWxmLiRyZXNpemVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHNlbGYucmVmcmVzaCgpOwogICAgICAgICAgICBzZWxmLnByb2Nlc3MoKTsKICAgICAgICAgICAgc2VsZi4kcmVzaXplVGltZW91dCA9IG51bGw7CiAgICAgICAgICB9LCBzZWxmLiRjb25maWcudGhyb3R0bGUpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGlmICh0eXBlID09PSAnc2Nyb2xsJykgewogICAgICAgIGlmICghdGhpcy4kc2Nyb2xsZXJPYnNlcnZlcikgewogICAgICAgICAgLy8gSnVzdCBpbiBjYXNlIHdlIGFyZSBhZGRlZCB0byB0aGUgRE9NIGJlZm9yZSB0aGUgc2Nyb2xsIHRhcmdldCBpcwogICAgICAgICAgLy8gV2UgcmUtaW5zdGFudGlhdGUgb3VyIGxpc3RlbmVycywganVzdCBpbiBjYXNlCiAgICAgICAgICB0aGlzLmxpc3RlbigpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5wcm9jZXNzKCk7CiAgICAgIH0gZWxzZSBpZiAoLyhyZXNpemV8b3JpZW50YXRpb25jaGFuZ2V8bXV0YXRpb258cmVmcmVzaCkvLnRlc3QodHlwZSkpIHsKICAgICAgICAvLyBQb3N0cG9uZSB0aGVzZSBldmVudHMgYnkgdGhyb3R0bGUgdGltZQogICAgICAgIHJlc2l6ZVRocm90dGxlKCk7CiAgICAgIH0KICAgIH0gLy8gUmVmcmVzaCB0aGUgbGlzdCBvZiB0YXJnZXQgbGlua3Mgb24gdGhlIGVsZW1lbnQgd2UgYXJlIGFwcGxpZWQgdG8KCiAgfSwgewogICAga2V5OiAicmVmcmVzaCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgc2Nyb2xsZXIgPSB0aGlzLmdldFNjcm9sbGVyKCk7CgogICAgICBpZiAoIXNjcm9sbGVyKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgYXV0b01ldGhvZCA9IHNjcm9sbGVyICE9PSBzY3JvbGxlci53aW5kb3cgPyBNRVRIT0RfUE9TSVRJT04gOiBNRVRIT0RfT0ZGU0VUOwogICAgICB2YXIgbWV0aG9kID0gdGhpcy4kY29uZmlnLm1ldGhvZCA9PT0gJ2F1dG8nID8gYXV0b01ldGhvZCA6IHRoaXMuJGNvbmZpZy5tZXRob2Q7CiAgICAgIHZhciBtZXRob2RGbiA9IG1ldGhvZCA9PT0gTUVUSE9EX1BPU0lUSU9OID8gcG9zaXRpb24gOiBvZmZzZXQ7CiAgICAgIHZhciBvZmZzZXRCYXNlID0gbWV0aG9kID09PSBNRVRIT0RfUE9TSVRJT04gPyB0aGlzLmdldFNjcm9sbFRvcCgpIDogMDsKICAgICAgdGhpcy4kb2Zmc2V0cyA9IFtdOwogICAgICB0aGlzLiR0YXJnZXRzID0gW107CiAgICAgIHRoaXMuJHNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KCk7IC8vIEZpbmQgYWxsIHRoZSB1bmlxdWUgbGluayBIUkVGcyB0aGF0IHdlIHdpbGwgY29udHJvbAoKICAgICAgc2VsZWN0QWxsKHRoaXMuJHNlbGVjdG9yLCB0aGlzLiRlbCkgLy8gR2V0IEhSRUYgdmFsdWUKICAgICAgLm1hcChmdW5jdGlvbiAobGluaykgewogICAgICAgIHJldHVybiBnZXRBdHRyKGxpbmssICdocmVmJyk7CiAgICAgIH0pIC8vIEZpbHRlciBvdXQgSFJFRnMgdGhhdCBkbyBub3QgbWF0Y2ggb3VyIFJlZ0V4cAogICAgICAuZmlsdGVyKGZ1bmN0aW9uIChocmVmKSB7CiAgICAgICAgcmV0dXJuIGhyZWYgJiYgUlhfSFJFRi50ZXN0KGhyZWYgfHwgJycpOwogICAgICB9KSAvLyBGaW5kIGFsbCBlbGVtZW50cyB3aXRoIElEIHRoYXQgbWF0Y2ggSFJFRiBoYXNoCiAgICAgIC5tYXAoZnVuY3Rpb24gKGhyZWYpIHsKICAgICAgICAvLyBDb252ZXJ0IEhSRUYgaW50byBhbiBJRCAoaW5jbHVkaW5nICMgYXQgYmVnaW5uaW5nKQogICAgICAgIHZhciBpZCA9IGhyZWYucmVwbGFjZShSWF9IUkVGLCAnJDEnKS50cmltKCk7CgogICAgICAgIGlmICghaWQpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0gLy8gRmluZCB0aGUgZWxlbWVudCB3aXRoIHRoZSBJRCBzcGVjaWZpZWQgYnkgaWQKCgogICAgICAgIHZhciBlbCA9IHNlbGVjdChpZCwgc2Nyb2xsZXIpOwoKICAgICAgICBpZiAoZWwgJiYgaXNWaXNpYmxlKGVsKSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgb2Zmc2V0OiB0b0ludGVnZXIobWV0aG9kRm4oZWwpLnRvcCwgMCkgKyBvZmZzZXRCYXNlLAogICAgICAgICAgICB0YXJnZXQ6IGlkCiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0pLmZpbHRlcihpZGVudGl0eSkgLy8gU29ydCB0aGVtIGJ5IHRoZWlyIG9mZnNldHMgKHNtYWxsZXN0IGZpcnN0KQogICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBhLm9mZnNldCAtIGIub2Zmc2V0OwogICAgICB9KSAvLyByZWNvcmQgb25seSB1bmlxdWUgdGFyZ2V0cy9vZmZzZXRzCiAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGl0ZW0pIHsKICAgICAgICBpZiAoIW1lbW9baXRlbS50YXJnZXRdKSB7CiAgICAgICAgICBfdGhpczQuJG9mZnNldHMucHVzaChpdGVtLm9mZnNldCk7CgogICAgICAgICAgX3RoaXM0LiR0YXJnZXRzLnB1c2goaXRlbS50YXJnZXQpOwoKICAgICAgICAgIG1lbW9baXRlbS50YXJnZXRdID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBtZW1vOwogICAgICB9LCB7fSk7IC8vIFJldHVybiB0aGlzIGZvciBlYXN5IGNoYWluaW5nCgogICAgICByZXR1cm4gdGhpczsKICAgIH0gLy8gSGFuZGxlIGFjdGl2YXRpbmcvY2xlYXJpbmcKCiAgfSwgewogICAga2V5OiAicHJvY2VzcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJvY2VzcygpIHsKICAgICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMuZ2V0U2Nyb2xsVG9wKCkgKyB0aGlzLiRjb25maWcub2Zmc2V0OwogICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gdGhpcy5nZXRTY3JvbGxIZWlnaHQoKTsKICAgICAgdmFyIG1heFNjcm9sbCA9IHRoaXMuJGNvbmZpZy5vZmZzZXQgKyBzY3JvbGxIZWlnaHQgLSB0aGlzLmdldE9mZnNldEhlaWdodCgpOwoKICAgICAgaWYgKHRoaXMuJHNjcm9sbEhlaWdodCAhPT0gc2Nyb2xsSGVpZ2h0KSB7CiAgICAgICAgdGhpcy5yZWZyZXNoKCk7CiAgICAgIH0KCiAgICAgIGlmIChzY3JvbGxUb3AgPj0gbWF4U2Nyb2xsKSB7CiAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMuJHRhcmdldHNbdGhpcy4kdGFyZ2V0cy5sZW5ndGggLSAxXTsKCiAgICAgICAgaWYgKHRoaXMuJGFjdGl2ZVRhcmdldCAhPT0gdGFyZ2V0KSB7CiAgICAgICAgICB0aGlzLmFjdGl2YXRlKHRhcmdldCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLiRhY3RpdmVUYXJnZXQgJiYgc2Nyb2xsVG9wIDwgdGhpcy4kb2Zmc2V0c1swXSAmJiB0aGlzLiRvZmZzZXRzWzBdID4gMCkgewogICAgICAgIHRoaXMuJGFjdGl2ZVRhcmdldCA9IG51bGw7CiAgICAgICAgdGhpcy5jbGVhcigpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgZm9yICh2YXIgaSA9IHRoaXMuJG9mZnNldHMubGVuZ3RoOyBpLS07KSB7CiAgICAgICAgdmFyIGlzQWN0aXZlVGFyZ2V0ID0gdGhpcy4kYWN0aXZlVGFyZ2V0ICE9PSB0aGlzLiR0YXJnZXRzW2ldICYmIHNjcm9sbFRvcCA+PSB0aGlzLiRvZmZzZXRzW2ldICYmIChpc1VuZGVmaW5lZCh0aGlzLiRvZmZzZXRzW2kgKyAxXSkgfHwgc2Nyb2xsVG9wIDwgdGhpcy4kb2Zmc2V0c1tpICsgMV0pOwoKICAgICAgICBpZiAoaXNBY3RpdmVUYXJnZXQpIHsKICAgICAgICAgIHRoaXMuYWN0aXZhdGUodGhpcy4kdGFyZ2V0c1tpXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0U2Nyb2xsZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNjcm9sbGVyKCkgewogICAgICBpZiAodGhpcy4kc2Nyb2xsZXIpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc2Nyb2xsZXI7CiAgICAgIH0KCiAgICAgIHZhciBzY3JvbGxlciA9IHRoaXMuJGNvbmZpZy5lbGVtZW50OwoKICAgICAgaWYgKCFzY3JvbGxlcikgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9IGVsc2UgaWYgKGlzRWxlbWVudChzY3JvbGxlci4kZWwpKSB7CiAgICAgICAgc2Nyb2xsZXIgPSBzY3JvbGxlci4kZWw7CiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoc2Nyb2xsZXIpKSB7CiAgICAgICAgc2Nyb2xsZXIgPSBzZWxlY3Qoc2Nyb2xsZXIpOwogICAgICB9CgogICAgICBpZiAoIXNjcm9sbGVyKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHRoaXMuJHNjcm9sbGVyID0gc2Nyb2xsZXIudGFnTmFtZSA9PT0gJ0JPRFknID8gd2luZG93IDogc2Nyb2xsZXI7CiAgICAgIHJldHVybiB0aGlzLiRzY3JvbGxlcjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRTY3JvbGxUb3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNjcm9sbFRvcCgpIHsKICAgICAgdmFyIHNjcm9sbGVyID0gdGhpcy5nZXRTY3JvbGxlcigpOwogICAgICByZXR1cm4gc2Nyb2xsZXIgPT09IHdpbmRvdyA/IHNjcm9sbGVyLnBhZ2VZT2Zmc2V0IDogc2Nyb2xsZXIuc2Nyb2xsVG9wOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFNjcm9sbEhlaWdodCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2Nyb2xsSGVpZ2h0KCkgewogICAgICByZXR1cm4gdGhpcy5nZXRTY3JvbGxlcigpLnNjcm9sbEhlaWdodCB8fCBtYXRoTWF4KGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRPZmZzZXRIZWlnaHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldE9mZnNldEhlaWdodCgpIHsKICAgICAgdmFyIHNjcm9sbGVyID0gdGhpcy5nZXRTY3JvbGxlcigpOwogICAgICByZXR1cm4gc2Nyb2xsZXIgPT09IHdpbmRvdyA/IHdpbmRvdy5pbm5lckhlaWdodCA6IGdldEJDUihzY3JvbGxlcikuaGVpZ2h0OwogICAgfQogIH0sIHsKICAgIGtleTogImFjdGl2YXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhY3RpdmF0ZSh0YXJnZXQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLiRhY3RpdmVUYXJnZXQgPSB0YXJnZXQ7CiAgICAgIHRoaXMuY2xlYXIoKTsgLy8gR3JhYiB0aGUgbGlzdCBvZiB0YXJnZXQgbGlua3MgKDxhIGhyZWY9InskdGFyZ2V0fSI+KQoKICAgICAgdmFyIGxpbmtzID0gc2VsZWN0QWxsKHRoaXMuJHNlbGVjdG9yIC8vIFNwbGl0IG91dCB0aGUgYmFzZSBzZWxlY3RvcnMKICAgICAgLnNwbGl0KCcsJykgLy8gTWFwIHRvIGEgc2VsZWN0b3IgdGhhdCBtYXRjaGVzIGxpbmtzIHdpdGggSFJFRiBlbmRpbmcgaW4gdGhlIElEIChpbmNsdWRpbmcgJyMnKQogICAgICAubWFwKGZ1bmN0aW9uIChzZWxlY3RvcikgewogICAgICAgIHJldHVybiAiIi5jb25jYXQoc2VsZWN0b3IsICJbaHJlZiQ9XCIiKS5jb25jYXQodGFyZ2V0LCAiXCJdIik7CiAgICAgIH0pIC8vIEpvaW4gYmFjayBpbnRvIGEgc2luZ2xlIHNlbGVjdG9yIHN0cmluZwogICAgICAuam9pbignLCcpLCB0aGlzLiRlbCk7CiAgICAgIGxpbmtzLmZvckVhY2goZnVuY3Rpb24gKGxpbmspIHsKICAgICAgICBpZiAoaGFzQ2xhc3MobGluaywgQ0xBU1NfTkFNRV9EUk9QRE9XTl9JVEVNKSkgewogICAgICAgICAgLy8gVGhpcyBpcyBhIGRyb3Bkb3duIGl0ZW0sIHNvIGZpbmQgdGhlIC5kcm9wZG93bi10b2dnbGUgYW5kIHNldCBpdHMgc3RhdGUKICAgICAgICAgIHZhciBkcm9wZG93biA9IGNsb3Nlc3QoU0VMRUNUT1JfRFJPUERPV04sIGxpbmspOwoKICAgICAgICAgIGlmIChkcm9wZG93bikgewogICAgICAgICAgICBfdGhpczUuc2V0QWN0aXZlU3RhdGUoc2VsZWN0KFNFTEVDVE9SX0RST1BET1dOX1RPR0dMRSwgZHJvcGRvd24pLCB0cnVlKTsKICAgICAgICAgIH0gLy8gQWxzbyBzZXQgdGhpcyBsaW5rJ3Mgc3RhdGUKCgogICAgICAgICAgX3RoaXM1LnNldEFjdGl2ZVN0YXRlKGxpbmssIHRydWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBTZXQgdHJpZ2dlcmVkIGxpbmsgYXMgYWN0aXZlCiAgICAgICAgICBfdGhpczUuc2V0QWN0aXZlU3RhdGUobGluaywgdHJ1ZSk7CgogICAgICAgICAgaWYgKG1hdGNoZXMobGluay5wYXJlbnRFbGVtZW50LCBTRUxFQ1RPUl9OQVZfSVRFTVMpKSB7CiAgICAgICAgICAgIC8vIEhhbmRsZSBuYXYtbGluayBpbnNpZGUgbmF2LWl0ZW0sIGFuZCBzZXQgbmF2LWl0ZW0gYWN0aXZlCiAgICAgICAgICAgIF90aGlzNS5zZXRBY3RpdmVTdGF0ZShsaW5rLnBhcmVudEVsZW1lbnQsIHRydWUpOwogICAgICAgICAgfSAvLyBTZXQgdHJpZ2dlcmVkIGxpbmtzIHBhcmVudHMgYXMgYWN0aXZlCiAgICAgICAgICAvLyBXaXRoIGJvdGggPHVsPiBhbmQgPG5hdj4gbWFya3VwIGEgcGFyZW50IGlzIHRoZSBwcmV2aW91cyBzaWJsaW5nIG9mIGFueSBuYXYgYW5jZXN0b3IKCgogICAgICAgICAgdmFyIGVsID0gbGluazsKCiAgICAgICAgICB3aGlsZSAoZWwpIHsKICAgICAgICAgICAgZWwgPSBjbG9zZXN0KFNFTEVDVE9SX05BVl9MSVNUX0dST1VQLCBlbCk7CiAgICAgICAgICAgIHZhciBzaWJsaW5nID0gZWwgPyBlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nIDogbnVsbDsKCiAgICAgICAgICAgIGlmIChzaWJsaW5nICYmIG1hdGNoZXMoc2libGluZywgIiIuY29uY2F0KFNFTEVDVE9SX05BVl9MSU5LUywgIiwgIikuY29uY2F0KFNFTEVDVE9SX0xJU1RfSVRFTVMpKSkgewogICAgICAgICAgICAgIF90aGlzNS5zZXRBY3RpdmVTdGF0ZShzaWJsaW5nLCB0cnVlKTsKICAgICAgICAgICAgfSAvLyBIYW5kbGUgc3BlY2lhbCBjYXNlIHdoZXJlIG5hdi1saW5rIGlzIGluc2lkZSBhIG5hdi1pdGVtCgoKICAgICAgICAgICAgaWYgKHNpYmxpbmcgJiYgbWF0Y2hlcyhzaWJsaW5nLCBTRUxFQ1RPUl9OQVZfSVRFTVMpKSB7CiAgICAgICAgICAgICAgX3RoaXM1LnNldEFjdGl2ZVN0YXRlKHNlbGVjdChTRUxFQ1RPUl9OQVZfTElOS1MsIHNpYmxpbmcpLCB0cnVlKTsgLy8gQWRkIGFjdGl2ZSBzdGF0ZSB0byBuYXYtaXRlbSBhcyB3ZWxsCgoKICAgICAgICAgICAgICBfdGhpczUuc2V0QWN0aXZlU3RhdGUoc2libGluZywgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOyAvLyBTaWduYWwgZXZlbnQgdG8gdmlhICRyb290LCBwYXNzaW5nIElEIG9mIGFjdGl2YXRlZCB0YXJnZXQgYW5kIHJlZmVyZW5jZSB0byBhcnJheSBvZiBsaW5rcwoKICAgICAgaWYgKGxpbmtzICYmIGxpbmtzLmxlbmd0aCA+IDAgJiYgdGhpcy4kcm9vdCkgewogICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoUk9PVF9FVkVOVF9OQU1FX0FDVElWQVRFLCB0YXJnZXQsIGxpbmtzKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNsZWFyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICBzZWxlY3RBbGwoIiIuY29uY2F0KHRoaXMuJHNlbGVjdG9yLCAiLCAiKS5jb25jYXQoU0VMRUNUT1JfTkFWX0lURU1TKSwgdGhpcy4kZWwpLmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gaGFzQ2xhc3MoZWwsIENMQVNTX05BTUVfQUNUSVZFKTsKICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gX3RoaXM2LnNldEFjdGl2ZVN0YXRlKGVsLCBmYWxzZSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEFjdGl2ZVN0YXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBY3RpdmVTdGF0ZShlbCwgYWN0aXZlKSB7CiAgICAgIGlmICghZWwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChhY3RpdmUpIHsKICAgICAgICBhZGRDbGFzcyhlbCwgQ0xBU1NfTkFNRV9BQ1RJVkUpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlbW92ZUNsYXNzKGVsLCBDTEFTU19OQU1FX0FDVElWRSk7CiAgICAgIH0KICAgIH0KICB9XSwgW3sKICAgIGtleTogIk5hbWUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBOQU1FOwogICAgfQogIH0sIHsKICAgIGtleTogIkRlZmF1bHQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBEZWZhdWx0OwogICAgfQogIH0sIHsKICAgIGtleTogIkRlZmF1bHRUeXBlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gRGVmYXVsdFR5cGU7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQlZTY3JvbGxTcHk7Cn0oKTs="},{"version":3,"sources":["/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/bootstrap-vue/esm/directives/scrollspy/helpers/bv-scrollspy.class.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","prototype","EVENT_OPTIONS_NO_CAPTURE","RX_HREF","addClass","closest","getAttr","getBCR","hasClass","isElement","isVisible","matches","offset","position","removeClass","select","selectAll","getRootEventName","eventOn","eventOff","identity","isString","isUndefined","mathMax","toInteger","hasOwnProperty","toString","objectToString","observeDom","warn","NAME","CLASS_NAME_DROPDOWN_ITEM","CLASS_NAME_ACTIVE","SELECTOR_NAV_LIST_GROUP","SELECTOR_NAV_LINKS","SELECTOR_NAV_ITEMS","SELECTOR_LIST_ITEMS","SELECTOR_DROPDOWN","SELECTOR_DROPDOWN_ITEMS","SELECTOR_DROPDOWN_TOGGLE","ROOT_EVENT_NAME_ACTIVATE","METHOD_OFFSET","METHOD_POSITION","Default","element","method","throttle","DefaultType","TransitionEndEvents","toType","match","toLowerCase","typeCheckConfig","componentName","config","configTypes","property","expectedTypes","valueType","_isVue","RegExp","test","concat","BVScrollSpy","$root","$el","$scroller","$selector","join","$offsets","$targets","$activeTarget","$scrollHeight","$resizeTimeout","$scrollerObserver","$targetsObserver","$config","updateConfig","unlisten","cfg","constructor","Name","self","$nextTick","listen","dispose","clearTimeout","_this","scroller","getScroller","tagName","window","eventName","setObservers","handleEvent","_this2","on","_this3","disconnect","subtree","childList","attributes","attributeFilter","characterData","event","type","resizeThrottle","setTimeout","refresh","process","_this4","autoMethod","methodFn","offsetBase","getScrollTop","getScrollHeight","map","link","href","id","replace","trim","el","top","sort","a","b","reduce","memo","item","scrollTop","scrollHeight","maxScroll","getOffsetHeight","activate","clear","isActiveTarget","pageYOffset","document","body","documentElement","innerHeight","height","_this5","links","split","selector","dropdown","setActiveState","parentElement","sibling","previousElementSibling","$emit","_this6","active","get"],"mappings":"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","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/*\n * ScrollSpy class definition\n */\nimport { EVENT_OPTIONS_NO_CAPTURE } from '../../../constants/events';\nimport { RX_HREF } from '../../../constants/regex';\nimport { addClass, closest, getAttr, getBCR, hasClass, isElement, isVisible, matches, offset, position, removeClass, select, selectAll } from '../../../utils/dom';\nimport { getRootEventName, eventOn, eventOff } from '../../../utils/events';\nimport { identity } from '../../../utils/identity';\nimport { isString, isUndefined } from '../../../utils/inspect';\nimport { mathMax } from '../../../utils/math';\nimport { toInteger } from '../../../utils/number';\nimport { hasOwnProperty, toString as objectToString } from '../../../utils/object';\nimport { observeDom } from '../../../utils/observe-dom';\nimport { warn } from '../../../utils/warn';\n/*\n * Constants / Defaults\n */\n\nvar NAME = 'v-b-scrollspy';\nvar CLASS_NAME_DROPDOWN_ITEM = 'dropdown-item';\nvar CLASS_NAME_ACTIVE = 'active';\nvar SELECTOR_NAV_LIST_GROUP = '.nav, .list-group';\nvar SELECTOR_NAV_LINKS = '.nav-link';\nvar SELECTOR_NAV_ITEMS = '.nav-item';\nvar SELECTOR_LIST_ITEMS = '.list-group-item';\nvar SELECTOR_DROPDOWN = '.dropdown, .dropup';\nvar SELECTOR_DROPDOWN_ITEMS = '.dropdown-item';\nvar SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle';\nvar ROOT_EVENT_NAME_ACTIVATE = getRootEventName('BVScrollspy', 'activate');\nvar METHOD_OFFSET = 'offset';\nvar METHOD_POSITION = 'position';\nvar Default = {\n  element: 'body',\n  offset: 10,\n  method: 'auto',\n  throttle: 75\n};\nvar DefaultType = {\n  element: '(string|element|component)',\n  offset: 'number',\n  method: 'string',\n  throttle: 'number'\n}; // Transition Events\n\nvar TransitionEndEvents = ['webkitTransitionEnd', 'transitionend', 'otransitionend', 'oTransitionEnd'];\n/*\n * Utility Methods\n */\n// Better var type detection\n\nvar toType = function toType(obj)\n/* istanbul ignore next: not easy to test */\n{\n  return objectToString(obj).match(/\\s([a-zA-Z]+)/)[1].toLowerCase();\n}; // Check config properties for expected types\n\n/* istanbul ignore next */\n\n\nvar typeCheckConfig = function typeCheckConfig(componentName, config, configTypes)\n/* istanbul ignore next: not easy to test */\n{\n  for (var property in configTypes) {\n    if (hasOwnProperty(configTypes, property)) {\n      var expectedTypes = configTypes[property];\n      var value = config[property];\n      var valueType = value && isElement(value) ? 'element' : toType(value); // handle Vue instances\n\n      valueType = value && value._isVue ? 'component' : valueType;\n\n      if (!new RegExp(expectedTypes).test(valueType)) {\n        /* istanbul ignore next */\n        warn(\"\".concat(componentName, \": Option \\\"\").concat(property, \"\\\" provided type \\\"\").concat(valueType, \"\\\" but expected type \\\"\").concat(expectedTypes, \"\\\"\"));\n      }\n    }\n  }\n};\n/*\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\n/* istanbul ignore next: not easy to test */\n\n\nexport var BVScrollSpy\n/* istanbul ignore next: not easy to test */\n= /*#__PURE__*/function () {\n  function BVScrollSpy(element, config, $root) {\n    _classCallCheck(this, BVScrollSpy);\n\n    // The element we activate links in\n    this.$el = element;\n    this.$scroller = null;\n    this.$selector = [SELECTOR_NAV_LINKS, SELECTOR_LIST_ITEMS, SELECTOR_DROPDOWN_ITEMS].join(',');\n    this.$offsets = [];\n    this.$targets = [];\n    this.$activeTarget = null;\n    this.$scrollHeight = 0;\n    this.$resizeTimeout = null;\n    this.$scrollerObserver = null;\n    this.$targetsObserver = null;\n    this.$root = $root || null;\n    this.$config = null;\n    this.updateConfig(config);\n  }\n\n  _createClass(BVScrollSpy, [{\n    key: \"updateConfig\",\n    value: function updateConfig(config, $root) {\n      if (this.$scroller) {\n        // Just in case out scroll element has changed\n        this.unlisten();\n        this.$scroller = null;\n      }\n\n      var cfg = _objectSpread(_objectSpread({}, this.constructor.Default), config);\n\n      if ($root) {\n        this.$root = $root;\n      }\n\n      typeCheckConfig(this.constructor.Name, cfg, this.constructor.DefaultType);\n      this.$config = cfg;\n\n      if (this.$root) {\n        var self = this;\n        this.$root.$nextTick(function () {\n          self.listen();\n        });\n      } else {\n        this.listen();\n      }\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.unlisten();\n      clearTimeout(this.$resizeTimeout);\n      this.$resizeTimeout = null;\n      this.$el = null;\n      this.$config = null;\n      this.$scroller = null;\n      this.$selector = null;\n      this.$offsets = null;\n      this.$targets = null;\n      this.$activeTarget = null;\n      this.$scrollHeight = null;\n    }\n  }, {\n    key: \"listen\",\n    value: function listen() {\n      var _this = this;\n\n      var scroller = this.getScroller();\n\n      if (scroller && scroller.tagName !== 'BODY') {\n        eventOn(scroller, 'scroll', this, EVENT_OPTIONS_NO_CAPTURE);\n      }\n\n      eventOn(window, 'scroll', this, EVENT_OPTIONS_NO_CAPTURE);\n      eventOn(window, 'resize', this, EVENT_OPTIONS_NO_CAPTURE);\n      eventOn(window, 'orientationchange', this, EVENT_OPTIONS_NO_CAPTURE);\n      TransitionEndEvents.forEach(function (eventName) {\n        eventOn(window, eventName, _this, EVENT_OPTIONS_NO_CAPTURE);\n      });\n      this.setObservers(true); // Schedule a refresh\n\n      this.handleEvent('refresh');\n    }\n  }, {\n    key: \"unlisten\",\n    value: function unlisten() {\n      var _this2 = this;\n\n      var scroller = this.getScroller();\n      this.setObservers(false);\n\n      if (scroller && scroller.tagName !== 'BODY') {\n        eventOff(scroller, 'scroll', this, EVENT_OPTIONS_NO_CAPTURE);\n      }\n\n      eventOff(window, 'scroll', this, EVENT_OPTIONS_NO_CAPTURE);\n      eventOff(window, 'resize', this, EVENT_OPTIONS_NO_CAPTURE);\n      eventOff(window, 'orientationchange', this, EVENT_OPTIONS_NO_CAPTURE);\n      TransitionEndEvents.forEach(function (eventName) {\n        eventOff(window, eventName, _this2, EVENT_OPTIONS_NO_CAPTURE);\n      });\n    }\n  }, {\n    key: \"setObservers\",\n    value: function setObservers(on) {\n      var _this3 = this;\n\n      // We observe both the scroller for content changes, and the target links\n      this.$scrollerObserver && this.$scrollerObserver.disconnect();\n      this.$targetsObserver && this.$targetsObserver.disconnect();\n      this.$scrollerObserver = null;\n      this.$targetsObserver = null;\n\n      if (on) {\n        this.$targetsObserver = observeDom(this.$el, function () {\n          _this3.handleEvent('mutation');\n        }, {\n          subtree: true,\n          childList: true,\n          attributes: true,\n          attributeFilter: ['href']\n        });\n        this.$scrollerObserver = observeDom(this.getScroller(), function () {\n          _this3.handleEvent('mutation');\n        }, {\n          subtree: true,\n          childList: true,\n          characterData: true,\n          attributes: true,\n          attributeFilter: ['id', 'style', 'class']\n        });\n      }\n    } // General event handler\n\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      var type = isString(event) ? event : event.type;\n      var self = this;\n\n      var resizeThrottle = function resizeThrottle() {\n        if (!self.$resizeTimeout) {\n          self.$resizeTimeout = setTimeout(function () {\n            self.refresh();\n            self.process();\n            self.$resizeTimeout = null;\n          }, self.$config.throttle);\n        }\n      };\n\n      if (type === 'scroll') {\n        if (!this.$scrollerObserver) {\n          // Just in case we are added to the DOM before the scroll target is\n          // We re-instantiate our listeners, just in case\n          this.listen();\n        }\n\n        this.process();\n      } else if (/(resize|orientationchange|mutation|refresh)/.test(type)) {\n        // Postpone these events by throttle time\n        resizeThrottle();\n      }\n    } // Refresh the list of target links on the element we are applied to\n\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      var _this4 = this;\n\n      var scroller = this.getScroller();\n\n      if (!scroller) {\n        return;\n      }\n\n      var autoMethod = scroller !== scroller.window ? METHOD_POSITION : METHOD_OFFSET;\n      var method = this.$config.method === 'auto' ? autoMethod : this.$config.method;\n      var methodFn = method === METHOD_POSITION ? position : offset;\n      var offsetBase = method === METHOD_POSITION ? this.getScrollTop() : 0;\n      this.$offsets = [];\n      this.$targets = [];\n      this.$scrollHeight = this.getScrollHeight(); // Find all the unique link HREFs that we will control\n\n      selectAll(this.$selector, this.$el) // Get HREF value\n      .map(function (link) {\n        return getAttr(link, 'href');\n      }) // Filter out HREFs that do not match our RegExp\n      .filter(function (href) {\n        return href && RX_HREF.test(href || '');\n      }) // Find all elements with ID that match HREF hash\n      .map(function (href) {\n        // Convert HREF into an ID (including # at beginning)\n        var id = href.replace(RX_HREF, '$1').trim();\n\n        if (!id) {\n          return null;\n        } // Find the element with the ID specified by id\n\n\n        var el = select(id, scroller);\n\n        if (el && isVisible(el)) {\n          return {\n            offset: toInteger(methodFn(el).top, 0) + offsetBase,\n            target: id\n          };\n        }\n\n        return null;\n      }).filter(identity) // Sort them by their offsets (smallest first)\n      .sort(function (a, b) {\n        return a.offset - b.offset;\n      }) // record only unique targets/offsets\n      .reduce(function (memo, item) {\n        if (!memo[item.target]) {\n          _this4.$offsets.push(item.offset);\n\n          _this4.$targets.push(item.target);\n\n          memo[item.target] = true;\n        }\n\n        return memo;\n      }, {}); // Return this for easy chaining\n\n      return this;\n    } // Handle activating/clearing\n\n  }, {\n    key: \"process\",\n    value: function process() {\n      var scrollTop = this.getScrollTop() + this.$config.offset;\n      var scrollHeight = this.getScrollHeight();\n      var maxScroll = this.$config.offset + scrollHeight - this.getOffsetHeight();\n\n      if (this.$scrollHeight !== scrollHeight) {\n        this.refresh();\n      }\n\n      if (scrollTop >= maxScroll) {\n        var target = this.$targets[this.$targets.length - 1];\n\n        if (this.$activeTarget !== target) {\n          this.activate(target);\n        }\n\n        return;\n      }\n\n      if (this.$activeTarget && scrollTop < this.$offsets[0] && this.$offsets[0] > 0) {\n        this.$activeTarget = null;\n        this.clear();\n        return;\n      }\n\n      for (var i = this.$offsets.length; i--;) {\n        var isActiveTarget = this.$activeTarget !== this.$targets[i] && scrollTop >= this.$offsets[i] && (isUndefined(this.$offsets[i + 1]) || scrollTop < this.$offsets[i + 1]);\n\n        if (isActiveTarget) {\n          this.activate(this.$targets[i]);\n        }\n      }\n    }\n  }, {\n    key: \"getScroller\",\n    value: function getScroller() {\n      if (this.$scroller) {\n        return this.$scroller;\n      }\n\n      var scroller = this.$config.element;\n\n      if (!scroller) {\n        return null;\n      } else if (isElement(scroller.$el)) {\n        scroller = scroller.$el;\n      } else if (isString(scroller)) {\n        scroller = select(scroller);\n      }\n\n      if (!scroller) {\n        return null;\n      }\n\n      this.$scroller = scroller.tagName === 'BODY' ? window : scroller;\n      return this.$scroller;\n    }\n  }, {\n    key: \"getScrollTop\",\n    value: function getScrollTop() {\n      var scroller = this.getScroller();\n      return scroller === window ? scroller.pageYOffset : scroller.scrollTop;\n    }\n  }, {\n    key: \"getScrollHeight\",\n    value: function getScrollHeight() {\n      return this.getScroller().scrollHeight || mathMax(document.body.scrollHeight, document.documentElement.scrollHeight);\n    }\n  }, {\n    key: \"getOffsetHeight\",\n    value: function getOffsetHeight() {\n      var scroller = this.getScroller();\n      return scroller === window ? window.innerHeight : getBCR(scroller).height;\n    }\n  }, {\n    key: \"activate\",\n    value: function activate(target) {\n      var _this5 = this;\n\n      this.$activeTarget = target;\n      this.clear(); // Grab the list of target links (<a href=\"{$target}\">)\n\n      var links = selectAll(this.$selector // Split out the base selectors\n      .split(',') // Map to a selector that matches links with HREF ending in the ID (including '#')\n      .map(function (selector) {\n        return \"\".concat(selector, \"[href$=\\\"\").concat(target, \"\\\"]\");\n      }) // Join back into a single selector string\n      .join(','), this.$el);\n      links.forEach(function (link) {\n        if (hasClass(link, CLASS_NAME_DROPDOWN_ITEM)) {\n          // This is a dropdown item, so find the .dropdown-toggle and set its state\n          var dropdown = closest(SELECTOR_DROPDOWN, link);\n\n          if (dropdown) {\n            _this5.setActiveState(select(SELECTOR_DROPDOWN_TOGGLE, dropdown), true);\n          } // Also set this link's state\n\n\n          _this5.setActiveState(link, true);\n        } else {\n          // Set triggered link as active\n          _this5.setActiveState(link, true);\n\n          if (matches(link.parentElement, SELECTOR_NAV_ITEMS)) {\n            // Handle nav-link inside nav-item, and set nav-item active\n            _this5.setActiveState(link.parentElement, true);\n          } // Set triggered links parents as active\n          // With both <ul> and <nav> markup a parent is the previous sibling of any nav ancestor\n\n\n          var el = link;\n\n          while (el) {\n            el = closest(SELECTOR_NAV_LIST_GROUP, el);\n            var sibling = el ? el.previousElementSibling : null;\n\n            if (sibling && matches(sibling, \"\".concat(SELECTOR_NAV_LINKS, \", \").concat(SELECTOR_LIST_ITEMS))) {\n              _this5.setActiveState(sibling, true);\n            } // Handle special case where nav-link is inside a nav-item\n\n\n            if (sibling && matches(sibling, SELECTOR_NAV_ITEMS)) {\n              _this5.setActiveState(select(SELECTOR_NAV_LINKS, sibling), true); // Add active state to nav-item as well\n\n\n              _this5.setActiveState(sibling, true);\n            }\n          }\n        }\n      }); // Signal event to via $root, passing ID of activated target and reference to array of links\n\n      if (links && links.length > 0 && this.$root) {\n        this.$root.$emit(ROOT_EVENT_NAME_ACTIVATE, target, links);\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _this6 = this;\n\n      selectAll(\"\".concat(this.$selector, \", \").concat(SELECTOR_NAV_ITEMS), this.$el).filter(function (el) {\n        return hasClass(el, CLASS_NAME_ACTIVE);\n      }).forEach(function (el) {\n        return _this6.setActiveState(el, false);\n      });\n    }\n  }, {\n    key: \"setActiveState\",\n    value: function setActiveState(el, active) {\n      if (!el) {\n        return;\n      }\n\n      if (active) {\n        addClass(el, CLASS_NAME_ACTIVE);\n      } else {\n        removeClass(el, CLASS_NAME_ACTIVE);\n      }\n    }\n  }], [{\n    key: \"Name\",\n    get: function get() {\n      return NAME;\n    }\n  }, {\n    key: \"Default\",\n    get: function get() {\n      return Default;\n    }\n  }, {\n    key: \"DefaultType\",\n    get: function get() {\n      return DefaultType;\n    }\n  }]);\n\n  return BVScrollSpy;\n}();"]}]}