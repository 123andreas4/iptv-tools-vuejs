{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/bootstrap-vue/esm/mixins/dropdown.js","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/bootstrap-vue/esm/mixins/dropdown.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCmltcG9ydCBQb3BwZXIgZnJvbSAncG9wcGVyLmpzJzsKaW1wb3J0IHsgVnVlIH0gZnJvbSAnLi4vdnVlJzsKaW1wb3J0IHsgTkFNRV9EUk9QRE9XTiB9IGZyb20gJy4uL2NvbnN0YW50cy9jb21wb25lbnRzJzsKaW1wb3J0IHsgRVZFTlRfTkFNRV9DTElDSywgRVZFTlRfTkFNRV9ISURERU4sIEVWRU5UX05BTUVfSElERSwgRVZFTlRfTkFNRV9TSE9XLCBFVkVOVF9OQU1FX1NIT1dOLCBFVkVOVF9OQU1FX1RPR0dMRSB9IGZyb20gJy4uL2NvbnN0YW50cy9ldmVudHMnOwppbXBvcnQgeyBDT0RFX0RPV04sIENPREVfRU5URVIsIENPREVfRVNDLCBDT0RFX1NQQUNFLCBDT0RFX1VQIH0gZnJvbSAnLi4vY29uc3RhbnRzL2tleS1jb2Rlcyc7CmltcG9ydCB7IFBMQUNFTUVOVF9UT1BfU1RBUlQsIFBMQUNFTUVOVF9UT1BfRU5ELCBQTEFDRU1FTlRfQk9UVE9NX1NUQVJULCBQTEFDRU1FTlRfQk9UVE9NX0VORCwgUExBQ0VNRU5UX1JJR0hUX1NUQVJULCBQTEFDRU1FTlRfTEVGVF9TVEFSVCB9IGZyb20gJy4uL2NvbnN0YW50cy9wb3BwZXInOwppbXBvcnQgeyBQUk9QX1RZUEVfQk9PTEVBTiwgUFJPUF9UWVBFX05VTUJFUl9TVFJJTkcsIFBST1BfVFlQRV9PQkpFQ1QsIFBST1BfVFlQRV9TVFJJTkcgfSBmcm9tICcuLi9jb25zdGFudHMvcHJvcHMnOwppbXBvcnQgeyBIVE1MRWxlbWVudCB9IGZyb20gJy4uL2NvbnN0YW50cy9zYWZlLXR5cGVzJzsKaW1wb3J0IHsgQnZFdmVudCB9IGZyb20gJy4uL3V0aWxzL2J2LWV2ZW50LmNsYXNzJzsKaW1wb3J0IHsgYXR0ZW1wdEZvY3VzLCBjbG9zZXN0LCBjb250YWlucywgaXNWaXNpYmxlLCByZXF1ZXN0QUYsIHNlbGVjdEFsbCB9IGZyb20gJy4uL3V0aWxzL2RvbSc7CmltcG9ydCB7IGdldFJvb3RFdmVudE5hbWUsIHN0b3BFdmVudCB9IGZyb20gJy4uL3V0aWxzL2V2ZW50cyc7CmltcG9ydCB7IGlzTnVsbCB9IGZyb20gJy4uL3V0aWxzL2luc3BlY3QnOwppbXBvcnQgeyBtZXJnZURlZXAsIHNvcnRLZXlzIH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgbWFrZVByb3AsIG1ha2VQcm9wc0NvbmZpZ3VyYWJsZSB9IGZyb20gJy4uL3V0aWxzL3Byb3BzJzsKaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uL3V0aWxzL3dhcm4nOwppbXBvcnQgeyBjbGlja091dE1peGluIH0gZnJvbSAnLi9jbGljay1vdXQnOwppbXBvcnQgeyBmb2N1c0luTWl4aW4gfSBmcm9tICcuL2ZvY3VzLWluJzsKaW1wb3J0IHsgaWRNaXhpbiwgcHJvcHMgYXMgaWRQcm9wcyB9IGZyb20gJy4vaWQnOwppbXBvcnQgeyBsaXN0ZW5PblJvb3RNaXhpbiB9IGZyb20gJy4vbGlzdGVuLW9uLXJvb3QnOyAvLyAtLS0gQ29uc3RhbnRzIC0tLQoKdmFyIFJPT1RfRVZFTlRfTkFNRV9TSE9XTiA9IGdldFJvb3RFdmVudE5hbWUoTkFNRV9EUk9QRE9XTiwgRVZFTlRfTkFNRV9TSE9XTik7CnZhciBST09UX0VWRU5UX05BTUVfSElEREVOID0gZ2V0Um9vdEV2ZW50TmFtZShOQU1FX0RST1BET1dOLCBFVkVOVF9OQU1FX0hJRERFTik7IC8vIENTUyBzZWxlY3RvcnMKCnZhciBTRUxFQ1RPUl9GT1JNX0NISUxEID0gJy5kcm9wZG93biBmb3JtJzsKdmFyIFNFTEVDVE9SX0lURU0gPSBbJy5kcm9wZG93bi1pdGVtJywgJy5iLWRyb3Bkb3duLWZvcm0nXS5tYXAoZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgcmV0dXJuICIiLmNvbmNhdChzZWxlY3RvciwgIjpub3QoLmRpc2FibGVkKTpub3QoW2Rpc2FibGVkXSkiKTsKfSkuam9pbignLCAnKTsgLy8gLS0tIEhlbHBlciBtZXRob2RzIC0tLQovLyBSZXR1cm4gYW4gYXJyYXkgb2YgdmlzaWJsZSBpdGVtcwoKdmFyIGZpbHRlclZpc2libGVzID0gZnVuY3Rpb24gZmlsdGVyVmlzaWJsZXMoZWxzKSB7CiAgcmV0dXJuIChlbHMgfHwgW10pLmZpbHRlcihpc1Zpc2libGUpOwp9OyAvLyAtLS0gUHJvcHMgLS0tCgoKZXhwb3J0IHZhciBwcm9wcyA9IG1ha2VQcm9wc0NvbmZpZ3VyYWJsZShzb3J0S2V5cyhfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGlkUHJvcHMpLCB7fSwgewogIC8vIFN0cmluZzogYHNjcm9sbFBhcmVudGAsIGB3aW5kb3dgIG9yIGB2aWV3cG9ydGAKICAvLyBIVE1MRWxlbWVudDogSFRNTCBFbGVtZW50IHJlZmVyZW5jZQogIGJvdW5kYXJ5OiBtYWtlUHJvcChbSFRNTEVsZW1lbnQsIFBST1BfVFlQRV9TVFJJTkddLCAnc2Nyb2xsUGFyZW50JyksCiAgZGlzYWJsZWQ6IG1ha2VQcm9wKFBST1BfVFlQRV9CT09MRUFOLCBmYWxzZSksCiAgLy8gUGxhY2UgbGVmdCBpZiBwb3NzaWJsZQogIGRyb3BsZWZ0OiBtYWtlUHJvcChQUk9QX1RZUEVfQk9PTEVBTiwgZmFsc2UpLAogIC8vIFBsYWNlIHJpZ2h0IGlmIHBvc3NpYmxlCiAgZHJvcHJpZ2h0OiBtYWtlUHJvcChQUk9QX1RZUEVfQk9PTEVBTiwgZmFsc2UpLAogIC8vIFBsYWNlIG9uIHRvcCBpZiBwb3NzaWJsZQogIGRyb3B1cDogbWFrZVByb3AoUFJPUF9UWVBFX0JPT0xFQU4sIGZhbHNlKSwKICAvLyBEaXNhYmxlIGF1dG8tZmxpcHBpbmcgb2YgbWVudSBmcm9tIGJvdHRvbSA8PT4gdG9wCiAgbm9GbGlwOiBtYWtlUHJvcChQUk9QX1RZUEVfQk9PTEVBTiwgZmFsc2UpLAogIC8vIE51bWJlciBvZiBwaXhlbHMgb3IgYSBDU1MgdW5pdCB2YWx1ZSB0byBvZmZzZXQgbWVudQogIC8vIChpLmUuIGAxcHhgLCBgMXJlbWAsIGV0Yy4pCiAgb2Zmc2V0OiBtYWtlUHJvcChQUk9QX1RZUEVfTlVNQkVSX1NUUklORywgMCksCiAgcG9wcGVyT3B0czogbWFrZVByb3AoUFJPUF9UWVBFX09CSkVDVCwge30pLAogIC8vIFJpZ2h0IGFsaWduIG1lbnUgKGRlZmF1bHQgaXMgbGVmdCBhbGlnbikKICByaWdodDogbWFrZVByb3AoUFJPUF9UWVBFX0JPT0xFQU4sIGZhbHNlKQp9KSksIE5BTUVfRFJPUERPV04pOyAvLyAtLS0gTWl4aW4gLS0tCi8vIEB2dWUvY29tcG9uZW50CgpleHBvcnQgdmFyIGRyb3Bkb3duTWl4aW4gPSBWdWUuZXh0ZW5kKHsKICBtaXhpbnM6IFtpZE1peGluLCBsaXN0ZW5PblJvb3RNaXhpbiwgY2xpY2tPdXRNaXhpbiwgZm9jdXNJbk1peGluXSwKICBwcm92aWRlOiBmdW5jdGlvbiBwcm92aWRlKCkgewogICAgcmV0dXJuIHsKICAgICAgYnZEcm9wZG93bjogdGhpcwogICAgfTsKICB9LAogIGluamVjdDogewogICAgYnZOYXZiYXI6IHsKICAgICAgZGVmYXVsdDogbnVsbAogICAgfQogIH0sCiAgcHJvcHM6IHByb3BzLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgdmlzaWJsZUNoYW5nZVByZXZlbnRlZDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaW5OYXZiYXI6IGZ1bmN0aW9uIGluTmF2YmFyKCkgewogICAgICByZXR1cm4gIWlzTnVsbCh0aGlzLmJ2TmF2YmFyKTsKICAgIH0sCiAgICB0b2dnbGVyOiBmdW5jdGlvbiB0b2dnbGVyKCkgewogICAgICB2YXIgdG9nZ2xlID0gdGhpcy4kcmVmcy50b2dnbGU7CiAgICAgIHJldHVybiB0b2dnbGUgPyB0b2dnbGUuJGVsIHx8IHRvZ2dsZSA6IG51bGw7CiAgICB9LAogICAgZGlyZWN0aW9uQ2xhc3M6IGZ1bmN0aW9uIGRpcmVjdGlvbkNsYXNzKCkgewogICAgICBpZiAodGhpcy5kcm9wdXApIHsKICAgICAgICByZXR1cm4gJ2Ryb3B1cCc7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5kcm9wcmlnaHQpIHsKICAgICAgICByZXR1cm4gJ2Ryb3ByaWdodCc7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5kcm9wbGVmdCkgewogICAgICAgIHJldHVybiAnZHJvcGxlZnQnOwogICAgICB9CgogICAgICByZXR1cm4gJyc7CiAgICB9LAogICAgYm91bmRhcnlDbGFzczogZnVuY3Rpb24gYm91bmRhcnlDbGFzcygpIHsKICAgICAgLy8gUG9zaXRpb24gYHN0YXRpY2AgaXMgbmVlZGVkIHRvIGFsbG93IG1lbnUgdG8gImJyZWFrb3V0IiBvZiB0aGUgYHNjcm9sbFBhcmVudGAKICAgICAgLy8gYm91bmRhcmllcyB3aGVuIGJvdW5kYXJ5IGlzIGFueXRoaW5nIG90aGVyIHRoYW4gYHNjcm9sbFBhcmVudGAKICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvaXNzdWVzLzI0MjUxI2lzc3VlY29tbWVudC0zNDE0MTM3ODYKICAgICAgcmV0dXJuIHRoaXMuYm91bmRhcnkgIT09ICdzY3JvbGxQYXJlbnQnICYmICF0aGlzLmluTmF2YmFyID8gJ3Bvc2l0aW9uLXN0YXRpYycgOiAnJzsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2aXNpYmxlOiBmdW5jdGlvbiB2aXNpYmxlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICBpZiAodGhpcy52aXNpYmxlQ2hhbmdlUHJldmVudGVkKSB7CiAgICAgICAgdGhpcy52aXNpYmxlQ2hhbmdlUHJldmVudGVkID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlKSB7CiAgICAgICAgdmFyIGV2ZW50TmFtZSA9IG5ld1ZhbHVlID8gRVZFTlRfTkFNRV9TSE9XIDogRVZFTlRfTkFNRV9ISURFOwogICAgICAgIHZhciBidkV2ZW50ID0gbmV3IEJ2RXZlbnQoZXZlbnROYW1lLCB7CiAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLAogICAgICAgICAgdnVlVGFyZ2V0OiB0aGlzLAogICAgICAgICAgdGFyZ2V0OiB0aGlzLiRyZWZzLm1lbnUsCiAgICAgICAgICByZWxhdGVkVGFyZ2V0OiBudWxsLAogICAgICAgICAgY29tcG9uZW50SWQ6IHRoaXMuc2FmZUlkID8gdGhpcy5zYWZlSWQoKSA6IHRoaXMuaWQgfHwgbnVsbAogICAgICAgIH0pOwogICAgICAgIHRoaXMuZW1pdEV2ZW50KGJ2RXZlbnQpOwoKICAgICAgICBpZiAoYnZFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7CiAgICAgICAgICAvLyBSZXNldCB2YWx1ZSBhbmQgZXhpdCBpZiBjYW5jZWxlZAogICAgICAgICAgdGhpcy52aXNpYmxlQ2hhbmdlUHJldmVudGVkID0gdHJ1ZTsKICAgICAgICAgIHRoaXMudmlzaWJsZSA9IG9sZFZhbHVlOyAvLyBKdXN0IGluIGNhc2UgYSBjaGlsZCBlbGVtZW50IHRyaWdnZXJlZCBgdGhpcy5oaWRlKHRydWUpYAoKICAgICAgICAgIHRoaXMuJG9mZihFVkVOVF9OQU1FX0hJRERFTiwgdGhpcy5mb2N1c1RvZ2dsZXIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKG5ld1ZhbHVlKSB7CiAgICAgICAgICB0aGlzLnNob3dNZW51KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaGlkZU1lbnUoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBkaXNhYmxlZDogZnVuY3Rpb24gZGlzYWJsZWQobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUgJiYgbmV3VmFsdWUgJiYgdGhpcy52aXNpYmxlKSB7CiAgICAgICAgLy8gSGlkZSBkcm9wZG93biBpZiBkaXNhYmxlZCBjaGFuZ2VzIHRvIHRydWUKICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIENyZWF0ZSBwcml2YXRlIG5vbi1yZWFjdGl2ZSBwcm9wcwogICAgdGhpcy4kX3BvcHBlciA9IG51bGw7CiAgICB0aGlzLiRfaGlkZVRpbWVvdXQgPSBudWxsOwogIH0sCgogIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgZGVhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGRlYWN0aXZhdGVkKCkgewogICAgLy8gSW4gY2FzZSB3ZSBhcmUgaW5zaWRlIGEgYDxrZWVwLWFsaXZlPmAKICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgdGhpcy53aGlsZU9wZW5MaXN0ZW4oZmFsc2UpOwogICAgdGhpcy5kZXN0cm95UG9wcGVyKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICB0aGlzLndoaWxlT3Blbkxpc3RlbihmYWxzZSk7CiAgICB0aGlzLmRlc3Ryb3lQb3BwZXIoKTsKICAgIHRoaXMuY2xlYXJIaWRlVGltZW91dCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8gRXZlbnQgZW1pdHRlcgogICAgZW1pdEV2ZW50OiBmdW5jdGlvbiBlbWl0RXZlbnQoYnZFdmVudCkgewogICAgICB2YXIgdHlwZSA9IGJ2RXZlbnQudHlwZTsKICAgICAgdGhpcy5lbWl0T25Sb290KGdldFJvb3RFdmVudE5hbWUoTkFNRV9EUk9QRE9XTiwgdHlwZSksIGJ2RXZlbnQpOwogICAgICB0aGlzLiRlbWl0KHR5cGUsIGJ2RXZlbnQpOwogICAgfSwKICAgIHNob3dNZW51OiBmdW5jdGlvbiBzaG93TWVudSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7CiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gT25seSBpbnN0YW50aWF0ZSBQb3BwZXIuanMgd2hlbiBkcm9wZG93biBpcyBub3QgaW4gYDxiLW5hdmJhcj5gCgoKICAgICAgaWYgKCF0aGlzLmluTmF2YmFyKSB7CiAgICAgICAgaWYgKHR5cGVvZiBQb3BwZXIgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICAgICAgd2FybignUG9wcGVyLmpzIG5vdCBmb3VuZC4gRmFsbGluZyBiYWNrIHRvIENTUyBwb3NpdGlvbmluZycsIE5BTUVfRFJPUERPV04pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBGb3IgZHJvcHVwIHdpdGggYWxpZ25tZW50IHdlIHVzZSB0aGUgcGFyZW50IGVsZW1lbnQgYXMgcG9wcGVyIGNvbnRhaW5lcgogICAgICAgICAgdmFyIGVsID0gdGhpcy5kcm9wdXAgJiYgdGhpcy5yaWdodCB8fCB0aGlzLnNwbGl0ID8gdGhpcy4kZWwgOiB0aGlzLiRyZWZzLnRvZ2dsZTsgLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSByZWZlcmVuY2UgdG8gYW4gZWxlbWVudCwgbm90IGEgY29tcG9uZW50IQoKICAgICAgICAgIGVsID0gZWwuJGVsIHx8IGVsOyAvLyBJbnN0YW50aWF0ZSBQb3BwZXIuanMKCiAgICAgICAgICB0aGlzLmNyZWF0ZVBvcHBlcihlbCk7CiAgICAgICAgfQogICAgICB9IC8vIEVuc3VyZSBvdGhlciBtZW51cyBhcmUgY2xvc2VkCgoKICAgICAgdGhpcy5lbWl0T25Sb290KFJPT1RfRVZFTlRfTkFNRV9TSE9XTiwgdGhpcyk7IC8vIEVuYWJsZSBsaXN0ZW5lcnMKCiAgICAgIHRoaXMud2hpbGVPcGVuTGlzdGVuKHRydWUpOyAvLyBXcmFwIGluIGAkbmV4dFRpY2soKWAgdG8gZW5zdXJlIG1lbnUgaXMgZnVsbHkgcmVuZGVyZWQvc2hvd24KCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBGb2N1cyBvbiB0aGUgbWVudSBjb250YWluZXIgb24gc2hvdwogICAgICAgIF90aGlzLmZvY3VzTWVudSgpOyAvLyBFbWl0IHRoZSBzaG93biBldmVudAoKCiAgICAgICAgX3RoaXMuJGVtaXQoRVZFTlRfTkFNRV9TSE9XTik7CiAgICAgIH0pOwogICAgfSwKICAgIGhpZGVNZW51OiBmdW5jdGlvbiBoaWRlTWVudSgpIHsKICAgICAgdGhpcy53aGlsZU9wZW5MaXN0ZW4oZmFsc2UpOwogICAgICB0aGlzLmVtaXRPblJvb3QoUk9PVF9FVkVOVF9OQU1FX0hJRERFTiwgdGhpcyk7CiAgICAgIHRoaXMuJGVtaXQoRVZFTlRfTkFNRV9ISURERU4pOwogICAgICB0aGlzLmRlc3Ryb3lQb3BwZXIoKTsKICAgIH0sCiAgICBjcmVhdGVQb3BwZXI6IGZ1bmN0aW9uIGNyZWF0ZVBvcHBlcihlbGVtZW50KSB7CiAgICAgIHRoaXMuZGVzdHJveVBvcHBlcigpOwogICAgICB0aGlzLiRfcG9wcGVyID0gbmV3IFBvcHBlcihlbGVtZW50LCB0aGlzLiRyZWZzLm1lbnUsIHRoaXMuZ2V0UG9wcGVyQ29uZmlnKCkpOwogICAgfSwKICAgIC8vIEVuc3VyZSBwb3BwZXIgZXZlbnQgbGlzdGVuZXJzIGFyZSByZW1vdmVkIGNsZWFubHkKICAgIGRlc3Ryb3lQb3BwZXI6IGZ1bmN0aW9uIGRlc3Ryb3lQb3BwZXIoKSB7CiAgICAgIHRoaXMuJF9wb3BwZXIgJiYgdGhpcy4kX3BvcHBlci5kZXN0cm95KCk7CiAgICAgIHRoaXMuJF9wb3BwZXIgPSBudWxsOwogICAgfSwKICAgIC8vIEluc3RydWN0cyBwb3BwZXIgdG8gcmUtY29tcHV0ZXMgdGhlIGRyb3Bkb3duIHBvc2l0aW9uCiAgICAvLyB1c2VmdWwgaWYgdGhlIGNvbnRlbnQgY2hhbmdlcyBzaXplCiAgICB1cGRhdGVQb3BwZXI6IGZ1bmN0aW9uIHVwZGF0ZVBvcHBlcigpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLiRfcG9wcGVyLnNjaGVkdWxlVXBkYXRlKCk7CiAgICAgIH0gY2F0Y2ggKF91bnVzZWQpIHt9CiAgICB9LAogICAgY2xlYXJIaWRlVGltZW91dDogZnVuY3Rpb24gY2xlYXJIaWRlVGltZW91dCgpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuJF9oaWRlVGltZW91dCk7CiAgICAgIHRoaXMuJF9oaWRlVGltZW91dCA9IG51bGw7CiAgICB9LAogICAgZ2V0UG9wcGVyQ29uZmlnOiBmdW5jdGlvbiBnZXRQb3BwZXJDb25maWcoKSB7CiAgICAgIHZhciBwbGFjZW1lbnQgPSBQTEFDRU1FTlRfQk9UVE9NX1NUQVJUOwoKICAgICAgaWYgKHRoaXMuZHJvcHVwKSB7CiAgICAgICAgcGxhY2VtZW50ID0gdGhpcy5yaWdodCA/IFBMQUNFTUVOVF9UT1BfRU5EIDogUExBQ0VNRU5UX1RPUF9TVEFSVDsKICAgICAgfSBlbHNlIGlmICh0aGlzLmRyb3ByaWdodCkgewogICAgICAgIHBsYWNlbWVudCA9IFBMQUNFTUVOVF9SSUdIVF9TVEFSVDsKICAgICAgfSBlbHNlIGlmICh0aGlzLmRyb3BsZWZ0KSB7CiAgICAgICAgcGxhY2VtZW50ID0gUExBQ0VNRU5UX0xFRlRfU1RBUlQ7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5yaWdodCkgewogICAgICAgIHBsYWNlbWVudCA9IFBMQUNFTUVOVF9CT1RUT01fRU5EOwogICAgICB9CgogICAgICB2YXIgcG9wcGVyQ29uZmlnID0gewogICAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50LAogICAgICAgIG1vZGlmaWVyczogewogICAgICAgICAgb2Zmc2V0OiB7CiAgICAgICAgICAgIG9mZnNldDogdGhpcy5vZmZzZXQgfHwgMAogICAgICAgICAgfSwKICAgICAgICAgIGZsaXA6IHsKICAgICAgICAgICAgZW5hYmxlZDogIXRoaXMubm9GbGlwCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgICB2YXIgYm91bmRhcmllc0VsZW1lbnQgPSB0aGlzLmJvdW5kYXJ5OwoKICAgICAgaWYgKGJvdW5kYXJpZXNFbGVtZW50KSB7CiAgICAgICAgcG9wcGVyQ29uZmlnLm1vZGlmaWVycy5wcmV2ZW50T3ZlcmZsb3cgPSB7CiAgICAgICAgICBib3VuZGFyaWVzRWxlbWVudDogYm91bmRhcmllc0VsZW1lbnQKICAgICAgICB9OwogICAgICB9CgogICAgICByZXR1cm4gbWVyZ2VEZWVwKHBvcHBlckNvbmZpZywgdGhpcy5wb3BwZXJPcHRzIHx8IHt9KTsKICAgIH0sCiAgICAvLyBUdXJuIGxpc3RlbmVycyBvbi9vZmYgd2hpbGUgb3BlbgogICAgd2hpbGVPcGVuTGlzdGVuOiBmdW5jdGlvbiB3aGlsZU9wZW5MaXN0ZW4oaXNPcGVuKSB7CiAgICAgIC8vIEhpZGUgdGhlIGRyb3Bkb3duIHdoZW4gY2xpY2tlZCBvdXRzaWRlCiAgICAgIHRoaXMubGlzdGVuRm9yQ2xpY2tPdXQgPSBpc09wZW47IC8vIEhpZGUgdGhlIGRyb3Bkb3duIHdoZW4gaXQgbG9zZXMgZm9jdXMKCiAgICAgIHRoaXMubGlzdGVuRm9yRm9jdXNJbiA9IGlzT3BlbjsgLy8gSGlkZSB0aGUgZHJvcGRvd24gd2hlbiBhbm90aGVyIGRyb3Bkb3duIGlzIG9wZW5lZAoKICAgICAgdmFyIG1ldGhvZCA9IGlzT3BlbiA/ICckb24nIDogJyRvZmYnOwogICAgICB0aGlzLiRyb290W21ldGhvZF0oUk9PVF9FVkVOVF9OQU1FX1NIT1dOLCB0aGlzLnJvb3RDbG9zZUxpc3RlbmVyKTsKICAgIH0sCiAgICByb290Q2xvc2VMaXN0ZW5lcjogZnVuY3Rpb24gcm9vdENsb3NlTGlzdGVuZXIodm0pIHsKICAgICAgaWYgKHZtICE9PSB0aGlzKSB7CiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvLyBQdWJsaWMgbWV0aG9kIHRvIHNob3cgZHJvcGRvd24KICAgIHNob3c6IGZ1bmN0aW9uIHNob3coKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gV3JhcCBpbiBhIGByZXF1ZXN0QUYoKWAgdG8gYWxsb3cgYW55IHByZXZpb3VzCiAgICAgIC8vIGNsaWNrIGhhbmRsaW5nIHRvIG9jY3VyIGZpcnN0CgoKICAgICAgcmVxdWVzdEFGKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIudmlzaWJsZSA9IHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIFB1YmxpYyBtZXRob2QgdG8gaGlkZSBkcm9wZG93bgogICAgaGlkZTogZnVuY3Rpb24gaGlkZSgpIHsKICAgICAgdmFyIHJlZm9jdXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlOwogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwoKICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwoKICAgICAgaWYgKHJlZm9jdXMpIHsKICAgICAgICAvLyBDaGlsZCBlbGVtZW50IGlzIGNsb3NpbmcgdGhlIGRyb3Bkb3duIG9uIGNsaWNrCiAgICAgICAgdGhpcy4kb25jZShFVkVOVF9OQU1FX0hJRERFTiwgdGhpcy5mb2N1c1RvZ2dsZXIpOwogICAgICB9CiAgICB9LAogICAgLy8gQ2FsbGVkIG9ubHkgYnkgYSBidXR0b24gdGhhdCB0b2dnbGVzIHRoZSBtZW51CiAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZShldmVudCkgewogICAgICBldmVudCA9IGV2ZW50IHx8IHt9OyAvLyBFYXJseSBleGl0IHdoZW4gbm90IGEgY2xpY2sgZXZlbnQgb3IgRU5URVIsIFNQQUNFIG9yIERPV04gd2VyZSBwcmVzc2VkCgogICAgICB2YXIgX2V2ZW50ID0gZXZlbnQsCiAgICAgICAgICB0eXBlID0gX2V2ZW50LnR5cGUsCiAgICAgICAgICBrZXlDb2RlID0gX2V2ZW50LmtleUNvZGU7CgogICAgICBpZiAodHlwZSAhPT0gJ2NsaWNrJyAmJiAhKHR5cGUgPT09ICdrZXlkb3duJyAmJiBbQ09ERV9FTlRFUiwgQ09ERV9TUEFDRSwgQ09ERV9ET1dOXS5pbmRleE9mKGtleUNvZGUpICE9PSAtMSkpIHsKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwoKCiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7CiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiRlbWl0KEVWRU5UX05BTUVfVE9HR0xFLCBldmVudCk7CiAgICAgIHN0b3BFdmVudChldmVudCk7IC8vIFRvZ2dsZSB2aXNpYmlsaXR5CgogICAgICBpZiAodGhpcy52aXNpYmxlKSB7CiAgICAgICAgdGhpcy5oaWRlKHRydWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvdygpOwogICAgICB9CiAgICB9LAogICAgLy8gTW91c2Vkb3duIGhhbmRsZXIgZm9yIHRoZSB0b2dnbGUKCiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgb25Nb3VzZWRvd246IGZ1bmN0aW9uIG9uTW91c2Vkb3duKGV2ZW50KSB7CiAgICAgIC8vIFdlIHByZXZlbnQgdGhlICdtb3VzZWRvd24nIGV2ZW50IGZvciB0aGUgdG9nZ2xlIHRvIHN0b3AgdGhlCiAgICAgIC8vICdmb2N1c2luJyBldmVudCBmcm9tIGJlaW5nIGZpcmVkCiAgICAgIC8vIFRoZSBldmVudCB3b3VsZCBvdGhlcndpc2UgYmUgcGlja2VkIHVwIGJ5IHRoZSBnbG9iYWwgJ2ZvY3VzaW4nCiAgICAgIC8vIGxpc3RlbmVyIGFuZCB0aGVyZSBpcyBubyBjcm9zcy1icm93c2VyIHNvbHV0aW9uIHRvIGRldGVjdCBpdAogICAgICAvLyByZWxhdGVzIHRvIHRoZSB0b2dnbGUgY2xpY2sKICAgICAgLy8gVGhlICdjbGljaycgZXZlbnQgd2lsbCBzdGlsbCBiZSBmaXJlZCBhbmQgd2UgaGFuZGxlIGNsb3NpbmcKICAgICAgLy8gb3RoZXIgZHJvcGRvd25zIHRoZXJlIHRvbwogICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2Jvb3RzdHJhcC12dWUvYm9vdHN0cmFwLXZ1ZS9pc3N1ZXMvNDMyOAogICAgICBzdG9wRXZlbnQoZXZlbnQsIHsKICAgICAgICBwcm9wYWdhdGlvbjogZmFsc2UKICAgICAgfSk7CiAgICB9LAogICAgLy8gQ2FsbGVkIGZyb20gZHJvcGRvd24gbWVudSBjb250ZXh0CiAgICBvbktleWRvd246IGZ1bmN0aW9uIG9uS2V5ZG93bihldmVudCkgewogICAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7CgogICAgICBpZiAoa2V5Q29kZSA9PT0gQ09ERV9FU0MpIHsKICAgICAgICAvLyBDbG9zZSBvbiBFU0MKICAgICAgICB0aGlzLm9uRXNjKGV2ZW50KTsKICAgICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSBDT0RFX0RPV04pIHsKICAgICAgICAvLyBEb3duIEFycm93CiAgICAgICAgdGhpcy5mb2N1c05leHQoZXZlbnQsIGZhbHNlKTsKICAgICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSBDT0RFX1VQKSB7CiAgICAgICAgLy8gVXAgQXJyb3cKICAgICAgICB0aGlzLmZvY3VzTmV4dChldmVudCwgdHJ1ZSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBJZiB1c2VyIHByZXNzZXMgRVNDLCBjbG9zZSB0aGUgbWVudQogICAgb25Fc2M6IGZ1bmN0aW9uIG9uRXNjKGV2ZW50KSB7CiAgICAgIGlmICh0aGlzLnZpc2libGUpIHsKICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTsKICAgICAgICBzdG9wRXZlbnQoZXZlbnQpOyAvLyBSZXR1cm4gZm9jdXMgdG8gb3JpZ2luYWwgdHJpZ2dlciBidXR0b24KCiAgICAgICAgdGhpcy4kb25jZShFVkVOVF9OQU1FX0hJRERFTiwgdGhpcy5mb2N1c1RvZ2dsZXIpOwogICAgICB9CiAgICB9LAogICAgLy8gQ2FsbGVkIG9ubHkgaW4gc3BsaXQgYnV0dG9uIG1vZGUsIGZvciB0aGUgc3BsaXQgYnV0dG9uCiAgICBvblNwbGl0Q2xpY2s6IGZ1bmN0aW9uIG9uU3BsaXRDbGljayhldmVudCkgewogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICBpZiAodGhpcy5kaXNhYmxlZCkgewogICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy4kZW1pdChFVkVOVF9OQU1FX0NMSUNLLCBldmVudCk7CiAgICB9LAogICAgLy8gU2hhcmVkIGhpZGUgaGFuZGxlciBiZXR3ZWVuIGNsaWNrLW91dCBhbmQgZm9jdXMtaW4gZXZlbnRzCiAgICBoaWRlSGFuZGxlcjogZnVuY3Rpb24gaGlkZUhhbmRsZXIoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwoKICAgICAgaWYgKHRoaXMudmlzaWJsZSAmJiAhY29udGFpbnModGhpcy4kcmVmcy5tZW51LCB0YXJnZXQpICYmICFjb250YWlucyh0aGlzLnRvZ2dsZXIsIHRhcmdldCkpIHsKICAgICAgICB0aGlzLmNsZWFySGlkZVRpbWVvdXQoKTsKICAgICAgICB0aGlzLiRfaGlkZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczMuaGlkZSgpOwogICAgICAgIH0sIHRoaXMuaW5OYXZiYXIgPyAzMDAgOiAwKTsKICAgICAgfQogICAgfSwKICAgIC8vIERvY3VtZW50IGNsaWNrLW91dCBsaXN0ZW5lcgogICAgY2xpY2tPdXRIYW5kbGVyOiBmdW5jdGlvbiBjbGlja091dEhhbmRsZXIoZXZlbnQpIHsKICAgICAgdGhpcy5oaWRlSGFuZGxlcihldmVudCk7CiAgICB9LAogICAgLy8gRG9jdW1lbnQgZm9jdXMtaW4gbGlzdGVuZXIKICAgIGZvY3VzSW5IYW5kbGVyOiBmdW5jdGlvbiBmb2N1c0luSGFuZGxlcihldmVudCkgewogICAgICB0aGlzLmhpZGVIYW5kbGVyKGV2ZW50KTsKICAgIH0sCiAgICAvLyBLZXlib2FyZCBuYXYKICAgIGZvY3VzTmV4dDogZnVuY3Rpb24gZm9jdXNOZXh0KGV2ZW50LCB1cCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsgLy8gSWdub3JlIGtleSB1cC9kb3duIG9uIGZvcm0gZWxlbWVudHMKCgogICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwoKICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgZXZlbnQgJiYgY2xvc2VzdChTRUxFQ1RPUl9GT1JNX0NISUxELCB0YXJnZXQpKSB7CiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHNob3VsZCBuZXZlciBoYXBwZW4gKi8KICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHN0b3BFdmVudChldmVudCk7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgaXRlbXMgPSBfdGhpczQuZ2V0SXRlbXMoKTsKCiAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA8IDEpIHsKICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBzaG91bGQgbmV2ZXIgaGFwcGVuICovCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgaW5kZXggPSBpdGVtcy5pbmRleE9mKHRhcmdldCk7CgogICAgICAgIGlmICh1cCAmJiBpbmRleCA+IDApIHsKICAgICAgICAgIGluZGV4LS07CiAgICAgICAgfSBlbHNlIGlmICghdXAgJiYgaW5kZXggPCBpdGVtcy5sZW5ndGggLSAxKSB7CiAgICAgICAgICBpbmRleCsrOwogICAgICAgIH0KCiAgICAgICAgaWYgKGluZGV4IDwgMCkgewogICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHNob3VsZCBuZXZlciBoYXBwZW4gKi8KICAgICAgICAgIGluZGV4ID0gMDsKICAgICAgICB9CgogICAgICAgIF90aGlzNC5mb2N1c0l0ZW0oaW5kZXgsIGl0ZW1zKTsKICAgICAgfSk7CiAgICB9LAogICAgZm9jdXNJdGVtOiBmdW5jdGlvbiBmb2N1c0l0ZW0oaW5kZXgsIGl0ZW1zKSB7CiAgICAgIHZhciBlbCA9IGl0ZW1zLmZpbmQoZnVuY3Rpb24gKGVsLCBpKSB7CiAgICAgICAgcmV0dXJuIGkgPT09IGluZGV4OwogICAgICB9KTsKICAgICAgYXR0ZW1wdEZvY3VzKGVsKTsKICAgIH0sCiAgICBnZXRJdGVtczogZnVuY3Rpb24gZ2V0SXRlbXMoKSB7CiAgICAgIC8vIEdldCBhbGwgaXRlbXMKICAgICAgcmV0dXJuIGZpbHRlclZpc2libGVzKHNlbGVjdEFsbChTRUxFQ1RPUl9JVEVNLCB0aGlzLiRyZWZzLm1lbnUpKTsKICAgIH0sCiAgICBmb2N1c01lbnU6IGZ1bmN0aW9uIGZvY3VzTWVudSgpIHsKICAgICAgYXR0ZW1wdEZvY3VzKHRoaXMuJHJlZnMubWVudSk7CiAgICB9LAogICAgZm9jdXNUb2dnbGVyOiBmdW5jdGlvbiBmb2N1c1RvZ2dsZXIoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIGF0dGVtcHRGb2N1cyhfdGhpczUudG9nZ2xlcik7CiAgICAgIH0pOwogICAgfQogIH0KfSk7"},null]}