{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/user/invoice.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/user/invoice.vue","mtime":1619374606221},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL21lZGlhL2VybnN0LzYzYmNlNDNjLTVlNTEtNGJmMS1hNjExLTNhZmRmMzJhYzZmNi9WdWVKUy9JUFRWLVRvb2xzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IGh0dHBTZXJ2aWNlIH0gZnJvbSAiLi4vLi4vLi4vc2VydmljZXMvaHR0cCI7CmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAiLi4vLi4vLi4vc2VydmljZXMvZWJ1cyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW52b2ljZU1vZGFsOiBmYWxzZSwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgaW52b2ljZXM6IFtdLAogICAgICBzZWxlY3RlZDogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsiY3VycmVudFVzZXIiXSkpLCB7fSwgewogICAgcmVjaXBpZW50OiBmdW5jdGlvbiByZWNpcGllbnQoKSB7CiAgICAgIHZhciBwcm9maWxlID0gdGhpcy5jdXJyZW50VXNlci5wcm9maWxlID8gdGhpcy5jdXJyZW50VXNlci5wcm9maWxlIDogewogICAgICAgIGZpcnN0X25hbWU6ICIiLAogICAgICAgIGxhc3RfbmFtZTogIiIsCiAgICAgICAgYWRkcmVzczogIiIsCiAgICAgICAgemlwY29kZTogIiIsCiAgICAgICAgY2l0eTogIiIsCiAgICAgICAgY291bnRyeTogIiIsCiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBob25lOiAiIgogICAgICB9OwogICAgICByZXR1cm4gWyIiLmNvbmNhdChwcm9maWxlLm5hbWVfZmlyc3QsICIgIikuY29uY2F0KHByb2ZpbGUubmFtZV9sYXN0KSwgIiIuY29uY2F0KHByb2ZpbGUuYWRkcmVzcywgIiAiKS5jb25jYXQocHJvZmlsZS56aXBjb2RlLCAiICIpLmNvbmNhdChwcm9maWxlLmNpdHksICIsICIpLmNvbmNhdChwcm9maWxlLmNvdW50cnkpXTsKICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICBzaG93TW9kYWw6IGZ1bmN0aW9uIHNob3dNb2RhbCgpIHsKICAgICAgdGhpcy5pbnZvaWNlTW9kYWwgPSB0cnVlOwogICAgfSwKICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7CiAgICAgIHRoaXMuaW52b2ljZU1vZGFsID0gZmFsc2U7CiAgICB9LAogICAgaW52b2ljZUNvbnRleHQ6IGZ1bmN0aW9uIGludm9pY2VDb250ZXh0KGlkKSB7CiAgICAgIHJldHVybiBbewogICAgICAgIHRleHQ6IHRoaXMuJHQoInN1YnNjcmlwdGlvbnMucHJpbnQtaW52b2ljZSIpLAogICAgICAgIGljb246ICJsYS1wcmludCIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnZvaWNlLSIuY29uY2F0KGlkKSkucHJpbnQoKTsKICAgICAgICB9CiAgICAgIH1dOwogICAgfSwKICAgIGxvYWRJbnZvaWNlczogZnVuY3Rpb24gbG9hZEludm9pY2VzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaHR0cFNlcnZpY2UuZ2V0KCJ1c2Vycy9pbnZvaWNlcyIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgX3RoaXMuaW52b2ljZXMgPSByZXMuZGF0YTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMuJG5vdGlmeSgiZXJyb3IiLCBfdGhpcy4kdCgicHJvZmlsZS5mYWlsZWQiKSwgX3RoaXMuJHQoInN1YnNjcmlwdGlvbnMuaW52b2ljZS1lcnJvciIpLCAibGEtdXNlci1zaGllbGQiLCB7CiAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgIHBlcm1hbmVudDogZmFsc2UKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlKSB7CiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyh0aGlzLiR0KCJkYXRlLmxvY2FsZSIpLCB0aGlzLmRhdGVPcHRpb25zKTsKICAgIH0sCiAgICBwYWdlUHJpbnQ6IGZ1bmN0aW9uIHBhZ2VQcmludCgpIHsKICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaW52b2ljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5zZWxlY3RlZC5pbmNsdWRlcyhpKSkgewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImludm9pY2UtIi5jb25jYXQodGhpcy5pbnZvaWNlc1tpXS5pZCkpLnByaW50KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2VhcmNoSW5JdGVtczogZnVuY3Rpb24gc2VhcmNoSW5JdGVtcyhpdGVtcywgc2VhcmNoKSB7CiAgICAgIHZhciBmb3VuZCA9IGZhbHNlOwogICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKHNlYXJjaCwgImkiKTsKICAgICAgaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uZGVzY3JpcHRpb24ubWF0Y2gocmUpKSB7CiAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGZvdW5kOwogICAgfSwKICAgIHNlYXJjaEludm9pY2U6IGZ1bmN0aW9uIHNlYXJjaEludm9pY2Uoc2VhcmNoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHNlYXJjaCA9PT0gdW5kZWZpbmVkIHx8IHNlYXJjaCA9PT0gbnVsbCB8fCBzZWFyY2gubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy5sb2FkSW52b2ljZXMoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBodHRwU2VydmljZS5nZXQoInVzZXJzL2ludm9pY2VzIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczIuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IHRydWUpIHsKICAgICAgICAgICAgX3RoaXMyLmludm9pY2VzID0gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChpbnYpIHsKICAgICAgICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKHNlYXJjaCwgImkiKTsKICAgICAgICAgICAgICB2YXIgZm91bmRJblRpdGxlID0gaW52Lm5vdGUubWF0Y2gocmUpOwoKICAgICAgICAgICAgICB2YXIgZm91bmRJbkl0ZW1zID0gX3RoaXMyLnNlYXJjaEluSXRlbXMoaW52Lml0ZW1zLCBzZWFyY2gpOwoKICAgICAgICAgICAgICByZXR1cm4gZm91bmRJblRpdGxlIHx8IGZvdW5kSW5JdGVtczsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLmludm9pY2VzID0gW107CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgIHRoaXMubG9hZEludm9pY2VzKCk7CiAgICBFdmVudEJ1cy4kb24oInByaW50IiwgdGhpcy5zaG93TW9kYWwpOwogICAgRXZlbnRCdXMuJG9uKCJzZWFyY2giLCB0aGlzLnNlYXJjaEludm9pY2UpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIEV2ZW50QnVzLiRvZmYoInByaW50IiwgdGhpcy5zaG93TW9kYWwpOwogICAgRXZlbnRCdXMuJG9mZigic2VhcmNoIiwgdGhpcy5zZWFyY2hJbnZvaWNlKTsKICB9Cn07"},{"version":3,"sources":["invoice.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <erd-row class=\"erd-report m-0 px-0 py-3\">\n    <erd-modal\n      v-show=\"invoiceModal\"\n      @close=\"closeModal\"\n      :title=\"$t('subscriptions.print-invoices')\"\n      class=\"select-none\"\n    >\n      <p class=\"text-one mx-2\">{{ $t(\"subscriptions.select-invoices\") }}</p>\n      <perfect-scrollbar\n        class=\"modal-list\"\n        :options=\"{ wheelPropagation: false }\"\n      >\n        <erd-checkbox\n          v-for=\"(invoice, index) in invoices\"\n          :key=\"`print-${index}-${invoice.id}`\"\n          v-model=\"selected\"\n          :value=\"index\"\n          ># {{ invoice.id }} ({{\n            formatDate(new Date(invoice.invoice_date))\n          }})</erd-checkbox\n        >\n      </perfect-scrollbar>\n      <template v-slot:footer>\n        <erd-button\n          variant=\"primary\"\n          class=\"mr-1\"\n          icon=\"la-print\"\n          @click=\"pagePrint\"\n          >{{ $t(\"general.ok\") }}</erd-button\n        >\n        <erd-button variant=\"danger\" @click=\"closeModal\">{{\n          $t(\"general.cancel\")\n        }}</erd-button>\n      </template>\n    </erd-modal>\n    <erd-spinner v-if=\"isLoading\" size=\"lg\" overlay absolute></erd-spinner>\n    <erd-col\n      flex\n      center\n      v-if=\"invoices.length === 0\"\n      class=\"text-muted select-none\"\n    >\n      <div class=\"text-center\">\n        <h5 class=\"mb-1\">{{ $t(\"subscriptions.no-invoices\") }}</h5>\n        <i class=\"las la-receipt la-4x d-block\"></i>\n      </div>\n    </erd-col>\n    <erd-col\n      flex\n      center\n      v-for=\"(invoice, index) in invoices\"\n      :key=\"`invoice-${index}-${invoice.id}`\"\n    >\n      <erd-report\n        :id=\"`invoice-${invoice.id}`\"\n        :number=\"invoice.id\"\n        :recipient=\"recipient\"\n        :items=\"invoice.items\"\n        :date=\"new Date(invoice.invoice_date)\"\n        :context-items=\"invoiceContext(invoice.id)\"\n      ></erd-report>\n    </erd-col>\n  </erd-row>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport { httpService } from \"../../../services/http\";\nimport { EventBus } from \"../../../services/ebus\";\n\nexport default {\n  data() {\n    return {\n      invoiceModal: false,\n      isLoading: false,\n      invoices: [],\n      selected: [],\n    };\n  },\n  computed: {\n    ...mapGetters([\"currentUser\"]),\n    recipient() {\n      let profile = this.currentUser.profile\n        ? this.currentUser.profile\n        : {\n            first_name: \"\",\n            last_name: \"\",\n            address: \"\",\n            zipcode: \"\",\n            city: \"\",\n            country: \"\",\n            email: \"\",\n            phone: \"\",\n          };\n      return [\n        `${profile.name_first} ${profile.name_last}`,\n        `${profile.address} ${profile.zipcode} ${profile.city}, ${profile.country}`,\n      ];\n    },\n  },\n  methods: {\n    showModal() {\n      this.invoiceModal = true;\n    },\n    closeModal() {\n      this.invoiceModal = false;\n    },\n    invoiceContext(id) {\n      return [\n        {\n          text: this.$t(\"subscriptions.print-invoice\"),\n          icon: \"la-print\",\n          onClick: function () {\n            document.getElementById(`invoice-${id}`).print();\n          },\n        },\n      ];\n    },\n    loadInvoices() {\n      httpService\n        .get(\"users/invoices\")\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.invoices = res.data;\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"subscriptions.invoice-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    formatDate(date) {\n      return date.toLocaleDateString(this.$t(\"date.locale\"), this.dateOptions);\n    },\n    pagePrint() {\n      this.closeModal();\n      for (var i = 0; i < this.invoices.length; i++) {\n        if (this.selected.includes(i)) {\n          document.getElementById(`invoice-${this.invoices[i].id}`).print();\n        }\n      }\n    },\n    searchInItems(items, search) {\n      let found = false;\n      let re = new RegExp(search, \"i\");\n      items.map((item) => {\n        if (item.description.match(re)) {\n          found = true;\n        }\n      });\n      return found;\n    },\n    searchInvoice(search) {\n      if (search === undefined || search === null || search.length === 0) {\n        this.loadInvoices();\n      } else {\n        httpService\n          .get(\"users/invoices\")\n          .then((res) => {\n            this.isLoading = false;\n            if (res.status === true) {\n              this.invoices = res.data.filter((inv) => {\n                var re = new RegExp(search, \"i\");\n                var foundInTitle = inv.note.match(re);\n                var foundInItems = this.searchInItems(inv.items, search);\n                return foundInTitle || foundInItems;\n              });\n            }\n          })\n          .catch(() => {\n            this.invoices = [];\n          });\n      }\n    },\n  },\n  beforeMount() {\n    this.isLoading = true;\n    this.loadInvoices();\n    EventBus.$on(\"print\", this.showModal);\n    EventBus.$on(\"search\", this.searchInvoice);\n  },\n  beforeDestroy() {\n    EventBus.$off(\"print\", this.showModal);\n    EventBus.$off(\"search\", this.searchInvoice);\n  },\n};\n</script>\n\n<style scoped>\n.modal-list {\n  max-height: 200px;\n}\n</style>\n"],"sourceRoot":"src/views/app/user"}]}