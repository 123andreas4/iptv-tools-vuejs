{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/bootstrap-vue/esm/components/form-rating/form-rating.js","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/bootstrap-vue/esm/components/form-rating/form-rating.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Cgp2YXIgX3dhdGNoOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgppbXBvcnQgeyBWdWUgfSBmcm9tICcuLi8uLi92dWUnOwppbXBvcnQgeyBOQU1FX0ZPUk1fUkFUSU5HLCBOQU1FX0ZPUk1fUkFUSU5HX1NUQVIgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvY29tcG9uZW50cyc7CmltcG9ydCB7IEVWRU5UX05BTUVfQ0hBTkdFLCBFVkVOVF9OQU1FX1NFTEVDVEVEIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL2V2ZW50cyc7CmltcG9ydCB7IFBST1BfVFlQRV9BUlJBWV9TVFJJTkcsIFBST1BfVFlQRV9CT09MRUFOLCBQUk9QX1RZUEVfTlVNQkVSLCBQUk9QX1RZUEVfTlVNQkVSX1NUUklORywgUFJPUF9UWVBFX1NUUklORyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9wcm9wcyc7CmltcG9ydCB7IENPREVfTEVGVCwgQ09ERV9SSUdIVCwgQ09ERV9VUCwgQ09ERV9ET1dOIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL2tleS1jb2Rlcyc7CmltcG9ydCB7IFNMT1RfTkFNRV9JQ09OX0NMRUFSLCBTTE9UX05BTUVfSUNPTl9FTVBUWSwgU0xPVF9OQU1FX0lDT05fRlVMTCwgU0xPVF9OQU1FX0lDT05fSEFMRiB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9zbG90cyc7CmltcG9ydCB7IGFycmF5SW5jbHVkZXMsIGNvbmNhdCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5JzsKaW1wb3J0IHsgYXR0ZW1wdEJsdXIsIGF0dGVtcHRGb2N1cyB9IGZyb20gJy4uLy4uL3V0aWxzL2RvbSc7CmltcG9ydCB7IHN0b3BFdmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2V2ZW50cyc7CmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvaWRlbnRpdHknOwppbXBvcnQgeyBpc051bGwgfSBmcm9tICcuLi8uLi91dGlscy9pbnNwZWN0JzsKaW1wb3J0IHsgaXNMb2NhbGVSVEwgfSBmcm9tICcuLi8uLi91dGlscy9sb2NhbGUnOwppbXBvcnQgeyBtYXRoTWF4LCBtYXRoTWluIH0gZnJvbSAnLi4vLi4vdXRpbHMvbWF0aCc7CmltcG9ydCB7IG1ha2VNb2RlbE1peGluIH0gZnJvbSAnLi4vLi4vdXRpbHMvbW9kZWwnOwppbXBvcnQgeyB0b0ludGVnZXIsIHRvRmxvYXQgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXInOwppbXBvcnQgeyBvbWl0LCBzb3J0S2V5cyB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IG1ha2VQcm9wLCBtYWtlUHJvcHNDb25maWd1cmFibGUgfSBmcm9tICcuLi8uLi91dGlscy9wcm9wcyc7CmltcG9ydCB7IHRvU3RyaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nJzsKaW1wb3J0IHsgZm9ybVNpemVNaXhpbiwgcHJvcHMgYXMgZm9ybVNpemVQcm9wcyB9IGZyb20gJy4uLy4uL21peGlucy9mb3JtLXNpemUnOwppbXBvcnQgeyBpZE1peGluLCBwcm9wcyBhcyBpZFByb3BzIH0gZnJvbSAnLi4vLi4vbWl4aW5zL2lkJzsKaW1wb3J0IHsgbm9ybWFsaXplU2xvdE1peGluIH0gZnJvbSAnLi4vLi4vbWl4aW5zL25vcm1hbGl6ZS1zbG90JzsKaW1wb3J0IHsgcHJvcHMgYXMgZm9ybUNvbnRyb2xQcm9wcyB9IGZyb20gJy4uLy4uL21peGlucy9mb3JtLWNvbnRyb2wnOwppbXBvcnQgeyBCSWNvbiB9IGZyb20gJy4uLy4uL2ljb25zL2ljb24nOwppbXBvcnQgeyBCSWNvblN0YXIsIEJJY29uU3RhckhhbGYsIEJJY29uU3RhckZpbGwsIEJJY29uWCB9IGZyb20gJy4uLy4uL2ljb25zL2ljb25zJzsgLy8gLS0tIENvbnN0YW50cyAtLS0KCnZhciBfbWFrZU1vZGVsTWl4aW4gPSBtYWtlTW9kZWxNaXhpbigndmFsdWUnLCB7CiAgdHlwZTogUFJPUF9UWVBFX05VTUJFUl9TVFJJTkcsCiAgZXZlbnQ6IEVWRU5UX05BTUVfQ0hBTkdFCn0pLAogICAgbW9kZWxNaXhpbiA9IF9tYWtlTW9kZWxNaXhpbi5taXhpbiwKICAgIG1vZGVsUHJvcHMgPSBfbWFrZU1vZGVsTWl4aW4ucHJvcHMsCiAgICBNT0RFTF9QUk9QX05BTUUgPSBfbWFrZU1vZGVsTWl4aW4ucHJvcCwKICAgIE1PREVMX0VWRU5UX05BTUUgPSBfbWFrZU1vZGVsTWl4aW4uZXZlbnQ7Cgp2YXIgTUlOX1NUQVJTID0gMzsKdmFyIERFRkFVTFRfU1RBUlMgPSA1OyAvLyAtLS0gSGVscGVyIG1ldGhvZHMgLS0tCgp2YXIgY29tcHV0ZVN0YXJzID0gZnVuY3Rpb24gY29tcHV0ZVN0YXJzKHN0YXJzKSB7CiAgcmV0dXJuIG1hdGhNYXgoTUlOX1NUQVJTLCB0b0ludGVnZXIoc3RhcnMsIERFRkFVTFRfU1RBUlMpKTsKfTsKCnZhciBjbGFtcFZhbHVlID0gZnVuY3Rpb24gY2xhbXBWYWx1ZSh2YWx1ZSwgbWluLCBtYXgpIHsKICByZXR1cm4gbWF0aE1heChtYXRoTWluKHZhbHVlLCBtYXgpLCBtaW4pOwp9OyAvLyAtLS0gSGVscGVyIGNvbXBvbmVudHMgLS0tCi8vIEB2dWUvY29tcG9uZW50CgoKdmFyIEJWRm9ybVJhdGluZ1N0YXIgPSBWdWUuZXh0ZW5kKHsKICBuYW1lOiBOQU1FX0ZPUk1fUkFUSU5HX1NUQVIsCiAgbWl4aW5zOiBbbm9ybWFsaXplU2xvdE1peGluXSwKICBwcm9wczogewogICAgZGlzYWJsZWQ6IG1ha2VQcm9wKFBST1BfVFlQRV9CT09MRUFOLCBmYWxzZSksCiAgICAvLyBJZiBwYXJlbnQgaXMgZm9jdXNlZAogICAgZm9jdXNlZDogbWFrZVByb3AoUFJPUF9UWVBFX0JPT0xFQU4sIGZhbHNlKSwKICAgIGhhc0NsZWFyOiBtYWtlUHJvcChQUk9QX1RZUEVfQk9PTEVBTiwgZmFsc2UpLAogICAgcmF0aW5nOiBtYWtlUHJvcChQUk9QX1RZUEVfTlVNQkVSLCAwKSwKICAgIHJlYWRvbmx5OiBtYWtlUHJvcChQUk9QX1RZUEVfQk9PTEVBTiwgZmFsc2UpLAogICAgc3RhcjogbWFrZVByb3AoUFJPUF9UWVBFX05VTUJFUiwgMCksCiAgICB2YXJpYW50OiBtYWtlUHJvcChQUk9QX1RZUEVfU1RSSU5HKQogIH0sCiAgbWV0aG9kczogewogICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldmVudCkgewogICAgICBpZiAoIXRoaXMuZGlzYWJsZWQgJiYgIXRoaXMucmVhZG9ubHkpIHsKICAgICAgICBzdG9wRXZlbnQoZXZlbnQsIHsKICAgICAgICAgIHByb3BhZ2F0aW9uOiBmYWxzZQogICAgICAgIH0pOwogICAgICAgIHRoaXMuJGVtaXQoRVZFTlRfTkFNRV9TRUxFQ1RFRCwgdGhpcy5zdGFyKTsKICAgICAgfQogICAgfQogIH0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgdmFyIHJhdGluZyA9IHRoaXMucmF0aW5nLAogICAgICAgIHN0YXIgPSB0aGlzLnN0YXIsCiAgICAgICAgZm9jdXNlZCA9IHRoaXMuZm9jdXNlZCwKICAgICAgICBoYXNDbGVhciA9IHRoaXMuaGFzQ2xlYXIsCiAgICAgICAgdmFyaWFudCA9IHRoaXMudmFyaWFudCwKICAgICAgICBkaXNhYmxlZCA9IHRoaXMuZGlzYWJsZWQsCiAgICAgICAgcmVhZG9ubHkgPSB0aGlzLnJlYWRvbmx5OwogICAgdmFyIG1pblN0YXIgPSBoYXNDbGVhciA/IDAgOiAxOwogICAgdmFyIHR5cGUgPSByYXRpbmcgPj0gc3RhciA/ICdmdWxsJyA6IHJhdGluZyA+PSBzdGFyIC0gMC41ID8gJ2hhbGYnIDogJ2VtcHR5JzsKICAgIHZhciBzbG90U2NvcGUgPSB7CiAgICAgIHZhcmlhbnQ6IHZhcmlhbnQsCiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCwKICAgICAgcmVhZG9ubHk6IHJlYWRvbmx5CiAgICB9OwogICAgcmV0dXJuIGgoJ3NwYW4nLCB7CiAgICAgIHN0YXRpY0NsYXNzOiAnYi1yYXRpbmctc3RhcicsCiAgICAgIGNsYXNzOiB7CiAgICAgICAgLy8gV2hlbiBub3QgaG92ZXJlZCwgd2UgdXNlIHRoaXMgY2xhc3MgdG8gZm9jdXMgdGhlIGN1cnJlbnQgKG9yIGZpcnN0KSBzdGFyCiAgICAgICAgZm9jdXNlZDogZm9jdXNlZCAmJiByYXRpbmcgPT09IHN0YXIgfHwgIXRvSW50ZWdlcihyYXRpbmcpICYmIHN0YXIgPT09IG1pblN0YXIsCiAgICAgICAgLy8gV2UgYWRkIHR5cGUgY2xhc3NlcyB0byB3ZSBjYW4gaGFuZGxlIFJUTCBzdHlsaW5nCiAgICAgICAgJ2ItcmF0aW5nLXN0YXItZW1wdHknOiB0eXBlID09PSAnZW1wdHknLAogICAgICAgICdiLXJhdGluZy1zdGFyLWhhbGYnOiB0eXBlID09PSAnaGFsZicsCiAgICAgICAgJ2ItcmF0aW5nLXN0YXItZnVsbCc6IHR5cGUgPT09ICdmdWxsJwogICAgICB9LAogICAgICBhdHRyczogewogICAgICAgIHRhYmluZGV4OiAhZGlzYWJsZWQgJiYgIXJlYWRvbmx5ID8gJy0xJyA6IG51bGwKICAgICAgfSwKICAgICAgb246IHsKICAgICAgICBjbGljazogdGhpcy5vbkNsaWNrCiAgICAgIH0KICAgIH0sIFtoKCdzcGFuJywgewogICAgICBzdGF0aWNDbGFzczogJ2ItcmF0aW5nLWljb24nCiAgICB9LCBbdGhpcy5ub3JtYWxpemVTbG90KHR5cGUsIHNsb3RTY29wZSldKV0pOwogIH0KfSk7IC8vIC0tLSBQcm9wcyAtLS0KCmV4cG9ydCB2YXIgcHJvcHMgPSBtYWtlUHJvcHNDb25maWd1cmFibGUoc29ydEtleXMoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpZFByb3BzKSwgbW9kZWxQcm9wcyksIG9taXQoZm9ybUNvbnRyb2xQcm9wcywgWydyZXF1aXJlZCcsICdhdXRvZm9jdXMnXSkpLCBmb3JtU2l6ZVByb3BzKSwge30sIHsKICAvLyBDU1MgY29sb3Igc3RyaW5nIChvdmVycmlkZXMgdmFyaWFudCkKICBjb2xvcjogbWFrZVByb3AoUFJPUF9UWVBFX1NUUklORyksCiAgaWNvbkNsZWFyOiBtYWtlUHJvcChQUk9QX1RZUEVfU1RSSU5HLCAneCcpLAogIGljb25FbXB0eTogbWFrZVByb3AoUFJPUF9UWVBFX1NUUklORywgJ3N0YXInKSwKICBpY29uRnVsbDogbWFrZVByb3AoUFJPUF9UWVBFX1NUUklORywgJ3N0YXItZmlsbCcpLAogIGljb25IYWxmOiBtYWtlUHJvcChQUk9QX1RZUEVfU1RSSU5HLCAnc3Rhci1oYWxmJyksCiAgaW5saW5lOiBtYWtlUHJvcChQUk9QX1RZUEVfQk9PTEVBTiwgZmFsc2UpLAogIC8vIExvY2FsZSBmb3IgdGhlIGZvcm1hdHRlZCB2YWx1ZSAoaWYgc2hvd24pCiAgLy8gRGVmYXVsdHMgdG8gdGhlIGJyb3dzZXIgbG9jYWxlLiBGYWxscyBiYWNrIHRvIGBlbmAKICBsb2NhbGU6IG1ha2VQcm9wKFBST1BfVFlQRV9BUlJBWV9TVFJJTkcpLAogIG5vQm9yZGVyOiBtYWtlUHJvcChQUk9QX1RZUEVfQk9PTEVBTiwgZmFsc2UpLAogIHByZWNpc2lvbjogbWFrZVByb3AoUFJPUF9UWVBFX05VTUJFUl9TVFJJTkcpLAogIHJlYWRvbmx5OiBtYWtlUHJvcChQUk9QX1RZUEVfQk9PTEVBTiwgZmFsc2UpLAogIHNob3dDbGVhcjogbWFrZVByb3AoUFJPUF9UWVBFX0JPT0xFQU4sIGZhbHNlKSwKICBzaG93VmFsdWU6IG1ha2VQcm9wKFBST1BfVFlQRV9CT09MRUFOLCBmYWxzZSksCiAgc2hvd1ZhbHVlTWF4OiBtYWtlUHJvcChQUk9QX1RZUEVfQk9PTEVBTiwgZmFsc2UpLAogIHN0YXJzOiBtYWtlUHJvcChQUk9QX1RZUEVfTlVNQkVSX1NUUklORywgREVGQVVMVF9TVEFSUywgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICByZXR1cm4gdG9JbnRlZ2VyKHZhbHVlKSA+PSBNSU5fU1RBUlM7CiAgfSksCiAgdmFyaWFudDogbWFrZVByb3AoUFJPUF9UWVBFX1NUUklORykKfSkpLCBOQU1FX0ZPUk1fUkFUSU5HKTsgLy8gLS0tIE1haW4gY29tcG9uZW50IC0tLQovLyBAdnVlL2NvbXBvbmVudAoKZXhwb3J0IHZhciBCRm9ybVJhdGluZyA9IC8qI19fUFVSRV9fKi9WdWUuZXh0ZW5kKHsKICBuYW1lOiBOQU1FX0ZPUk1fUkFUSU5HLAogIGNvbXBvbmVudHM6IHsKICAgIEJJY29uU3RhcjogQkljb25TdGFyLAogICAgQkljb25TdGFySGFsZjogQkljb25TdGFySGFsZiwKICAgIEJJY29uU3RhckZpbGw6IEJJY29uU3RhckZpbGwsCiAgICBCSWNvblg6IEJJY29uWAogIH0sCiAgbWl4aW5zOiBbaWRNaXhpbiwgbW9kZWxNaXhpbiwgZm9ybVNpemVNaXhpbl0sCiAgcHJvcHM6IHByb3BzLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgdmFsdWUgPSB0b0Zsb2F0KHRoaXNbTU9ERUxfUFJPUF9OQU1FXSwgbnVsbCk7CiAgICB2YXIgc3RhcnMgPSBjb21wdXRlU3RhcnModGhpcy5zdGFycyk7CiAgICByZXR1cm4gewogICAgICBsb2NhbFZhbHVlOiBpc051bGwodmFsdWUpID8gbnVsbCA6IGNsYW1wVmFsdWUodmFsdWUsIDAsIHN0YXJzKSwKICAgICAgaGFzRm9jdXM6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbXB1dGVkU3RhcnM6IGZ1bmN0aW9uIGNvbXB1dGVkU3RhcnMoKSB7CiAgICAgIHJldHVybiBjb21wdXRlU3RhcnModGhpcy5zdGFycyk7CiAgICB9LAogICAgY29tcHV0ZWRSYXRpbmc6IGZ1bmN0aW9uIGNvbXB1dGVkUmF0aW5nKCkgewogICAgICB2YXIgdmFsdWUgPSB0b0Zsb2F0KHRoaXMubG9jYWxWYWx1ZSwgMCk7CiAgICAgIHZhciBwcmVjaXNpb24gPSB0b0ludGVnZXIodGhpcy5wcmVjaXNpb24sIDMpOyAvLyBXZSBjbGFtcCB0aGUgdmFsdWUgYmV0d2VlbiBgMGAgYW5kIHN0YXJzCgogICAgICByZXR1cm4gY2xhbXBWYWx1ZSh0b0Zsb2F0KHZhbHVlLnRvRml4ZWQocHJlY2lzaW9uKSksIDAsIHRoaXMuY29tcHV0ZWRTdGFycyk7CiAgICB9LAogICAgY29tcHV0ZWRMb2NhbGU6IGZ1bmN0aW9uIGNvbXB1dGVkTG9jYWxlKCkgewogICAgICB2YXIgbG9jYWxlcyA9IGNvbmNhdCh0aGlzLmxvY2FsZSkuZmlsdGVyKGlkZW50aXR5KTsKICAgICAgdmFyIG5mID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxvY2FsZXMpOwogICAgICByZXR1cm4gbmYucmVzb2x2ZWRPcHRpb25zKCkubG9jYWxlOwogICAgfSwKICAgIGlzSW50ZXJhY3RpdmU6IGZ1bmN0aW9uIGlzSW50ZXJhY3RpdmUoKSB7CiAgICAgIHJldHVybiAhdGhpcy5kaXNhYmxlZCAmJiAhdGhpcy5yZWFkb25seTsKICAgIH0sCiAgICBpc1JUTDogZnVuY3Rpb24gaXNSVEwoKSB7CiAgICAgIHJldHVybiBpc0xvY2FsZVJUTCh0aGlzLmNvbXB1dGVkTG9jYWxlKTsKICAgIH0sCiAgICBmb3JtYXR0ZWRSYXRpbmc6IGZ1bmN0aW9uIGZvcm1hdHRlZFJhdGluZygpIHsKICAgICAgdmFyIHByZWNpc2lvbiA9IHRvSW50ZWdlcih0aGlzLnByZWNpc2lvbik7CiAgICAgIHZhciBzaG93VmFsdWVNYXggPSB0aGlzLnNob3dWYWx1ZU1heDsKICAgICAgdmFyIGxvY2FsZSA9IHRoaXMuY29tcHV0ZWRMb2NhbGU7CiAgICAgIHZhciBmb3JtYXRPcHRpb25zID0gewogICAgICAgIG5vdGF0aW9uOiAnc3RhbmRhcmQnLAogICAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogaXNOYU4ocHJlY2lzaW9uKSA/IDAgOiBwcmVjaXNpb24sCiAgICAgICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiBpc05hTihwcmVjaXNpb24pID8gMyA6IHByZWNpc2lvbgogICAgICB9OwogICAgICB2YXIgc3RhcnMgPSB0aGlzLmNvbXB1dGVkU3RhcnMudG9Mb2NhbGVTdHJpbmcobG9jYWxlKTsKICAgICAgdmFyIHZhbHVlID0gdGhpcy5sb2NhbFZhbHVlOwogICAgICB2YWx1ZSA9IGlzTnVsbCh2YWx1ZSkgPyBzaG93VmFsdWVNYXggPyAnLScgOiAnJyA6IHZhbHVlLnRvTG9jYWxlU3RyaW5nKGxvY2FsZSwgZm9ybWF0T3B0aW9ucyk7CiAgICAgIHJldHVybiBzaG93VmFsdWVNYXggPyAiIi5jb25jYXQodmFsdWUsICIvIikuY29uY2F0KHN0YXJzKSA6IHZhbHVlOwogICAgfQogIH0sCiAgd2F0Y2g6IChfd2F0Y2ggPSB7fSwgX2RlZmluZVByb3BlcnR5KF93YXRjaCwgTU9ERUxfUFJPUF9OQU1FLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlKSB7CiAgICAgIHZhciB2YWx1ZSA9IHRvRmxvYXQobmV3VmFsdWUsIG51bGwpOwogICAgICB0aGlzLmxvY2FsVmFsdWUgPSBpc051bGwodmFsdWUpID8gbnVsbCA6IGNsYW1wVmFsdWUodmFsdWUsIDAsIHRoaXMuY29tcHV0ZWRTdGFycyk7CiAgICB9CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfd2F0Y2gsICJsb2NhbFZhbHVlIiwgZnVuY3Rpb24gbG9jYWxWYWx1ZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUgJiYgbmV3VmFsdWUgIT09ICh0aGlzLnZhbHVlIHx8IDApKSB7CiAgICAgIHRoaXMuJGVtaXQoTU9ERUxfRVZFTlRfTkFNRSwgbmV3VmFsdWUgfHwgbnVsbCk7CiAgICB9CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfd2F0Y2gsICJkaXNhYmxlZCIsIGZ1bmN0aW9uIGRpc2FibGVkKG5ld1ZhbHVlKSB7CiAgICBpZiAobmV3VmFsdWUpIHsKICAgICAgdGhpcy5oYXNGb2N1cyA9IGZhbHNlOwogICAgICB0aGlzLmJsdXIoKTsKICAgIH0KICB9KSwgX3dhdGNoKSwKICBtZXRob2RzOiB7CiAgICAvLyAtLS0gUHVibGljIG1ldGhvZHMgLS0tCiAgICBmb2N1czogZnVuY3Rpb24gZm9jdXMoKSB7CiAgICAgIGlmICghdGhpcy5kaXNhYmxlZCkgewogICAgICAgIGF0dGVtcHRGb2N1cyh0aGlzLiRlbCk7CiAgICAgIH0KICAgIH0sCiAgICBibHVyOiBmdW5jdGlvbiBibHVyKCkgewogICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHsKICAgICAgICBhdHRlbXB0Qmx1cih0aGlzLiRlbCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyAtLS0gUHJpdmF0ZSBtZXRob2RzIC0tLQogICAgb25LZXlkb3duOiBmdW5jdGlvbiBvbktleWRvd24oZXZlbnQpIHsKICAgICAgdmFyIGtleUNvZGUgPSBldmVudC5rZXlDb2RlOwoKICAgICAgaWYgKHRoaXMuaXNJbnRlcmFjdGl2ZSAmJiBhcnJheUluY2x1ZGVzKFtDT0RFX0xFRlQsIENPREVfRE9XTiwgQ09ERV9SSUdIVCwgQ09ERV9VUF0sIGtleUNvZGUpKSB7CiAgICAgICAgc3RvcEV2ZW50KGV2ZW50LCB7CiAgICAgICAgICBwcm9wYWdhdGlvbjogZmFsc2UKICAgICAgICB9KTsKICAgICAgICB2YXIgdmFsdWUgPSB0b0ludGVnZXIodGhpcy5sb2NhbFZhbHVlLCAwKTsKICAgICAgICB2YXIgbWluID0gdGhpcy5zaG93Q2xlYXIgPyAwIDogMTsKICAgICAgICB2YXIgc3RhcnMgPSB0aGlzLmNvbXB1dGVkU3RhcnM7IC8vIEluIFJUTCBtb2RlLCBMRUZUL1JJR0hUIGFyZSBzd2FwcGVkCgogICAgICAgIHZhciBhbW91bnRSdGwgPSB0aGlzLmlzUlRMID8gLTEgOiAxOwoKICAgICAgICBpZiAoa2V5Q29kZSA9PT0gQ09ERV9MRUZUKSB7CiAgICAgICAgICB0aGlzLmxvY2FsVmFsdWUgPSBjbGFtcFZhbHVlKHZhbHVlIC0gYW1vdW50UnRsLCBtaW4sIHN0YXJzKSB8fCBudWxsOwogICAgICAgIH0gZWxzZSBpZiAoa2V5Q29kZSA9PT0gQ09ERV9SSUdIVCkgewogICAgICAgICAgdGhpcy5sb2NhbFZhbHVlID0gY2xhbXBWYWx1ZSh2YWx1ZSArIGFtb3VudFJ0bCwgbWluLCBzdGFycyk7CiAgICAgICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSBDT0RFX0RPV04pIHsKICAgICAgICAgIHRoaXMubG9jYWxWYWx1ZSA9IGNsYW1wVmFsdWUodmFsdWUgLSAxLCBtaW4sIHN0YXJzKSB8fCBudWxsOwogICAgICAgIH0gZWxzZSBpZiAoa2V5Q29kZSA9PT0gQ09ERV9VUCkgewogICAgICAgICAgdGhpcy5sb2NhbFZhbHVlID0gY2xhbXBWYWx1ZSh2YWx1ZSArIDEsIG1pbiwgc3RhcnMpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG9uU2VsZWN0ZWQ6IGZ1bmN0aW9uIG9uU2VsZWN0ZWQodmFsdWUpIHsKICAgICAgaWYgKHRoaXMuaXNJbnRlcmFjdGl2ZSkgewogICAgICAgIHRoaXMubG9jYWxWYWx1ZSA9IHZhbHVlOwogICAgICB9CiAgICB9LAogICAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cyhldmVudCkgewogICAgICB0aGlzLmhhc0ZvY3VzID0gIXRoaXMuaXNJbnRlcmFjdGl2ZSA/IGZhbHNlIDogZXZlbnQudHlwZSA9PT0gJ2ZvY3VzJzsKICAgIH0sCiAgICAvLyAtLS0gUmVuZGVyIG1ldGhvZHMgLS0tCiAgICByZW5kZXJJY29uOiBmdW5jdGlvbiByZW5kZXJJY29uKGljb24pIHsKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoQkljb24sIHsKICAgICAgICBwcm9wczogewogICAgICAgICAgaWNvbjogaWNvbiwKICAgICAgICAgIHZhcmlhbnQ6IHRoaXMuZGlzYWJsZWQgfHwgdGhpcy5jb2xvciA/IG51bGwgOiB0aGlzLnZhcmlhbnQgfHwgbnVsbAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaWNvbkVtcHR5Rm46IGZ1bmN0aW9uIGljb25FbXB0eUZuKCkgewogICAgICByZXR1cm4gdGhpcy5yZW5kZXJJY29uKHRoaXMuaWNvbkVtcHR5KTsKICAgIH0sCiAgICBpY29uSGFsZkZuOiBmdW5jdGlvbiBpY29uSGFsZkZuKCkgewogICAgICByZXR1cm4gdGhpcy5yZW5kZXJJY29uKHRoaXMuaWNvbkhhbGYpOwogICAgfSwKICAgIGljb25GdWxsRm46IGZ1bmN0aW9uIGljb25GdWxsRm4oKSB7CiAgICAgIHJldHVybiB0aGlzLnJlbmRlckljb24odGhpcy5pY29uRnVsbCk7CiAgICB9LAogICAgaWNvbkNsZWFyRm46IGZ1bmN0aW9uIGljb25DbGVhckZuKCkgewogICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChCSWNvbiwgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBpY29uOiB0aGlzLmljb25DbGVhcgogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBkaXNhYmxlZCA9IHRoaXMuZGlzYWJsZWQsCiAgICAgICAgcmVhZG9ubHkgPSB0aGlzLnJlYWRvbmx5LAogICAgICAgIG5hbWUgPSB0aGlzLm5hbWUsCiAgICAgICAgZm9ybSA9IHRoaXMuZm9ybSwKICAgICAgICBpbmxpbmUgPSB0aGlzLmlubGluZSwKICAgICAgICB2YXJpYW50ID0gdGhpcy52YXJpYW50LAogICAgICAgIGNvbG9yID0gdGhpcy5jb2xvciwKICAgICAgICBub0JvcmRlciA9IHRoaXMubm9Cb3JkZXIsCiAgICAgICAgaGFzRm9jdXMgPSB0aGlzLmhhc0ZvY3VzLAogICAgICAgIGNvbXB1dGVkUmF0aW5nID0gdGhpcy5jb21wdXRlZFJhdGluZywKICAgICAgICBjb21wdXRlZFN0YXJzID0gdGhpcy5jb21wdXRlZFN0YXJzLAogICAgICAgIGZvcm1hdHRlZFJhdGluZyA9IHRoaXMuZm9ybWF0dGVkUmF0aW5nLAogICAgICAgIHNob3dDbGVhciA9IHRoaXMuc2hvd0NsZWFyLAogICAgICAgIGlzUlRMID0gdGhpcy5pc1JUTCwKICAgICAgICBpc0ludGVyYWN0aXZlID0gdGhpcy5pc0ludGVyYWN0aXZlLAogICAgICAgICRzY29wZWRTbG90cyA9IHRoaXMuJHNjb3BlZFNsb3RzOwogICAgdmFyICRjb250ZW50ID0gW107CgogICAgaWYgKHNob3dDbGVhciAmJiAhZGlzYWJsZWQgJiYgIXJlYWRvbmx5KSB7CiAgICAgIHZhciAkaWNvbiA9IGgoJ3NwYW4nLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdiLXJhdGluZy1pY29uJwogICAgICB9LCBbKCRzY29wZWRTbG90c1tTTE9UX05BTUVfSUNPTl9DTEVBUl0gfHwgdGhpcy5pY29uQ2xlYXJGbikoKV0pOwogICAgICAkY29udGVudC5wdXNoKGgoJ3NwYW4nLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdiLXJhdGluZy1zdGFyIGItcmF0aW5nLXN0YXItY2xlYXIgZmxleC1ncm93LTEnLAogICAgICAgIGNsYXNzOiB7CiAgICAgICAgICBmb2N1c2VkOiBoYXNGb2N1cyAmJiBjb21wdXRlZFJhdGluZyA9PT0gMAogICAgICAgIH0sCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIHRhYmluZGV4OiBpc0ludGVyYWN0aXZlID8gJy0xJyA6IG51bGwKICAgICAgICB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5vblNlbGVjdGVkKG51bGwpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAga2V5OiAnY2xlYXInCiAgICAgIH0sIFskaWNvbl0pKTsKICAgIH0KCiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgY29tcHV0ZWRTdGFyczsgaW5kZXgrKykgewogICAgICB2YXIgdmFsdWUgPSBpbmRleCArIDE7CiAgICAgICRjb250ZW50LnB1c2goaChCVkZvcm1SYXRpbmdTdGFyLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdmbGV4LWdyb3ctMScsCiAgICAgICAgc3R5bGU6IGNvbG9yICYmICFkaXNhYmxlZCA/IHsKICAgICAgICAgIGNvbG9yOiBjb2xvcgogICAgICAgIH0gOiB7fSwKICAgICAgICBwcm9wczogewogICAgICAgICAgcmF0aW5nOiBjb21wdXRlZFJhdGluZywKICAgICAgICAgIHN0YXI6IHZhbHVlLAogICAgICAgICAgdmFyaWFudDogZGlzYWJsZWQgPyBudWxsIDogdmFyaWFudCB8fCBudWxsLAogICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLAogICAgICAgICAgcmVhZG9ubHk6IHJlYWRvbmx5LAogICAgICAgICAgZm9jdXNlZDogaGFzRm9jdXMsCiAgICAgICAgICBoYXNDbGVhcjogc2hvd0NsZWFyCiAgICAgICAgfSwKICAgICAgICBvbjogewogICAgICAgICAgc2VsZWN0ZWQ6IHRoaXMub25TZWxlY3RlZAogICAgICAgIH0sCiAgICAgICAgc2NvcGVkU2xvdHM6IHsKICAgICAgICAgIGVtcHR5OiAkc2NvcGVkU2xvdHNbU0xPVF9OQU1FX0lDT05fRU1QVFldIHx8IHRoaXMuaWNvbkVtcHR5Rm4sCiAgICAgICAgICBoYWxmOiAkc2NvcGVkU2xvdHNbU0xPVF9OQU1FX0lDT05fSEFMRl0gfHwgdGhpcy5pY29uSGFsZkZuLAogICAgICAgICAgZnVsbDogJHNjb3BlZFNsb3RzW1NMT1RfTkFNRV9JQ09OX0ZVTExdIHx8IHRoaXMuaWNvbkZ1bGxGbgogICAgICAgIH0sCiAgICAgICAga2V5OiBpbmRleAogICAgICB9KSk7CiAgICB9CgogICAgaWYgKG5hbWUpIHsKICAgICAgJGNvbnRlbnQucHVzaChoKCdpbnB1dCcsIHsKICAgICAgICBhdHRyczogewogICAgICAgICAgdHlwZTogJ2hpZGRlbicsCiAgICAgICAgICB2YWx1ZTogaXNOdWxsKHRoaXMubG9jYWxWYWx1ZSkgPyAnJyA6IGNvbXB1dGVkUmF0aW5nLAogICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgIGZvcm06IGZvcm0gfHwgbnVsbAogICAgICAgIH0sCiAgICAgICAga2V5OiAnaGlkZGVuJwogICAgICB9KSk7CiAgICB9CgogICAgaWYgKHRoaXMuc2hvd1ZhbHVlKSB7CiAgICAgICRjb250ZW50LnB1c2goaCgnYicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ2ItcmF0aW5nLXZhbHVlIGZsZXgtZ3Jvdy0xJywKICAgICAgICBhdHRyczogewogICAgICAgICAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnCiAgICAgICAgfSwKICAgICAgICBrZXk6ICd2YWx1ZScKICAgICAgfSwgdG9TdHJpbmcoZm9ybWF0dGVkUmF0aW5nKSkpOwogICAgfQoKICAgIHJldHVybiBoKCdvdXRwdXQnLCB7CiAgICAgIHN0YXRpY0NsYXNzOiAnYi1yYXRpbmcgZm9ybS1jb250cm9sIGFsaWduLWl0ZW1zLWNlbnRlcicsCiAgICAgIGNsYXNzOiBbewogICAgICAgICdkLWlubGluZS1mbGV4JzogaW5saW5lLAogICAgICAgICdkLWZsZXgnOiAhaW5saW5lLAogICAgICAgICdib3JkZXItMCc6IG5vQm9yZGVyLAogICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCwKICAgICAgICByZWFkb25seTogIWRpc2FibGVkICYmIHJlYWRvbmx5CiAgICAgIH0sIHRoaXMuc2l6ZUZvcm1DbGFzc10sCiAgICAgIGF0dHJzOiB7CiAgICAgICAgaWQ6IHRoaXMuc2FmZUlkKCksCiAgICAgICAgZGlyOiBpc1JUTCA/ICdydGwnIDogJ2x0cicsCiAgICAgICAgdGFiaW5kZXg6IGRpc2FibGVkID8gbnVsbCA6ICcwJywKICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsCiAgICAgICAgcm9sZTogJ3NsaWRlcicsCiAgICAgICAgJ2FyaWEtZGlzYWJsZWQnOiBkaXNhYmxlZCA/ICd0cnVlJyA6IG51bGwsCiAgICAgICAgJ2FyaWEtcmVhZG9ubHknOiAhZGlzYWJsZWQgJiYgcmVhZG9ubHkgPyAndHJ1ZScgOiBudWxsLAogICAgICAgICdhcmlhLWxpdmUnOiAnb2ZmJywKICAgICAgICAnYXJpYS12YWx1ZW1pbic6IHNob3dDbGVhciA/ICcwJyA6ICcxJywKICAgICAgICAnYXJpYS12YWx1ZW1heCc6IHRvU3RyaW5nKGNvbXB1dGVkU3RhcnMpLAogICAgICAgICdhcmlhLXZhbHVlbm93JzogY29tcHV0ZWRSYXRpbmcgPyB0b1N0cmluZyhjb21wdXRlZFJhdGluZykgOiBudWxsCiAgICAgIH0sCiAgICAgIG9uOiB7CiAgICAgICAga2V5ZG93bjogdGhpcy5vbktleWRvd24sCiAgICAgICAgZm9jdXM6IHRoaXMub25Gb2N1cywKICAgICAgICBibHVyOiB0aGlzLm9uRm9jdXMKICAgICAgfQogICAgfSwgJGNvbnRlbnQpOwogIH0KfSk7"},null]}