{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/eslint-loader/index.js??ref--13-0!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/plugins/m3u.js","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/plugins/m3u.js","mtime":1626367327677},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCBKU1ppcCBmcm9tICJqc3ppcCI7CmV4cG9ydCB2YXIgbTN1ID0gewogIGdldEF0dHJpYnV0ZTogZnVuY3Rpb24gZ2V0QXR0cmlidXRlKGxpbmUsIGF0dHJpYnV0ZSkgewogICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChhdHRyaWJ1dGUgKyAnPSIoLio/KSInLCAiZ2kiKTsKICAgIHZhciBtYXRjaCA9IHJlZ2V4LmV4ZWMobGluZSk7CiAgICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbMV0gPyBtYXRjaFsxXSA6ICIiOwogIH0sCiAgZ2V0UGxheWxpc3RUaXRsZTogZnVuY3Rpb24gZ2V0UGxheWxpc3RUaXRsZShsaW5lKSB7CiAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKC9eI1BMQVlMSVNUOiguKikvLCAiZ2kiKTsKICAgIHZhciBtYXRjaCA9IHJlZ2V4LmV4ZWMobGluZSk7CiAgICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbMV0gPyBtYXRjaFsxXSA6ICIiOwogIH0sCiAgZ2V0TmFtZTogZnVuY3Rpb24gZ2V0TmFtZShsaW5lKSB7CiAgICByZXR1cm4gbGluZS5zbGljZShsaW5lLmxhc3RJbmRleE9mKCIsIikgKyAxKTsKICB9LAogIGdldEV4dEdycDogZnVuY3Rpb24gZ2V0RXh0R3JwKGxpbmUpIHsKICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoIiNFWFRHUlA6KC4qKSIsICJnaSIpOwogICAgdmFyIG1hdGNoID0gcmVnZXguZXhlYyhsaW5lKTsKICAgIHJldHVybiBtYXRjaCAmJiBtYXRjaFsxXSA/IG1hdGNoWzFdIDogIiI7CiAgfSwKICBnZXRGaWxlRXh0ZW5zaW9uOiBmdW5jdGlvbiBnZXRGaWxlRXh0ZW5zaW9uKGxpbmUpIHsKICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoLyg/OlwuKFteLl0rKSk/JC8sICJpIik7CiAgICB2YXIgbWF0Y2ggPSByZWdleC5leGVjKGxpbmUpOwogICAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdICYmIG1hdGNoWzFdLmxlbmd0aCA8IDUgPyBtYXRjaFsxXSA6ICIiOwogIH0sCiAgZ2V0U3RyZWFtVHlwZTogZnVuY3Rpb24gZ2V0U3RyZWFtVHlwZShsaW5lKSB7CiAgICBpZiAoLy4qXC9wbGF5XC92b2RcLy9pLnRlc3QobGluZSkpIHsKICAgICAgcmV0dXJuIDI7CiAgICB9CgogICAgaWYgKC8uKlwvbW92aWVcLy9pLnRlc3QobGluZSkpIHsKICAgICAgcmV0dXJuIDI7CiAgICB9CgogICAgaWYgKC8uKlwvc2VyaWVzXC8vaS50ZXN0KGxpbmUpKSB7CiAgICAgIHJldHVybiAzOwogICAgfQoKICAgIHJldHVybiAxOwogIH0sCiAgZ2V0WWVhcjogZnVuY3Rpb24gZ2V0WWVhcihuYW1lKSB7CiAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKC8oMTlcZHsyfXwyMCg/OjBcZHwxWzAtOV18MlswLTldKSkvLCAiaSIpOwogICAgdmFyIG1hdGNoID0gcmVnZXguZXhlYyhuYW1lKTsKICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIDogIiI7CiAgfSwKICBjbGVhbk5hbWU6IGZ1bmN0aW9uIGNsZWFuTmFtZShuYW1lKSB7CiAgICBpZiAobmFtZVtuYW1lLmxlbmd0aCAtIDFdID09ICItIikgewogICAgICByZXR1cm4gbmFtZS5zbGljZSgwLCAtMSkudHJpbSgpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG5hbWUudHJpbSgpOwogICAgfQogIH0sCiAgZ2V0TW92aWVJbmZvOiBmdW5jdGlvbiBnZXRNb3ZpZUluZm8obmFtZSkgewogICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgvXiguKz8pWy4oIFx0XSooPzooMTlcZHsyfXwyMCg/OjBcZHwxWzAtOV0pKS4qfCg/Oig/PWJsdXJheXxcZCtwfGJycmlwfHdlYnJpcCkuLiopP1suXShta3Z8YXZpfG1wZT9nfG1wNCkkKS8sICJtaSIpOwogICAgdmFyIG1hdGNoID0gcmVnZXguZXhlYyhuYW1lKTsKCiAgICBpZiAoIW1hdGNoKSB7CiAgICAgIHZhciBfcmVnZXggPSBuZXcgUmVnRXhwKC8oLispXFcoXGR7NH0pPy9pKTsKCiAgICAgIG1hdGNoID0gX3JlZ2V4LmV4ZWMobmFtZSk7CiAgICB9CgogICAgcmV0dXJuIG1hdGNoID8gewogICAgICBuYW1lOiB0aGlzLmNsZWFuTmFtZShtYXRjaFsxXSkgfHwgIiIsCiAgICAgIHllYXI6IG1hdGNoWzJdIHx8ICIiCiAgICB9IDogewogICAgICBuYW1lOiBuYW1lLnJlcGxhY2UoLyAqXChbXildKlwpICovZywgIiIpLAogICAgICB5ZWFyOiB0aGlzLmdldFllYXIobmFtZSkKICAgIH07CiAgfSwKICBnZXRTZXJpZXNJbmZvOiBmdW5jdGlvbiBnZXRTZXJpZXNJbmZvKG5hbWUpIHsKICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoL14oLis/KShbLiBdKSg/OigoPzoyMHwxOSlcZFxkKVwyKT9TKFxkKykgPyhFKFxkKykpPygtKEUoXGQrKSkpPy8sICJpIik7CiAgICB2YXIgbWF0Y2ggPSByZWdleC5leGVjKG5hbWUpOwogICAgcmV0dXJuIG1hdGNoID8gewogICAgICBuYW1lOiB0aGlzLmNsZWFuTmFtZShtYXRjaFsxXSksCiAgICAgIHNlYXNvbjogcGFyc2VJbnQobWF0Y2hbNF0pLAogICAgICBlcGlzb2RlOiBwYXJzZUludChtYXRjaFs2XSkKICAgIH0gOiB7CiAgICAgIG5hbWU6IG5hbWUsCiAgICAgIHNlYXNvbjogIiIsCiAgICAgIGVwaXNvZGU6ICIiCiAgICB9OwogIH0sCiAgZ2V0U2FmZUZpbGVuYW1lOiBmdW5jdGlvbiBnZXRTYWZlRmlsZW5hbWUobmFtZSkgewogICAgcmV0dXJuIG5hbWUucmVwbGFjZSgvW1xcLzoqPyI8PnxdL2csICIiKS50cmltKCk7CiAgfSwKICBpc0V4dGluZkxpbmU6IGZ1bmN0aW9uIGlzRXh0aW5mTGluZShsaW5lKSB7CiAgICByZXR1cm4gL14jRVhUSU5GL2kudGVzdChsaW5lKTsKICB9LAogIGlzUGxheWxpc3RMaW5lOiBmdW5jdGlvbiBpc1BsYXlsaXN0TGluZShsaW5lKSB7CiAgICByZXR1cm4gL14jUExBWUxJU1QvaS50ZXN0KGxpbmUpOwogIH0sCiAgaXNHcnBMaW5lOiBmdW5jdGlvbiBpc0dycExpbmUobGluZSkgewogICAgcmV0dXJuIC9eI0VYVEdSUC9pLnRlc3QobGluZSk7CiAgfSwKICBpc1VSTExpbmU6IGZ1bmN0aW9uIGlzVVJMTGluZShsaW5lKSB7CiAgICByZXR1cm4gL1stYS16QS1aMC05QDolLl8rfiM9XXsxLDI1Nn1cLlthLXpBLVowLTkoKV17MSw2fVxiKFstYS16QS1aMC05KClAOiVfKy5+Iz8mLy89XSopPy9naS50ZXN0KGxpbmUpOwogIH0sCiAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGNvbnRlbnQpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHsKICAgICAgdGFnOiAibmFtZSIsCiAgICAgIHR5cGU6IFsiTW92aWUiLCAiU2VyaWVzIiwgIlZPRCIsICJMaXZlIl0sCiAgICAgIG5vTmFtZTogIjxObyBuYW1lPiIKICAgIH07CiAgICB2YXIgc21hbGwgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIGxpbmVzID0gY29udGVudC5zcGxpdCgiXG4iKTsKICAgICAgdmFyIGZpcnN0TGluZSA9IGxpbmVzLnNoaWZ0KCk7IC8vIENoZWNrIGlmIHRoZSBjb250ZW50IGlzIGEgdmFsaWQgbTN1IGZpbGUKCiAgICAgIGlmICghZmlyc3RMaW5lIHx8ICEvXiNFWFRNM1UvaS50ZXN0KGZpcnN0TGluZSkpIHsKICAgICAgICByZWplY3QoIlBsYXlsaXN0IGlzIG5vdCB2YWxpZCEiKTsKICAgICAgfQoKICAgICAgdmFyIHBsYXlsaXN0ID0gewogICAgICAgIHRpdGxlOiAiIiwKICAgICAgICB4VHZnVXJsOiBfdGhpcy5nZXRBdHRyaWJ1dGUoZmlyc3RMaW5lLCAieC10dmctdXJsIiksCiAgICAgICAgZ3JvdXBzOiBbXQogICAgICB9OwogICAgICB2YXIgZ3JvdXBzID0gW107CiAgICAgIHZhciBzdHJlYW1zID0gW107IC8vIENyZWF0ZSBuZXcgc3RyZWFtCgogICAgICB2YXIgc3RyZWFtID0gT2JqZWN0LmNyZWF0ZSh7fSk7IC8vIExvb3AgdGhyb3VnaCBsaW5lcyBhbmQgcGFyc2UgbGluZQoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBsaW5lID0gbGluZXNbaV07IC8vIFBsYXlsaXN0IHRpdGxlCgogICAgICAgIGlmIChfdGhpcy5pc1BsYXlsaXN0TGluZShsaW5lKSkgewogICAgICAgICAgcGxheWxpc3QudGl0bGUgPSBfdGhpcy5nZXRQbGF5bGlzdFRpdGxlKGxpbmUpOwogICAgICAgICAgY29udGludWU7CiAgICAgICAgfSAvLyBHcm91cAoKCiAgICAgICAgaWYgKF90aGlzLmlzR3JwTGluZShsaW5lKSkgewogICAgICAgICAgc3RyZWFtLmdyb3VwID0gX3RoaXMuZ2V0RXh0R3JwKGxpbmUpLnRyaW0oKTsKCiAgICAgICAgICBpZiAoc3RyZWFtLmdyb3VwICE9PSAiIiAmJiBncm91cHMuaW5kZXhPZihzdHJlYW0uZ3JvdXApID09PSAtMSkgewogICAgICAgICAgICBncm91cHMucHVzaChzdHJlYW0uZ3JvdXApOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0gLy8gU3RyZWFtCgoKICAgICAgICBpZiAoX3RoaXMuaXNFeHRpbmZMaW5lKGxpbmUpKSB7CiAgICAgICAgICBzdHJlYW0ubmFtZSA9IF90aGlzLmdldE5hbWUobGluZSkudHJpbSgpOwogICAgICAgICAgc3RyZWFtLnR2Z0lkID0gX3RoaXMuZ2V0QXR0cmlidXRlKGxpbmUsICJ0dmctaWQiKS50cmltKCk7CiAgICAgICAgICBzdHJlYW0udHZnTG9nbyA9IF90aGlzLmdldEF0dHJpYnV0ZShsaW5lLCAidHZnLWxvZ28iKS50cmltKCk7CiAgICAgICAgICBzdHJlYW0uZ3JvdXAgPSAhc3RyZWFtLmdyb3VwID8gX3RoaXMuZ2V0QXR0cmlidXRlKGxpbmUsICJncm91cC10aXRsZSIpLnRyaW0oKSA6IHN0cmVhbS5ncm91cDsKCiAgICAgICAgICBpZiAoc21hbGwgPT0gZmFsc2UpIHsKICAgICAgICAgICAgc3RyZWFtLnR2Z05hbWUgPSBfdGhpcy5nZXRBdHRyaWJ1dGUobGluZSwgInR2Zy1uYW1lIikudHJpbSgpOwogICAgICAgICAgICBzdHJlYW0udHZnU2hpZnQgPSBfdGhpcy5nZXRBdHRyaWJ1dGUobGluZSwgInR2Zy1zaGlmdCIpLnRyaW0oKTsKICAgICAgICAgICAgc3RyZWFtLnR2Z0Nobm8gPSBfdGhpcy5nZXRBdHRyaWJ1dGUobGluZSwgInR2Zy1jaG5vIikudHJpbSgpOwogICAgICAgICAgICBzdHJlYW0uY2hhbm5lbElkID0gX3RoaXMuZ2V0QXR0cmlidXRlKGxpbmUsICJjaGFubmVsLWlkIikudHJpbSgpOwogICAgICAgICAgICBzdHJlYW0ucmFkaW8gPSBfdGhpcy5nZXRBdHRyaWJ1dGUobGluZSwgInJhZGlvIikudG9Mb3dlckNhc2UoKSA9PT0gInRydWUiOwogICAgICAgICAgICBzdHJlYW0ucGFyZW50Q29kZSA9IF90aGlzLmdldEF0dHJpYnV0ZShsaW5lLCAicGFyZW50LWNvZGUiKS50cmltKCk7CiAgICAgICAgICAgIHN0cmVhbS5hdWRpb1RyYWNrID0gX3RoaXMuZ2V0QXR0cmlidXRlKGxpbmUsICJhdWRpby10cmFjayIpLnRyaW0oKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc3RyZWFtLmdyb3VwLnRyaW0oKS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgc3RyZWFtLmdyb3VwID0gIkVNUFRZIjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc3RyZWFtLmdyb3VwICE9PSAiIiAmJiBncm91cHMuaW5kZXhPZihzdHJlYW0uZ3JvdXApID09PSAtMSkgewogICAgICAgICAgICBncm91cHMucHVzaChzdHJlYW0uZ3JvdXApOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0gLy8gVVJMCgoKICAgICAgICBpZiAoX3RoaXMuaXNVUkxMaW5lKGxpbmUpKSB7CiAgICAgICAgICBzdHJlYW0udXJsID0gbGluZS50cmltKCk7CiAgICAgICAgICBzdHJlYW0uc3RyZWFtVHlwZSA9IF90aGlzLmdldFN0cmVhbVR5cGUobGluZSk7CiAgICAgICAgICBzdHJlYW0uZXh0ZW5zaW9uID0gX3RoaXMuZ2V0RmlsZUV4dGVuc2lvbihsaW5lKS50cmltKCk7CgogICAgICAgICAgaWYgKHN0cmVhbS5zdHJlYW1UeXBlID09PSAyKSB7CiAgICAgICAgICAgIHN0cmVhbS5tb3ZpZSA9IF90aGlzLmdldE1vdmllSW5mbyhvcHRpb25zICYmIG9wdGlvbnMudGFnID8gc3RyZWFtW29wdGlvbnMudGFnXSA6IHN0cmVhbS5uYW1lKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc3RyZWFtLnN0cmVhbVR5cGUgPT09IDMpIHsKICAgICAgICAgICAgc3RyZWFtLnNlcmllcyA9IF90aGlzLmdldFNlcmllc0luZm8ob3B0aW9ucyAmJiBvcHRpb25zLnRhZyA/IHN0cmVhbVtvcHRpb25zLnRhZ10gOiBzdHJlYW0ubmFtZSk7CiAgICAgICAgICB9CgogICAgICAgICAgc3RyZWFtcy5wdXNoKE9iamVjdC5hc3NpZ24oe30sIHN0cmVhbSkpOwogICAgICAgICAgc3RyZWFtID0gT2JqZWN0LmNyZWF0ZSh7fSk7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGdyb3Vwcy5tYXAoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgcGxheWxpc3QuZ3JvdXBzLnB1c2goewogICAgICAgICAgbmFtZTogZ3JvdXAsCiAgICAgICAgICBzdHJlYW1zOiBzdHJlYW1zLmZpbHRlcihmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgICAgICAgIHJldHVybiBzdHJlYW0uZ3JvdXAgPT0gZ3JvdXA7CiAgICAgICAgICB9KQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcGxheWxpc3QuZ3JvdXBzLm1hcChmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICBncm91cC50eXBlID0gZ3JvdXAuc3RyZWFtcy5sZW5ndGggPyBncm91cC5zdHJlYW1zWzBdLnN0cmVhbVR5cGUgOiAiTGl2ZSI7CiAgICAgIH0pOwogICAgICByZXNvbHZlKHBsYXlsaXN0KTsKICAgIH0pOwogIH0sCiAgc3RybTogZnVuY3Rpb24gc3RybShwbGF5bGlzdCwgb3B0aW9ucykgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIHZhciB6aXAgPSBuZXcgSlNaaXAoKTsKICAgICAgdmFyIGZvbGRlcjsKICAgICAgdmFyIGZpbGVuYW1lOyAvLyBDcmVhdGUgZm9sZGVycyB3aGVyZSB3ZSB3aWxsIHN0b3JlIHRoZSBzdHJlYW1zCgogICAgICBwbGF5bGlzdC5zdHJlYW1zLm1hcChmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgICAgZm9sZGVyID0gc3RyZWFtLmdyb3VwLmxlbmd0aCA+IDAgPyBfdGhpczIuZ2V0U2FmZUZpbGVuYW1lKHN0cmVhbS5ncm91cCkgOiAiRU1QVFkiOyAvLyBNb3ZpZQoKICAgICAgICBpZiAoc3RyZWFtLnN0cmVhbVR5cGUgPT09IDIgJiYgb3B0aW9ucy5zdHJlYW1UeXBlLmluY2x1ZGVzKCJNb3ZpZSIpICYmIG9wdGlvbnMuZ3JvdXBzLmluY2x1ZGVzKHN0cmVhbS5ncm91cCkpIHsKICAgICAgICAgIHZhciBtb3ZpZU5hbWUgPSBzdHJlYW0ubW92aWUubmFtZS5sZW5ndGggPyBfdGhpczIuZ2V0U2FmZUZpbGVuYW1lKHN0cmVhbS5tb3ZpZS5uYW1lKSA6IF90aGlzMi5nZXRTYWZlRmlsZW5hbWUoc3RyZWFtLm5hbWUpOwogICAgICAgICAgdmFyIG1vdmllWWVhciA9IHN0cmVhbS5tb3ZpZS55ZWFyLmxlbmd0aCA/IF90aGlzMi5nZXRTYWZlRmlsZW5hbWUoc3RyZWFtLm1vdmllLnllYXIpIDogdW5kZWZpbmVkOwoKICAgICAgICAgIHN3aXRjaCAob3B0aW9ucy5mb3JtYXQpIHsKICAgICAgICAgICAgY2FzZSAia29kaSI6CiAgICAgICAgICAgICAgZmlsZW5hbWUgPSBtb3ZpZU5hbWUgJiYgbW92aWVZZWFyID8gIiIuY29uY2F0KG1vdmllTmFtZSwgIiAoIikuY29uY2F0KG1vdmllWWVhciwgIikiKSA6IG1vdmllTmFtZSAmJiAhbW92aWVZZWFyID8gbW92aWVOYW1lIDogX3RoaXMyLmdldFNhZmVGaWxlbmFtZShzdHJlYW0ubmFtZSk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICJvcmlnaW5hbCI6CiAgICAgICAgICAgICAgZmlsZW5hbWUgPSBfdGhpczIuZ2V0U2FmZUZpbGVuYW1lKHN0cmVhbS5uYW1lKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICB6aXAuZmlsZSgiTW92aWVzLyIuY29uY2F0KGZvbGRlciwgIi8iKS5jb25jYXQoZmlsZW5hbWUsICIuc3RybSIpLCBzdHJlYW0udXJsLCB7CiAgICAgICAgICAgIGNyZWF0ZUZvbGRlcnM6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0gLy8gU2VyaWVzCgoKICAgICAgICBpZiAoc3RyZWFtLnN0cmVhbVR5cGUgPT09IDMgJiYgb3B0aW9ucy5zdHJlYW1UeXBlLmluY2x1ZGVzKCJTZXJpZXMiKSAmJiBvcHRpb25zLmdyb3Vwcy5pbmNsdWRlcyhzdHJlYW0uZ3JvdXApKSB7CiAgICAgICAgICB2YXIgc2VyaWVzTmFtZSA9IHN0cmVhbS5zZXJpZXMubmFtZS5sZW5ndGggPyBfdGhpczIuZ2V0U2FmZUZpbGVuYW1lKHN0cmVhbS5zZXJpZXMubmFtZSkgOiBfdGhpczIuZ2V0U2FmZUZpbGVuYW1lKHN0cmVhbS5uYW1lKTsKICAgICAgICAgIHZhciBzZXJpZXNTZWFzb24gPSBzdHJlYW0uc2VyaWVzLnNlYXNvbi5sZW5ndGggPyBfdGhpczIuZ2V0U2FmZUZpbGVuYW1lKHN0cmVhbS5zZXJpZXMuc2Vhc29uKSA6IHVuZGVmaW5lZDsKICAgICAgICAgIHZhciBzZXJpZXNFcGlzb2RlID0gc3RyZWFtLnNlcmllcy5lcGlzb2RlLmxlbmd0aCA/IF90aGlzMi5nZXRTYWZlRmlsZW5hbWUoc3RyZWFtLnNlcmllcy5lcGlzb2RlKSA6IHVuZGVmaW5lZDsKCiAgICAgICAgICBzd2l0Y2ggKG9wdGlvbnMuZm9ybWF0KSB7CiAgICAgICAgICAgIGNhc2UgImtvZGkiOgogICAgICAgICAgICAgIGZpbGVuYW1lID0gc2VyaWVzTmFtZSAmJiBzZXJpZXNTZWFzb24gJiYgc2VyaWVzRXBpc29kZSA/ICIiLmNvbmNhdChzZXJpZXNOYW1lLCAiLyIpLmNvbmNhdChzZXJpZXNOYW1lLCAiIFMiKS5jb25jYXQoc2VyaWVzU2Vhc29uLCAiRSIpLmNvbmNhdChzZXJpZXNFcGlzb2RlKSA6IHNlcmllc05hbWU7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICJvcmlnaW5hbCI6CiAgICAgICAgICAgICAgZmlsZW5hbWUgPSBzZXJpZXNOYW1lOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIHppcC5maWxlKCJTZXJpZXMvIi5jb25jYXQoZm9sZGVyLCAiLyIpLmNvbmNhdChmaWxlbmFtZSwgIi5zdHJtIiksIHN0cmVhbS51cmwsIHsKICAgICAgICAgICAgY3JlYXRlRm9sZGVyczogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmVzb2x2ZSh6aXApOwogICAgfSk7CiAgfQp9Ow=="},null]}