{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/m3u/playlists.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/src/views/app/m3u/playlists.vue","mtime":1625168690796},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvbWVkaWEvZXJuc3QvNjNiY2U0M2MtNWU1MS00YmYxLWE2MTEtM2FmZGYzMmFjNmY2L1Z1ZUpTL0lQVFYtVG9vbHMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL21lZGlhL2VybnN0LzYzYmNlNDNjLTVlNTEtNGJmMS1hNjExLTNhZmRmMzJhYzZmNi9WdWVKUy9JUFRWLVRvb2xzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKLyogZXNsaW50LWRpc2FibGUgdnVlL25vLXNpZGUtZWZmZWN0cy1pbi1jb21wdXRlZC1wcm9wZXJ0aWVzICovCmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAiLi4vLi4vLi4vc2VydmljZXMvZWJ1cyI7CmltcG9ydCB7IGh0dHBTZXJ2aWNlIH0gZnJvbSAiLi4vLi4vLi4vc2VydmljZXMvaHR0cCI7CmltcG9ydCB7IGxhbmd1YWdlcyB9IGZyb20gIi4uLy4uLy4uL2hlbHBlcnMiOwppbXBvcnQgeyBVc2VyUm9sZSwgU3Vic2NyaXB0aW9uVHlwZSB9IGZyb20gIi4uLy4uLy4uL2NvbnN0YW50cy9jb25maWciOwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGFuZ3VhZ2VzOiBsYW5ndWFnZXMsCiAgICAgIGFjdGl2ZVRhYjogMCwKICAgICAgcGxheWxpc3RHcm91cHM6IHsKICAgICAgICBsaXZlOiBbXSwKICAgICAgICBtb3ZpZXM6IFtdLAogICAgICAgIHNlcmllczogW10KICAgICAgfSwKICAgICAgcGxheWxpc3RJbmZvOiB7CiAgICAgICAgbW9kYWw6IGZhbHNlLAogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfSwKICAgICAgcGxheWxpc3RzOiBbXSwKICAgICAgcGxheWxpc3Q6IG51bGwsCiAgICAgIGVkaXRvcjogZmFsc2UsCiAgICAgIHNlYXJjaDogbnVsbCwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgZnJvbTogMCwKICAgICAgdG86IDAsCiAgICAgIHRvdGFsOiAwLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgZmllbGRzOiBbewogICAgICAgIGtleTogImNyZWF0ZWRfYXQiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0uY3JlYXRlZCIpLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJsYXN0X3VwZGF0ZWQiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0ubGFzdC11cGRhdGVkIiksCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIm5hbWUiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0ubmFtZSIpLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJncm91cHMiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0uZ3JvdXBzIiksCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogInN0cmVhbXMiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0uc3RyZWFtcyIpLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJzeW5jX2ludGVydmFsIiwKICAgICAgICBsYWJlbDogdGhpcy4kdCgieHRyZWFtLnN5bmMtaW50ZXJ2YWwiKSwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAic3luY2VkX2F0IiwKICAgICAgICBsYWJlbDogdGhpcy4kdCgieHRyZWFtLnN5bmNlZC1hdCIpLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJzb3VyY2VfZXhwX2RhdGUiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0uZXhwaXJlIiksCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogInNvdXJjZV9tYXhfY29ubmVjdGlvbnMiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ4dHJlYW0ubWF4LWNvbm5lY3Rpb25zIiksCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogImFjdGlvbnMiLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCJ1c2Vycy5hY3Rpb25zIiksCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHRoQ2xhc3M6ICJ0ZXh0LXJpZ2h0IiwKICAgICAgICB0ZENsYXNzOiAidGV4dC1yaWdodCIKICAgICAgfV0sCiAgICAgIHN5bmNJbnRlcnZhbHM6IFt7CiAgICAgICAgdGV4dDogdGhpcy4kdCgic3luYy1pbnRlcnZhbC40OCIpLAogICAgICAgIHZhbHVlOiA0OAogICAgICB9LCB7CiAgICAgICAgdGV4dDogdGhpcy4kdCgic3luYy1pbnRlcnZhbC4yNCIpLAogICAgICAgIHZhbHVlOiAyNAogICAgICB9LCB7CiAgICAgICAgdGV4dDogdGhpcy4kdCgic3luYy1pbnRlcnZhbC4xMiIpLAogICAgICAgIHZhbHVlOiAxMgogICAgICB9LCB7CiAgICAgICAgdGV4dDogdGhpcy4kdCgic3luYy1pbnRlcnZhbC42IiksCiAgICAgICAgdmFsdWU6IDYKICAgICAgfSwgewogICAgICAgIHRleHQ6IHRoaXMuJHQoInN5bmMtaW50ZXJ2YWwuMSIpLAogICAgICAgIHZhbHVlOiAxCiAgICAgIH1dLAogICAgICBvdXRwdXRUeXBlczogW3sKICAgICAgICB0ZXh0OiB0aGlzLiR0KCJvdXRwdXQuMSIpLAogICAgICAgIHZhbHVlOiAxCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB0aGlzLiR0KCJvdXRwdXQuMiIpLAogICAgICAgIHZhbHVlOiAyCiAgICAgIH1dLAogICAgICBpcHR2VG9vbHNIb3N0OiAiaHR0cDovL3R2LmlwdHYtdG9vbHMuY29tIiwKICAgICAgaXB0dlRvb2xzUG9ydDogODAKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsiY3VycmVudFVzZXIiLCAic2V0dGluZ3MiLCAic3luY1RNREIiLCAic3luY1BsYXlsaXN0Il0pKSwge30sIHsKICAgIHNob3dUb29sdGlwczogZnVuY3Rpb24gc2hvd1Rvb2x0aXBzKCkgewogICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5zaG93VG9vbHRpcHM7CiAgICB9LAogICAgZXBnT2Zmc2V0OiBmdW5jdGlvbiBlcGdPZmZzZXQoKSB7CiAgICAgIHZhciBkdCA9IG5ldyBEYXRlKCk7CiAgICAgIHJldHVybiBNYXRoLmFicyhkdC5nZXRUaW1lem9uZU9mZnNldCgpIC8gNjApOwogICAgfSwKICAgIHBlclBhZ2U6IGZ1bmN0aW9uIHBlclBhZ2UoKSB7CiAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnBlclBhZ2U7CiAgICB9LAogICAgc2VhcmNoRmlsdGVyZWQ6IGZ1bmN0aW9uIHNlYXJjaEZpbHRlcmVkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc2VhcmNoID09PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RzOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAodGhpcy5zZWFyY2gsICJpIik7CiAgICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RzLmZpbHRlcihmdW5jdGlvbiAoYWNjb3VudCkgewogICAgICAgICAgcmV0dXJuIFN0cmluZyhhY2NvdW50LnRpdGxlKS5tYXRjaChyZSkgfHwgU3RyaW5nKGFjY291bnQuaG9zdCkubWF0Y2gocmUpIHx8IFN0cmluZyhhY2NvdW50LnBvcnQpLm1hdGNoKHJlKSB8fCBTdHJpbmcoYWNjb3VudC51c2VybmFtZSkubWF0Y2gocmUpIHx8IFN0cmluZyhhY2NvdW50LnBhc3N3b3JkKS5tYXRjaChyZSkgfHwgX3RoaXMuZm9ybWF0RGF0ZShhY2NvdW50LnN5bmNlZF9hdCkubWF0Y2gocmUpIHx8IF90aGlzLiR0KCJzeW5jLWludGVydmFsLiIuY29uY2F0KGFjY291bnQuc3luY19pbnRlcnZhbCkpLm1hdGNoKHJlKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHBhZ2VkOiBmdW5jdGlvbiBwYWdlZCgpIHsKICAgICAgdGhpcy50b3RhbCA9IHRoaXMuc2VhcmNoRmlsdGVyZWQubGVuZ3RoOwogICAgICB0aGlzLmZyb20gPSAodGhpcy5jdXJyZW50UGFnZSAtIDEpICogdGhpcy5wZXJQYWdlIHx8IDA7CiAgICAgIHRoaXMudG8gPSB0aGlzLmZyb20gKyB0aGlzLnBlclBhZ2UgPiB0aGlzLnRvdGFsID8gdGhpcy50b3RhbCA6IHRoaXMuZnJvbSArIHRoaXMucGVyUGFnZTsKICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRmlsdGVyZWQuc2xpY2UodGhpcy5mcm9tLCB0aGlzLnRvKTsKICAgIH0sCiAgICBhbGxvd2VkSXBzOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLnBsYXlsaXN0LmlwX2FsbG93ZWQgPyB0aGlzLnBsYXlsaXN0LmlwX2FsbG93ZWQuam9pbigiLCIpIDogIiI7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgewogICAgICAgIHRoaXMucGxheWxpc3QuaXBfYWxsb3dlZCA9IHZhbC5zcGxpdCgiLCIpLm1hcChmdW5jdGlvbiAoaXApIHsKICAgICAgICAgIHJldHVybiBpcC50cmltKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjb250ZXh0TGl2ZTogZnVuY3Rpb24gY29udGV4dExpdmUoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CgogICAgICB2YXIgbGl2ZSA9IF90b0NvbnN1bWFibGVBcnJheSh2bS5wbGF5bGlzdEdyb3Vwcy5saXZlKTsKCiAgICAgIHJldHVybiBbewogICAgICAgIHRleHQ6IHZtLiR0KCJnZW5lcmFsLnNlbGVjdC1hbGwiKSwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgdm0ucGxheWxpc3Quc3luY19saXZlID0gX3RvQ29uc3VtYWJsZUFycmF5KGxpdmUubWFwKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgICAgIHJldHVybiBnLmNhdGVnb3J5X2lkOwogICAgICAgICAgfSkpOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIHRleHQ6IHZtLiR0KCJnZW5lcmFsLnNlbGVjdC1ub25lIiksCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHZtLnBsYXlsaXN0LnN5bmNfbGl2ZSA9IFtdOwogICAgICAgIH0KICAgICAgfV07CiAgICB9LAogICAgY29udGV4dE1vdmllczogZnVuY3Rpb24gY29udGV4dE1vdmllcygpIHsKICAgICAgdmFyIHZtID0gdGhpczsKCiAgICAgIHZhciBtb3ZpZXMgPSBfdG9Db25zdW1hYmxlQXJyYXkodm0ucGxheWxpc3RHcm91cHMubW92aWVzKTsKCiAgICAgIHJldHVybiBbewogICAgICAgIHRleHQ6IHZtLiR0KCJnZW5lcmFsLnNlbGVjdC1hbGwiKSwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgaWYgKHZtLmNhblVzZU1vdmllc1NlcmllcykgewogICAgICAgICAgICB2bS5wbGF5bGlzdC5zeW5jX21vdmllcyA9IF90b0NvbnN1bWFibGVBcnJheShtb3ZpZXMubWFwKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGcuY2F0ZWdvcnlfaWQ7CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGRpc2FibGVkOiAhdm0uY2FuVXNlTW92aWVzU2VyaWVzCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB2bS4kdCgiZ2VuZXJhbC5zZWxlY3Qtbm9uZSIpLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICB2bS5wbGF5bGlzdC5zeW5jX21vdmllcyA9IFtdOwogICAgICAgIH0sCiAgICAgICAgZGlzYWJsZWQ6ICF2bS5jYW5Vc2VNb3ZpZXNTZXJpZXMKICAgICAgfV07CiAgICB9LAogICAgY29udGV4dFNlcmllczogZnVuY3Rpb24gY29udGV4dFNlcmllcygpIHsKICAgICAgdmFyIHZtID0gdGhpczsKCiAgICAgIHZhciBzZXJpZXMgPSBfdG9Db25zdW1hYmxlQXJyYXkodm0ucGxheWxpc3RHcm91cHMuc2VyaWVzKTsKCiAgICAgIHJldHVybiBbewogICAgICAgIHRleHQ6IHZtLiR0KCJnZW5lcmFsLnNlbGVjdC1hbGwiKSwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgaWYgKHZtLmNhblVzZU1vdmllc1NlcmllcykgewogICAgICAgICAgICB2bS5wbGF5bGlzdC5zeW5jX3NlcmllcyA9IF90b0NvbnN1bWFibGVBcnJheShzZXJpZXMubWFwKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGcuY2F0ZWdvcnlfaWQ7CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGRpc2FibGVkOiAhdm0uY2FuVXNlTW92aWVzU2VyaWVzCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB2bS4kdCgiZ2VuZXJhbC5zZWxlY3Qtbm9uZSIpLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICB2bS5wbGF5bGlzdC5zeW5jX3NlcmllcyA9IFtdOwogICAgICAgIH0sCiAgICAgICAgZGlzYWJsZWQ6ICF2bS5jYW5Vc2VNb3ZpZXNTZXJpZXMKICAgICAgfV07CiAgICB9LAogICAgdG1kYkxhbmd1YWdlczogZnVuY3Rpb24gdG1kYkxhbmd1YWdlcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5sYW5ndWFnZXMpLm1hcChmdW5jdGlvbiAobGFuZ3VhZ2UpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdmFsdWU6IGxhbmd1YWdlLAogICAgICAgICAgdGV4dDogIiIuY29uY2F0KF90aGlzMi5sYW5ndWFnZXNbbGFuZ3VhZ2VdLm5hbWUsICIgKCIpLmNvbmNhdChfdGhpczIubGFuZ3VhZ2VzW2xhbmd1YWdlXS5uYXRpdmVOYW1lLCAiKSIpCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgY2FuVXNlQ3VzdG9tVXNlclBhc3M6IGZ1bmN0aW9uIGNhblVzZUN1c3RvbVVzZXJQYXNzKCkgewogICAgICByZXR1cm4gW1VzZXJSb2xlLlN1cGVyQWRtaW4sIFVzZXJSb2xlLkFkbWluLCBVc2VyUm9sZS5Nb2RlcmF0b3JdLmluY2x1ZGVzKHRoaXMuY3VycmVudFVzZXIudXNlci5yb2xlKTsKICAgIH0sCiAgICBjYW5Vc2VNb3ZpZXNTZXJpZXM6IGZ1bmN0aW9uIGNhblVzZU1vdmllc1NlcmllcygpIHsKICAgICAgcmV0dXJuIFtTdWJzY3JpcHRpb25UeXBlLlByb2Zlc3Npb25hbCwgU3Vic2NyaXB0aW9uVHlwZS5GYW1pbHksIFN1YnNjcmlwdGlvblR5cGUuQnVzaW5lc3NTbWFsbCwgU3Vic2NyaXB0aW9uVHlwZS5CdXNpbmVzc1Byb2Zlc3Npb25hbCwgU3Vic2NyaXB0aW9uVHlwZS5CdXNpbmVzc0VudGVycHJpc2UsIFN1YnNjcmlwdGlvblR5cGUuTWFuYWdlcl0uaW5jbHVkZXModGhpcy5jdXJyZW50VXNlci5zdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uX3R5cGUpOwogICAgfSwKICAgIHBsYXlsaXN0SXNFbXB0eTogZnVuY3Rpb24gcGxheWxpc3RJc0VtcHR5KCkgewogICAgICByZXR1cm4gdGhpcy5wbGF5bGlzdCAmJiB0aGlzLnBsYXlsaXN0Lmdyb3VwcyA9PSAwIHx8IHRoaXMucGxheWxpc3Quc3RyZWFtcyA9PSAwOwogICAgfSwKICAgIGNhbkFkZFBsYXlsaXN0OiBmdW5jdGlvbiBjYW5BZGRQbGF5bGlzdCgpIHsKICAgICAgaWYgKHRoaXMuY3VycmVudFVzZXIuc3Vic2NyaXB0aW9uKSB7CiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRoaXMuY3VycmVudFVzZXIuc3Vic2NyaXB0aW9uOwoKICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLmVuZF9kYXRlICE9IG51bGwgJiYgbmV3IERhdGUoc3Vic2NyaXB0aW9uLmVuZF9kYXRlKS5nZXRUaW1lKCkgPCBuZXcgRGF0ZSgpLmdldFRpbWUoKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKHBhcnNlSW50KHN1YnNjcmlwdGlvbi5jdXN0b21fcGxhbikgPT09IDEpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnBsYXlsaXN0cy5sZW5ndGggPCBzdWJzY3JpcHRpb24ubWF4X3BsYXlsaXN0OwogICAgICAgIH0KCiAgICAgICAgaWYgKHBhcnNlSW50KHN1YnNjcmlwdGlvbi5lbmFibGVkKSAhPT0gMSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgc3dpdGNoIChzdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uX3R5cGUpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RzLmxlbmd0aCA8IDI7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gdGhpcy5wbGF5bGlzdHMubGVuZ3RoIDwgNTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJldHVybiB0aGlzLnBsYXlsaXN0cy5sZW5ndGggPCA1OwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RzLmxlbmd0aCA8IDEwOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RzLmxlbmd0aCA8IDI1OwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0pLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbInN5bmNocm9uaXplVE1EQiIsICJzeW5jaHJvbml6ZVBsYXlsaXN0Il0pKSwge30sIHsKICAgIG9wZW5Db250ZXh0OiBmdW5jdGlvbiBvcGVuQ29udGV4dChjb250ZXh0KSB7CiAgICAgIHRoaXMuJHJlZnNbY29udGV4dF0ub3BlbigpOwogICAgfSwKICAgIGxvYWRHcm91cHM6IGZ1bmN0aW9uIGxvYWRHcm91cHMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBodHRwU2VydmljZS5wb3N0KCJwbGF5bGlzdC9sb2FkLWdyb3VwcyIsIHsKICAgICAgICBob3N0OiB0aGlzLnBsYXlsaXN0LnNvdXJjZV9ob3N0LAogICAgICAgIHBvcnQ6IHRoaXMucGxheWxpc3Quc291cmNlX3BvcnQsCiAgICAgICAgdXNlcm5hbWU6IHRoaXMucGxheWxpc3Quc291cmNlX3VzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBsYXlsaXN0LnNvdXJjZV9wYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlKSB7CiAgICAgICAgICBfdGhpczMucGxheWxpc3RHcm91cHMgPSByZXMuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRQbGF5bGlzdHM6IGZ1bmN0aW9uIGxvYWRQbGF5bGlzdHMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBodHRwU2VydmljZS5nZXQoInBsYXlsaXN0IikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0LmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgX3RoaXM0LnBsYXlsaXN0cyA9IHJlcy5kYXRhOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgX3RoaXM0LiRub3RpZnkoImVycm9yIiwgX3RoaXM0LiR0KCJwcm9maWxlLmZhaWxlZCIpLCBfdGhpczQuJHQoInh0cmVhbS54dHJlYW0tbG9hZC1lcnJvciIpLCAibGEtdXNlci1zaGllbGQiLCB7CiAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgIHBlcm1hbmVudDogZmFsc2UKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkUGxheWxpc3Q6IGZ1bmN0aW9uIGFkZFBsYXlsaXN0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmNhbkFkZFBsYXlsaXN0ICE9PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBodHRwU2VydmljZS5wb3N0KCJwbGF5bGlzdC9hZGQiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSAmJiByZXMuZGF0YSAhPT0gZmFsc2UpIHsKICAgICAgICAgIF90aGlzNS5wbGF5bGlzdCA9IHsKICAgICAgICAgICAgaWQ6IHJlcy5kYXRhLAogICAgICAgICAgICB1cmw6ICIiLAogICAgICAgICAgICBlbmFibGVkOiAxLAogICAgICAgICAgICBzb3VyY2VfaG9zdDogIiIsCiAgICAgICAgICAgIHNvdXJjZV9wb3J0OiAiIiwKICAgICAgICAgICAgc291cmNlX3VzZXJuYW1lOiAiIiwKICAgICAgICAgICAgc291cmNlX3Bhc3N3b3JkOiAiIiwKICAgICAgICAgICAgc291cmNlX2V4cF9kYXRlOiBmYWxzZSwKICAgICAgICAgICAgc291cmNlX21heF9jb25uZWN0aW9uczogZmFsc2UsCiAgICAgICAgICAgIHN5bmNfZW5hYmxlZDogMSwKICAgICAgICAgICAgc3luY19pbnRlcnZhbDogNDgsCiAgICAgICAgICAgIHN5bmNfbGl2ZTogW10sCiAgICAgICAgICAgIHN5bmNfbW92aWVzOiBbXSwKICAgICAgICAgICAgc3luY19zZXJpZXM6IFtdLAogICAgICAgICAgICBpcF9wcm90ZWN0aW9uOiAwLAogICAgICAgICAgICBpcF9hbGxvd2VkOiBbXSwKICAgICAgICAgICAgYXBpX3VzZXJuYW1lOiBfdGhpczUuY3VycmVudFVzZXIudXNlci51c2VybmFtZSwKICAgICAgICAgICAgYXBpX3Bhc3N3b3JkOiAiIiwKICAgICAgICAgICAgYXBpX21lc3NhZ2U6ICJXZWxjb21lIHRvIElQVFYtVG9vbHMuY29tIiwKICAgICAgICAgICAgYXBpX291dHB1dF9mb3JtYXQ6IDEsCiAgICAgICAgICAgIG5hbWU6ICIiLAogICAgICAgICAgICB0bWRiX2xhbmd1YWdlOiBfdGhpczUuJGkxOG4ubG9jYWxlLAogICAgICAgICAgICBlcGdfb2Zmc2V0OiBfdGhpczUuZXBnT2Zmc2V0CiAgICAgICAgICB9OwogICAgICAgICAgX3RoaXM1LnBsYXlsaXN0R3JvdXBzID0gewogICAgICAgICAgICBsaXZlOiBbXSwKICAgICAgICAgICAgbW92aWVzOiBbXSwKICAgICAgICAgICAgc2VyaWVzOiBbXQogICAgICAgICAgfTsKCiAgICAgICAgICBfdGhpczUucmFuZG9tUGFzc3dvcmQoKTsKCiAgICAgICAgICBfdGhpczUuZWRpdG9yID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUuJG5vdGlmeSgiZXJyb3IiLCBfdGhpczUuJHQoInByb2ZpbGUuZmFpbGVkIiksIF90aGlzNS4kdCgieHRyZWFtLnh0cmVhbS1uZXctZXJyb3IiKSwgImxhLXVzZXItc2hpZWxkIiwgewogICAgICAgICAgZHVyYXRpb246IDUwMDAsCiAgICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGVkaXRQbGF5bGlzdDogZnVuY3Rpb24gZWRpdFBsYXlsaXN0KHBsYXlsaXN0KSB7CiAgICAgIHRoaXMucGxheWxpc3QgPSBPYmplY3QuYXNzaWduKHt9LCBwbGF5bGlzdCk7CiAgICAgIHRoaXMucGxheWxpc3RBdXRoKCk7CiAgICAgIHRoaXMuZWRpdG9yID0gdHJ1ZTsKICAgIH0sCiAgICBwbGF5bGlzdEluZm9Nb2RhbDogZnVuY3Rpb24gcGxheWxpc3RJbmZvTW9kYWwoc2hvdywgcGxheWxpc3QpIHsKICAgICAgaWYgKHBsYXlsaXN0KSB7CiAgICAgICAgdGhpcy5wbGF5bGlzdEluZm8udXNlcm5hbWUgPSBwbGF5bGlzdC5hcGlfdXNlcm5hbWU7CiAgICAgICAgdGhpcy5wbGF5bGlzdEluZm8ucGFzc3dvcmQgPSBwbGF5bGlzdC5hcGlfcGFzc3dvcmQ7CiAgICAgIH0KCiAgICAgIHRoaXMucGxheWxpc3RJbmZvLm1vZGFsID0gc2hvdzsKICAgIH0sCiAgICBjYW5jZWxFZGl0b3I6IGZ1bmN0aW9uIGNhbmNlbEVkaXRvcigpIHsKICAgICAgdGhpcy5lZGl0b3IgPSBmYWxzZTsKICAgIH0sCiAgICBzYXZlRWRpdG9yOiBmdW5jdGlvbiBzYXZlRWRpdG9yKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHZhciBwbGF5bGlzdCA9IHRoaXMucGxheWxpc3Q7CiAgICAgIHZhciBwbGF5bGlzdElkID0gdGhpcy5wbGF5bGlzdC5pZDsKICAgICAgZGVsZXRlIHBsYXlsaXN0LmlkOwogICAgICBkZWxldGUgcGxheWxpc3QudXJsOwogICAgICBkZWxldGUgcGxheWxpc3QuZ3JvdXBzOwogICAgICBkZWxldGUgcGxheWxpc3Quc3RyZWFtczsKICAgICAgcGxheWxpc3QubGFzdF91cGRhdGVkID0gbmV3IERhdGUoKTsKICAgICAgaHR0cFNlcnZpY2UucHV0KCJwbGF5bGlzdC8iLmNvbmNhdChwbGF5bGlzdElkKSwgcGxheWxpc3QpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlICYmIHJlcy5kYXRhID09PSB0cnVlKSB7CiAgICAgICAgICBfdGhpczYuJG5vdGlmeSgicHJpbWFyeSIsIF90aGlzNi4kdCgicHJvZmlsZS5zdWNjZXNzIiksIF90aGlzNi4kdCgieHRyZWFtLnh0cmVhbS1zYXZlLXN1Y2Nlc3MiKSwgImxhLXVzZXItc2hpZWxkIiwgewogICAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgICAgcGVybWFuZW50OiBmYWxzZQogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXM2LmVkaXRvciA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzNi5sb2FkUGxheWxpc3RzKCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM2LiRub3RpZnkoImVycm9yIiwgX3RoaXM2LiR0KCJwcm9maWxlLmZhaWxlZCIpLCBfdGhpczYuJHQoInh0cmVhbS54dHJlYW0tc2F2ZS1lcnJvciIpLCAibGEtdXNlci1zaGllbGQiLCB7CiAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgIHBlcm1hbmVudDogZmFsc2UKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlUGxheWxpc3Q6IGZ1bmN0aW9uIGRlbGV0ZVBsYXlsaXN0KGlkKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgaHR0cFNlcnZpY2UuZGVsZXRlKCJwbGF5bGlzdC8iLmNvbmNhdChpZCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlKSB7CiAgICAgICAgICBfdGhpczcuJG5vdGlmeSgicHJpbWFyeSIsIF90aGlzNy4kdCgicHJvZmlsZS5zdWNjZXNzIiksIF90aGlzNy4kdCgieHRyZWFtLnh0cmVhbS1kZWxldGUtc3VjY2VzcyIpLCAibGEtdXNlci1zaGllbGQiLCB7CiAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczcubG9hZFBsYXlsaXN0cygpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNy4kbm90aWZ5KCJlcnJvciIsIF90aGlzNy4kdCgicHJvZmlsZS5mYWlsZWQiKSwgX3RoaXM3LiR0KCJ4dHJlYW0ueHRyZWFtLWRlbGV0ZS1lcnJvciIpLCAibGEtdXNlci1zaGllbGQiLCB7CiAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgIHBlcm1hbmVudDogZmFsc2UKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2VhcmNoQWNjb3VudDogZnVuY3Rpb24gc2VhcmNoQWNjb3VudChzZWFyY2gpIHsKICAgICAgaWYgKHNlYXJjaC5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLnNlYXJjaCA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWFyY2ggPSBzZWFyY2g7CiAgICAgIH0KICAgIH0sCiAgICBwcmludEFjY291bnRzOiBmdW5jdGlvbiBwcmludEFjY291bnRzKCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGxheWxpc3RzIikucHJpbnQoKTsKICAgIH0sCiAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGUpIHsKICAgICAgcmV0dXJuIGRhdGUgPT09IGZhbHNlID8gIiIgOiBkYXRlID09PSBudWxsIHx8IGRhdGUgPT09ICIwMDAwLTAwLTAwIDAwOjAwOjAwIiB8fCBkYXRlID09PSAwIHx8IGRhdGUgPT09ICIiID8gdGhpcy4kdCgieHRyZWFtLnVubGltaXRlZCIpIDogbmV3IERhdGUoZGF0ZSkudG9Mb2NhbGVTdHJpbmcodGhpcy4kdCgiZGF0ZS5sb2NhbGUiKSwgdGhpcy5kYXRlT3B0aW9ucyk7CiAgICB9LAogICAgZm9ybWF0TWF4Q29ubmVjdGlvbnM6IGZ1bmN0aW9uIGZvcm1hdE1heENvbm5lY3Rpb25zKG1heCkgewogICAgICByZXR1cm4gbWF4ID09PSBmYWxzZSA/ICIiIDogbWF4ID09PSBudWxsIHx8IG1heCA8PSAwID8gdGhpcy4kdCgieHRyZWFtLnVubGltaXRlZCIpIDogbWF4OwogICAgfSwKICAgIGRvVGFiQ2hhbmdlOiBmdW5jdGlvbiBkb1RhYkNoYW5nZSh0YWIpIHsKICAgICAgaWYgKHRhYiA9PSAxKSB7Ly90aGlzLmxvYWRHcm91cHMoKTsKICAgICAgfQoKICAgICAgdGhpcy5hY3RpdmVUYWIgPSB0YWI7CiAgICB9LAogICAgcmFuZG9tUGFzc3dvcmQ6IGZ1bmN0aW9uIHJhbmRvbVBhc3N3b3JkKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIGh0dHBTZXJ2aWNlLnBvc3QoInBsYXlsaXN0L3JhbmRvbS1wYXNzd29yZCIsIHsKICAgICAgICB1c2VybmFtZTogdGhpcy5wbGF5bGlzdC5hcGlfdXNlcm5hbWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IHRydWUpIHsKICAgICAgICAgIF90aGlzOC5wbGF5bGlzdC5hcGlfcGFzc3dvcmQgPSByZXMuZGF0YTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgcGxheWxpc3RBdXRoOiBmdW5jdGlvbiBwbGF5bGlzdEF1dGgoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBodHRwU2VydmljZS5wb3N0KCJwbGF5bGlzdC9hdXRoZW50aWNhdGUiLCB7CiAgICAgICAgaG9zdDogdGhpcy5wbGF5bGlzdC5zb3VyY2VfaG9zdCwKICAgICAgICBwb3J0OiB0aGlzLnBsYXlsaXN0LnNvdXJjZV9wb3J0LAogICAgICAgIHVzZXJuYW1lOiB0aGlzLnBsYXlsaXN0LnNvdXJjZV91c2VybmFtZSwKICAgICAgICBwYXNzd29yZDogdGhpcy5wbGF5bGlzdC5zb3VyY2VfcGFzc3dvcmQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM5LmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSAmJiByZXMuZGF0YS5hdXRoKSB7CiAgICAgICAgICBfdGhpczkucGxheWxpc3Quc291cmNlX2V4cF9kYXRlID0gcmVzLmRhdGEuZXhwX2RhdGU7CiAgICAgICAgICBfdGhpczkucGxheWxpc3Quc291cmNlX21heF9jb25uZWN0aW9ucyA9IHJlcy5kYXRhLm1heF9jb25uZWN0aW9uczsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczkuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGdldElQQWRkcmVzczogZnVuY3Rpb24gZ2V0SVBBZGRyZXNzKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICBodHRwU2VydmljZS5nZXQoInBsYXlsaXN0L2lwLWFkZHJlc3MiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgX3RoaXMxMC5wbGF5bGlzdC5pcF9hbGxvd2VkLnB1c2gocmVzLmRhdGEpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBjaGVja0F2YWlsYWJpbGl0eTogZnVuY3Rpb24gY2hlY2tBdmFpbGFiaWxpdHkoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIGh0dHBTZXJ2aWNlLnBvc3QoInBsYXlsaXN0L3VzZXItcGFzcy1leGlzdHMiLCB7CiAgICAgICAgdXNlcm5hbWU6IHRoaXMucGxheWxpc3QuYXBpX3VzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBsYXlsaXN0LmFwaV9wYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgaWYgKHJlcy5kYXRhID09PSB0cnVlKSB7CiAgICAgICAgICAgIF90aGlzMTEuJG5vdGlmeSgiZXJyb3IiLCBfdGhpczExLiR0KCJ4dHJlYW0ubm90LWF2YWlsYWJsZSIpLCBfdGhpczExLiR0KCJ4dHJlYW0udXNlci1wYXNzLXVzZWQiKSwgImxhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlIiwgewogICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgICAgIHBlcm1hbmVudDogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczExLiRub3RpZnkoInN1Y2Nlc3MiLCBfdGhpczExLiR0KCJ4dHJlYW0uYXZhaWxhYmxlIiksIF90aGlzMTEuJHQoInh0cmVhbS51c2VyLXBhc3MtYXZhaWxhYmxlIiksICJsYS1jaGVjay1jaXJjbGUiLCB7CiAgICAgICAgICAgICAgZHVyYXRpb246IDUwMDAsCiAgICAgICAgICAgICAgcGVybWFuZW50OiBmYWxzZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZXhwb3J0TTNVOiBmdW5jdGlvbiBleHBvcnRNM1UoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgaHR0cFNlcnZpY2UuZG93bmxvYWQoInBsYXlsaXN0L2V4cG9ydC9tM3UvIi5jb25jYXQodGhpcy5wbGF5bGlzdC5pZCkpLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHsKICAgICAgICB2YXIgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgYS5ocmVmID0gdXJsOwogICAgICAgIGEuZG93bmxvYWQgPSAiZXhwb3J0Lm0zdSI7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICBhLmNsaWNrKCk7CiAgICAgICAgYS5yZW1vdmUoKTsKICAgICAgICBfdGhpczEyLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBleHBvcnRTSVBUVjogZnVuY3Rpb24gZXhwb3J0U0lQVFYoKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgaHR0cFNlcnZpY2UuZG93bmxvYWQoInBsYXlsaXN0L2V4cG9ydC9zaXB0di8iLmNvbmNhdCh0aGlzLnBsYXlsaXN0LmlkKSkudGhlbihmdW5jdGlvbiAoYmxvYikgewogICAgICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICBhLmhyZWYgPSB1cmw7CiAgICAgICAgYS5kb3dubG9hZCA9ICJleHBvcnQudHh0IjsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOwogICAgICAgIGEuY2xpY2soKTsKICAgICAgICBhLnJlbW92ZSgpOwogICAgICAgIF90aGlzMTMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGV4cG9ydEJvdXF1ZXQ6IGZ1bmN0aW9uIGV4cG9ydEJvdXF1ZXQoKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgaHR0cFNlcnZpY2UuZG93bmxvYWQoInBsYXlsaXN0L2V4cG9ydC9ib3VxdWV0LyIuY29uY2F0KHRoaXMucGxheWxpc3QuaWQpKS50aGVuKGZ1bmN0aW9uIChibG9iKSB7CiAgICAgICAgdmFyIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgIGEuaHJlZiA9IHVybDsKICAgICAgICBhLmRvd25sb2FkID0gImV4cG9ydC56aXAiOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgYS5jbGljaygpOwogICAgICAgIGEucmVtb3ZlKCk7CiAgICAgICAgX3RoaXMxNC5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZXhwb3J0Q1NWOiBmdW5jdGlvbiBleHBvcnRDU1YoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgaHR0cFNlcnZpY2UuZG93bmxvYWQoInBsYXlsaXN0L2V4cG9ydC9jc3YvIi5jb25jYXQodGhpcy5wbGF5bGlzdC5pZCkpLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHsKICAgICAgICB2YXIgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgYS5ocmVmID0gdXJsOwogICAgICAgIGEuZG93bmxvYWQgPSAiZXhwb3J0LnppcCI7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICBhLmNsaWNrKCk7CiAgICAgICAgYS5yZW1vdmUoKTsKICAgICAgICBfdGhpczE1LmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBleHBvcnRKU09OOiBmdW5jdGlvbiBleHBvcnRKU09OKCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIGh0dHBTZXJ2aWNlLmRvd25sb2FkKCJwbGF5bGlzdC9leHBvcnQvanNvbi8iLmNvbmNhdCh0aGlzLnBsYXlsaXN0LmlkKSkudGhlbihmdW5jdGlvbiAoYmxvYikgewogICAgICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICBhLmhyZWYgPSB1cmw7CiAgICAgICAgYS5kb3dubG9hZCA9ICJleHBvcnQuemlwIjsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOwogICAgICAgIGEuY2xpY2soKTsKICAgICAgICBhLnJlbW92ZSgpOwogICAgICAgIF90aGlzMTYuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGJhY2t1cFBsYXlsaXN0OiBmdW5jdGlvbiBiYWNrdXBQbGF5bGlzdChwYXRoKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgaHR0cFNlcnZpY2UuZG93bmxvYWQoInBsYXlsaXN0L2JhY2stdXAvIi5jb25jYXQocGF0aCwgIi8iKS5jb25jYXQodGhpcy5wbGF5bGlzdC5pZCkpLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHsKICAgICAgICB2YXIgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgYS5ocmVmID0gdXJsOwogICAgICAgIGEuZG93bmxvYWQgPSAiYmFja3VwLnppcCI7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICBhLmNsaWNrKCk7CiAgICAgICAgYS5yZW1vdmUoKTsKICAgICAgICBfdGhpczE3LmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBiYWNrdXBFUEdDb2RlczogZnVuY3Rpb24gYmFja3VwRVBHQ29kZXMoKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgaHR0cFNlcnZpY2UuZG93bmxvYWQoInBsYXlsaXN0L2JhY2stdXAvZXBnLWNvZGVzLyIuY29uY2F0KHRoaXMucGxheWxpc3QuaWQpKS50aGVuKGZ1bmN0aW9uIChibG9iKSB7CiAgICAgICAgdmFyIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgIGEuaHJlZiA9IHVybDsKICAgICAgICBhLmRvd25sb2FkID0gImJhY2t1cC56aXAiOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgYS5jbGljaygpOwogICAgICAgIGEucmVtb3ZlKCk7CiAgICAgICAgX3RoaXMxOC5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzdG9yZUVQR0NvZGVzOiBmdW5jdGlvbiByZXN0b3JlRVBHQ29kZXMoZSkgewogICAgICB2YXIgX3RoaXMxOSA9IHRoaXM7CgogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CgogICAgICBpZiAoZSAmJiBlLnRhcmdldC5maWxlcy5sZW5ndGggPT0gMSkgewogICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiYmFja3VwLnppcCIsIGUudGFyZ2V0LmZpbGVzWzBdKTsKICAgICAgICBodHRwU2VydmljZS5wb3N0RmlsZSgicGxheWxpc3QvcmVzdG9yZS9lcGctY29kZXMvIi5jb25jYXQodGhpcy5wbGF5bGlzdC5pZCksIGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMTkuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IHRydWUgJiYgcmVzLmRhdGEgPT09IHRydWUpIHsKICAgICAgICAgICAgX3RoaXMxOS4kbm90aWZ5KCJwcmltYXJ5IiwgX3RoaXMxOS4kdCgicHJvZmlsZS5zdWNjZXNzIiksIF90aGlzMTkuJHQoInh0cmVhbS5yZXN0b3JlLWVwZ2NvZGVzLXN1Y2Nlc3MiKSwgImxhLXVzZXItc2hpZWxkIiwgewogICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgICAgIHBlcm1hbmVudDogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczE5LiRub3RpZnkoImVycm9yIiwgX3RoaXMxOS4kdCgicHJvZmlsZS5mYWlsZWQiKSwgX3RoaXMxOS4kdCgieHRyZWFtLnJlc3RvcmUtZXBnY29kZXMtZXJyb3IiKSwgImxhLXVzZXItc2hpZWxkIiwgewogICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgICAgIHBlcm1hbmVudDogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMxOS5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpczE5LiRub3RpZnkoImVycm9yIiwgX3RoaXMxOS4kdCgicHJvZmlsZS5mYWlsZWQiKSwgX3RoaXMxOS4kdCgieHRyZWFtLnJlc3RvcmUtZXBnY29kZXMtZXJyb3IiKSwgImxhLXVzZXItc2hpZWxkIiwgewogICAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgICAgcGVybWFuZW50OiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICByZXN0b3JlUGxheWxpc3Q6IGZ1bmN0aW9uIHJlc3RvcmVQbGF5bGlzdChlKSB7CiAgICAgIHZhciBfdGhpczIwID0gdGhpczsKCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKCiAgICAgIGlmIChlICYmIGUudGFyZ2V0LmZpbGVzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJiYWNrdXAuemlwIiwgZS50YXJnZXQuZmlsZXNbMF0pOwogICAgICAgIGh0dHBTZXJ2aWNlLnBvc3RGaWxlKCJwbGF5bGlzdC9yZXN0b3JlL3BsYXlsaXN0LyIuY29uY2F0KHRoaXMucGxheWxpc3QuaWQpLCBmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczIwLmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlICYmIHJlcy5kYXRhID09PSB0cnVlKSB7CiAgICAgICAgICAgIF90aGlzMjAuJG5vdGlmeSgicHJpbWFyeSIsIF90aGlzMjAuJHQoInByb2ZpbGUuc3VjY2VzcyIpLCBfdGhpczIwLiR0KCJ4dHJlYW0ucmVzdG9yZS1wbGF5bGlzdC1zdWNjZXNzIiksICJsYS11c2VyLXNoaWVsZCIsIHsKICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyMC4kbm90aWZ5KCJlcnJvciIsIF90aGlzMjAuJHQoInByb2ZpbGUuZmFpbGVkIiksIF90aGlzMjAuJHQoInh0cmVhbS5yZXN0b3JlLXBsYXlsaXN0LWVycm9yIiksICJsYS11c2VyLXNoaWVsZCIsIHsKICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMjAuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgX3RoaXMyMC4kbm90aWZ5KCJlcnJvciIsIF90aGlzMjAuJHQoInByb2ZpbGUuZmFpbGVkIiksIF90aGlzMjAuJHQoInh0cmVhbS5yZXN0b3JlLXBsYXlsaXN0LWVycm9yIiksICJsYS11c2VyLXNoaWVsZCIsIHsKICAgICAgICAgICAgZHVyYXRpb246IDUwMDAsCiAgICAgICAgICAgIHBlcm1hbmVudDogZmFsc2UKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSksCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5sb2FkUGxheWxpc3RzKCk7CiAgICBFdmVudEJ1cy4kZW1pdCgiY2FuLWFkZC1wbGF5bGlzdCIsIHRoaXMuY2FuQWRkUGxheWxpc3QpOwogICAgRXZlbnRCdXMuJG9uKCJzZWFyY2giLCB0aGlzLnNlYXJjaEFjY291bnQpOwogICAgRXZlbnRCdXMuJG9uKCJwcmludCIsIHRoaXMucHJpbnRBY2NvdW50cyk7CiAgICBFdmVudEJ1cy4kb24oInJlZnJlc2giLCB0aGlzLmxvYWRQbGF5bGlzdHMpOwogICAgRXZlbnRCdXMuJG9uKCJhZGQiLCB0aGlzLmFkZFBsYXlsaXN0KTsKICAgIEV2ZW50QnVzLiRvbigiY2FuY2VsIiwgdGhpcy5jYW5jZWxFZGl0b3IpOwogICAgRXZlbnRCdXMuJG9uKCJzYXZlIiwgdGhpcy5zYXZlRWRpdG9yKTsKICAgIEV2ZW50QnVzLiRvbigidGFiLWNoYW5nZSIsIHRoaXMuZG9UYWJDaGFuZ2UpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIEV2ZW50QnVzLiRvZmYoInNlYXJjaCIsIHRoaXMuc2VhcmNoQWNjb3VudCk7CiAgICBFdmVudEJ1cy4kb2ZmKCJwcmludCIsIHRoaXMucHJpbnRBY2NvdW50cyk7CiAgICBFdmVudEJ1cy4kb2ZmKCJyZWZyZXNoIiwgdGhpcy5sb2FkUGxheWxpc3RzKTsKICAgIEV2ZW50QnVzLiRvZmYoImFkZCIsIHRoaXMuYWRkUGxheWxpc3QpOwogICAgRXZlbnRCdXMuJG9mZigiY2FuY2VsIiwgdGhpcy5jYW5jZWxFZGl0b3IpOwogICAgRXZlbnRCdXMuJG9mZigic2F2ZSIsIHRoaXMuc2F2ZUVkaXRvcik7CiAgICBFdmVudEJ1cy4kb2ZmKCJ0YWItY2hhbmdlIiwgdGhpcy5kb1RhYkNoYW5nZSk7CiAgfSwKICB3YXRjaDogewogICAgZnJvbTogZnVuY3Rpb24gZnJvbSh2YWwpIHsKICAgICAgRXZlbnRCdXMuJGVtaXQoInVwZGF0ZS1mcm9tIiwgdmFsKTsKICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSAwOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDsKICAgIH0sCiAgICB0bzogZnVuY3Rpb24gdG8odmFsKSB7CiAgICAgIEV2ZW50QnVzLiRlbWl0KCJ1cGRhdGUtdG8iLCB2YWwpOwogICAgfSwKICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbCh2YWwpIHsKICAgICAgRXZlbnRCdXMuJGVtaXQoInVwZGF0ZS10b3RhbCIsIHZhbCk7CiAgICB9LAogICAgZWRpdG9yOiBmdW5jdGlvbiBlZGl0b3IodmFsKSB7CiAgICAgIEV2ZW50QnVzLiRlbWl0KCJ1cGRhdGUtZWRpdG9yIiwgdmFsKTsKCiAgICAgIGlmICghdmFsKSB7CiAgICAgICAgdGhpcy5sb2FkUGxheWxpc3RzKCk7CiAgICAgIH0KICAgIH0sCiAgICBjYW5BZGRQbGF5bGlzdDogZnVuY3Rpb24gY2FuQWRkUGxheWxpc3QodmFsKSB7CiAgICAgIEV2ZW50QnVzLiRlbWl0KCJjYW4tYWRkLXBsYXlsaXN0IiwgdmFsKTsKICAgIH0sCiAgICAicGxheWxpc3Quc291cmNlX2hvc3QiOiBmdW5jdGlvbiBwbGF5bGlzdFNvdXJjZV9ob3N0KCkgewogICAgICBpZiAodGhpcy5wbGF5bGlzdC5zb3VyY2VfaG9zdCAmJiB0aGlzLnBsYXlsaXN0LnNvdXJjZV9ob3N0Lmxlbmd0aCAmJiB0aGlzLnBsYXlsaXN0LnNvdXJjZV91c2VybmFtZSAmJiB0aGlzLnBsYXlsaXN0LnNvdXJjZV91c2VybmFtZS5sZW5ndGggJiYgdGhpcy5wbGF5bGlzdC5zb3VyY2VfcGFzc3dvcmQgJiYgdGhpcy5wbGF5bGlzdC5zb3VyY2VfcGFzc3dvcmQubGVuZ3RoICYmIHRoaXMuZWRpdG9yKSB7CiAgICAgICAgdGhpcy5wbGF5bGlzdEF1dGgoKTsKICAgICAgICB0aGlzLmxvYWRHcm91cHMoKTsKICAgICAgfQogICAgfSwKICAgICJwbGF5bGlzdC51cmwiOiBmdW5jdGlvbiBwbGF5bGlzdFVybCh1cmwpIHsKICAgICAgaWYgKHVybCAhPT0gdW5kZWZpbmVkICYmIHVybC5sZW5ndGgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIHUgPSBuZXcgVVJMKHVybCk7CiAgICAgICAgICB0aGlzLnBsYXlsaXN0LnNvdXJjZV9ob3N0ID0gdS5ob3N0bmFtZTsKICAgICAgICAgIHRoaXMucGxheWxpc3Quc291cmNlX3BvcnQgPSB1LnBvcnQ7CiAgICAgICAgICB0aGlzLnBsYXlsaXN0LnNvdXJjZV91c2VybmFtZSA9IHUuc2VhcmNoUGFyYW1zLmdldCgidXNlcm5hbWUiKTsKICAgICAgICAgIHRoaXMucGxheWxpc3Quc291cmNlX3Bhc3N3b3JkID0gdS5zZWFyY2hQYXJhbXMuZ2V0KCJwYXNzd29yZCIpOwoKICAgICAgICAgIGlmICghdGhpcy5wbGF5bGlzdC5uYW1lLmxlbmd0aCkgewogICAgICAgICAgICB0aGlzLnBsYXlsaXN0Lm5hbWUgPSB1Lmhvc3RuYW1lLnRvVXBwZXJDYXNlKCk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoX3VudXNlZCkgey8vCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},null]}