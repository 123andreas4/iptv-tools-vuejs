{"remainingRequest":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js!/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/bootstrap-vue/esm/components/form-timepicker/form-timepicker.js","dependencies":[{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/bootstrap-vue/esm/components/form-timepicker/form-timepicker.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/ernst/63bce43c-5e51-4bf1-a611-3afdf32ac6f6/VueJS/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7Cgp2YXIgX3dhdGNoOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgppbXBvcnQgeyBWdWUgfSBmcm9tICcuLi8uLi92dWUnOwppbXBvcnQgeyBOQU1FX0ZPUk1fVElNRVBJQ0tFUiB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9jb21wb25lbnRzJzsKaW1wb3J0IHsgRVZFTlRfTkFNRV9DT05URVhULCBFVkVOVF9OQU1FX1NIT1dOLCBFVkVOVF9OQU1FX0hJRERFTiB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9ldmVudHMnOwppbXBvcnQgeyBQUk9QX1RZUEVfQk9PTEVBTiwgUFJPUF9UWVBFX0RBVEVfU1RSSU5HLCBQUk9QX1RZUEVfU1RSSU5HIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL3Byb3BzJzsKaW1wb3J0IHsgU0xPVF9OQU1FX0JVVFRPTl9DT05URU5UIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL3Nsb3RzJzsKaW1wb3J0IHsgYXR0ZW1wdEJsdXIsIGF0dGVtcHRGb2N1cyB9IGZyb20gJy4uLy4uL3V0aWxzL2RvbSc7CmltcG9ydCB7IGlzVW5kZWZpbmVkT3JOdWxsIH0gZnJvbSAnLi4vLi4vdXRpbHMvaW5zcGVjdCc7CmltcG9ydCB7IG1ha2VNb2RlbE1peGluIH0gZnJvbSAnLi4vLi4vdXRpbHMvbW9kZWwnOwppbXBvcnQgeyBvbWl0LCBzb3J0S2V5cyB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IG1ha2VQcm9wLCBtYWtlUHJvcHNDb25maWd1cmFibGUsIHBsdWNrUHJvcHMgfSBmcm9tICcuLi8uLi91dGlscy9wcm9wcyc7CmltcG9ydCB7IGlkTWl4aW4sIHByb3BzIGFzIGlkUHJvcHMgfSBmcm9tICcuLi8uLi9taXhpbnMvaWQnOwppbXBvcnQgeyBCSWNvbkNsb2NrLCBCSWNvbkNsb2NrRmlsbCB9IGZyb20gJy4uLy4uL2ljb25zL2ljb25zJzsKaW1wb3J0IHsgQkJ1dHRvbiB9IGZyb20gJy4uL2J1dHRvbi9idXR0b24nOwppbXBvcnQgeyBCVkZvcm1CdG5MYWJlbENvbnRyb2wsIHByb3BzIGFzIEJWRm9ybUJ0bkxhYmVsQ29udHJvbFByb3BzIH0gZnJvbSAnLi4vZm9ybS1idG4tbGFiZWwtY29udHJvbC9idi1mb3JtLWJ0bi1sYWJlbC1jb250cm9sJzsKaW1wb3J0IHsgQlRpbWUsIHByb3BzIGFzIEJUaW1lUHJvcHMgfSBmcm9tICcuLi90aW1lL3RpbWUnOyAvLyAtLS0gQ29uc3RhbnRzIC0tLQoKdmFyIF9tYWtlTW9kZWxNaXhpbiA9IG1ha2VNb2RlbE1peGluKCd2YWx1ZScsIHsKICB0eXBlOiBQUk9QX1RZUEVfU1RSSU5HLAogIGRlZmF1bHRWYWx1ZTogJycKfSksCiAgICBtb2RlbE1peGluID0gX21ha2VNb2RlbE1peGluLm1peGluLAogICAgbW9kZWxQcm9wcyA9IF9tYWtlTW9kZWxNaXhpbi5wcm9wcywKICAgIE1PREVMX1BST1BfTkFNRSA9IF9tYWtlTW9kZWxNaXhpbi5wcm9wLAogICAgTU9ERUxfRVZFTlRfTkFNRSA9IF9tYWtlTW9kZWxNaXhpbi5ldmVudDsgLy8gLS0tIFByb3BzIC0tLQoKCnZhciB0aW1lUHJvcHMgPSBvbWl0KEJUaW1lUHJvcHMsIFsnaGlkZGVuJywgJ2lkJywgJ3ZhbHVlJ10pOwp2YXIgZm9ybUJ0bkxhYmVsQ29udHJvbFByb3BzID0gb21pdChCVkZvcm1CdG5MYWJlbENvbnRyb2xQcm9wcywgWydmb3JtYXR0ZWRWYWx1ZScsICdpZCcsICdsYW5nJywgJ3J0bCcsICd2YWx1ZSddKTsKZXhwb3J0IHZhciBwcm9wcyA9IG1ha2VQcm9wc0NvbmZpZ3VyYWJsZShzb3J0S2V5cyhfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGlkUHJvcHMpLCBtb2RlbFByb3BzKSwgdGltZVByb3BzKSwgZm9ybUJ0bkxhYmVsQ29udHJvbFByb3BzKSwge30sIHsKICBjbG9zZUJ1dHRvblZhcmlhbnQ6IG1ha2VQcm9wKFBST1BfVFlQRV9TVFJJTkcsICdvdXRsaW5lLXNlY29uZGFyeScpLAogIGxhYmVsQ2xvc2VCdXR0b246IG1ha2VQcm9wKFBST1BfVFlQRV9TVFJJTkcsICdDbG9zZScpLAogIGxhYmVsTm93QnV0dG9uOiBtYWtlUHJvcChQUk9QX1RZUEVfU1RSSU5HLCAnU2VsZWN0IG5vdycpLAogIGxhYmVsUmVzZXRCdXR0b246IG1ha2VQcm9wKFBST1BfVFlQRV9TVFJJTkcsICdSZXNldCcpLAogIG5vQ2xvc2VCdXR0b246IG1ha2VQcm9wKFBST1BfVFlQRV9CT09MRUFOLCBmYWxzZSksCiAgbm93QnV0dG9uOiBtYWtlUHJvcChQUk9QX1RZUEVfQk9PTEVBTiwgZmFsc2UpLAogIG5vd0J1dHRvblZhcmlhbnQ6IG1ha2VQcm9wKFBST1BfVFlQRV9TVFJJTkcsICdvdXRsaW5lLXByaW1hcnknKSwKICByZXNldEJ1dHRvbjogbWFrZVByb3AoUFJPUF9UWVBFX0JPT0xFQU4sIGZhbHNlKSwKICByZXNldEJ1dHRvblZhcmlhbnQ6IG1ha2VQcm9wKFBST1BfVFlQRV9TVFJJTkcsICdvdXRsaW5lLWRhbmdlcicpLAogIHJlc2V0VmFsdWU6IG1ha2VQcm9wKFBST1BfVFlQRV9EQVRFX1NUUklORykKfSkpLCBOQU1FX0ZPUk1fVElNRVBJQ0tFUik7IC8vIC0tLSBNYWluIGNvbXBvbmVudCAtLS0KLy8gQHZ1ZS9jb21wb25lbnQKCmV4cG9ydCB2YXIgQkZvcm1UaW1lcGlja2VyID0gLyojX19QVVJFX18qL1Z1ZS5leHRlbmQoewogIG5hbWU6IE5BTUVfRk9STV9USU1FUElDS0VSLAogIG1peGluczogW2lkTWl4aW4sIG1vZGVsTWl4aW5dLAogIHByb3BzOiBwcm9wcywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gV2UgYWx3YXlzIHVzZSBgSEg6bW06c3NgIHZhbHVlIGludGVybmFsbHkKICAgICAgbG9jYWxITVM6IHRoaXNbTU9ERUxfUFJPUF9OQU1FXSB8fCAnJywKICAgICAgLy8gQ29udGV4dCBkYXRhIGZyb20gQlRpbWUKICAgICAgbG9jYWxMb2NhbGU6IG51bGwsCiAgICAgIGlzUlRMOiBmYWxzZSwKICAgICAgZm9ybWF0dGVkVmFsdWU6ICcnLAogICAgICAvLyBJZiB0aGUgbWVudSBpcyBvcGVuZWQKICAgICAgaXNWaXNpYmxlOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb21wdXRlZExhbmc6IGZ1bmN0aW9uIGNvbXB1dGVkTGFuZygpIHsKICAgICAgcmV0dXJuICh0aGlzLmxvY2FsTG9jYWxlIHx8ICcnKS5yZXBsYWNlKC8tdS0uKiQvaSwgJycpIHx8IG51bGw7CiAgICB9CiAgfSwKICB3YXRjaDogKF93YXRjaCA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX3dhdGNoLCBNT0RFTF9QUk9QX05BTUUsIGZ1bmN0aW9uIChuZXdWYWx1ZSkgewogICAgdGhpcy5sb2NhbEhNUyA9IG5ld1ZhbHVlIHx8ICcnOwogIH0pLCBfZGVmaW5lUHJvcGVydHkoX3dhdGNoLCAibG9jYWxITVMiLCBmdW5jdGlvbiBsb2NhbEhNUyhuZXdWYWx1ZSkgewogICAgLy8gV2Ugb25seSB1cGRhdGUgdGhlIHYtbW9kZWwgdmFsdWUgd2hlbiB0aGUgdGltZXBpY2tlcgogICAgLy8gaXMgb3BlbiwgdG8gcHJldmVudCBjdXJzb3IganVtcHMgd2hlbiBib3VuZCB0byBhCiAgICAvLyB0ZXh0IGlucHV0IGluIGJ1dHRvbiBvbmx5IG1vZGUKICAgIGlmICh0aGlzLmlzVmlzaWJsZSkgewogICAgICB0aGlzLiRlbWl0KE1PREVMX0VWRU5UX05BTUUsIG5ld1ZhbHVlIHx8ICcnKTsKICAgIH0KICB9KSwgX3dhdGNoKSwKICBtZXRob2RzOiB7CiAgICAvLyBQdWJsaWMgbWV0aG9kcwogICAgZm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkgewogICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHsKICAgICAgICBhdHRlbXB0Rm9jdXModGhpcy4kcmVmcy5jb250cm9sKTsKICAgICAgfQogICAgfSwKICAgIGJsdXI6IGZ1bmN0aW9uIGJsdXIoKSB7CiAgICAgIGlmICghdGhpcy5kaXNhYmxlZCkgewogICAgICAgIGF0dGVtcHRCbHVyKHRoaXMuJHJlZnMuY29udHJvbCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBQcml2YXRlIG1ldGhvZHMKICAgIHNldEFuZENsb3NlOiBmdW5jdGlvbiBzZXRBbmRDbG9zZSh2YWx1ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2NhbEhNUyA9IHZhbHVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJHJlZnMuY29udHJvbC5oaWRlKHRydWUpOwogICAgICB9KTsKICAgIH0sCiAgICBvbklucHV0OiBmdW5jdGlvbiBvbklucHV0KGhtcykgewogICAgICBpZiAodGhpcy5sb2NhbEhNUyAhPT0gaG1zKSB7CiAgICAgICAgdGhpcy5sb2NhbEhNUyA9IGhtczsKICAgICAgfQogICAgfSwKICAgIG9uQ29udGV4dDogZnVuY3Rpb24gb25Db250ZXh0KGN0eCkgewogICAgICB2YXIgaXNSVEwgPSBjdHguaXNSVEwsCiAgICAgICAgICBsb2NhbGUgPSBjdHgubG9jYWxlLAogICAgICAgICAgdmFsdWUgPSBjdHgudmFsdWUsCiAgICAgICAgICBmb3JtYXR0ZWQgPSBjdHguZm9ybWF0dGVkOwogICAgICB0aGlzLmlzUlRMID0gaXNSVEw7CiAgICAgIHRoaXMubG9jYWxMb2NhbGUgPSBsb2NhbGU7CiAgICAgIHRoaXMuZm9ybWF0dGVkVmFsdWUgPSBmb3JtYXR0ZWQ7CiAgICAgIHRoaXMubG9jYWxITVMgPSB2YWx1ZSB8fCAnJzsgLy8gUmUtZW1pdCB0aGUgY29udGV4dCBldmVudAoKICAgICAgdGhpcy4kZW1pdChFVkVOVF9OQU1FX0NPTlRFWFQsIGN0eCk7CiAgICB9LAogICAgb25Ob3dCdXR0b246IGZ1bmN0aW9uIG9uTm93QnV0dG9uKCkgewogICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgICAgdmFyIGhvdXJzID0gbm93LmdldEhvdXJzKCk7CiAgICAgIHZhciBtaW51dGVzID0gbm93LmdldE1pbnV0ZXMoKTsKICAgICAgdmFyIHNlY29uZHMgPSB0aGlzLnNob3dTZWNvbmRzID8gbm93LmdldFNlY29uZHMoKSA6IDA7CiAgICAgIHZhciB2YWx1ZSA9IFtob3VycywgbWludXRlcywgc2Vjb25kc10ubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICIwMCIuY29uY2F0KHYgfHwgJycpLnNsaWNlKC0yKTsKICAgICAgfSkuam9pbignOicpOwogICAgICB0aGlzLnNldEFuZENsb3NlKHZhbHVlKTsKICAgIH0sCiAgICBvblJlc2V0QnV0dG9uOiBmdW5jdGlvbiBvblJlc2V0QnV0dG9uKCkgewogICAgICB0aGlzLnNldEFuZENsb3NlKHRoaXMucmVzZXRWYWx1ZSk7CiAgICB9LAogICAgb25DbG9zZUJ1dHRvbjogZnVuY3Rpb24gb25DbG9zZUJ1dHRvbigpIHsKICAgICAgdGhpcy4kcmVmcy5jb250cm9sLmhpZGUodHJ1ZSk7CiAgICB9LAogICAgb25TaG93OiBmdW5jdGlvbiBvblNob3coKSB7CiAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBvblNob3duOiBmdW5jdGlvbiBvblNob3duKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBhdHRlbXB0Rm9jdXMoX3RoaXMyLiRyZWZzLnRpbWUpOwoKICAgICAgICBfdGhpczIuJGVtaXQoRVZFTlRfTkFNRV9TSE9XTik7CiAgICAgIH0pOwogICAgfSwKICAgIG9uSGlkZGVuOiBmdW5jdGlvbiBvbkhpZGRlbigpIHsKICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy4kZW1pdChFVkVOVF9OQU1FX0hJRERFTik7CiAgICB9LAogICAgLy8gUmVuZGVyIGZ1bmN0aW9uIGhlbHBlcnMKICAgIGRlZmF1bHRCdXR0b25GbjogZnVuY3Rpb24gZGVmYXVsdEJ1dHRvbkZuKF9yZWYpIHsKICAgICAgdmFyIGlzSG92ZXJlZCA9IF9yZWYuaXNIb3ZlcmVkLAogICAgICAgICAgaGFzRm9jdXMgPSBfcmVmLmhhc0ZvY3VzOwogICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChpc0hvdmVyZWQgfHwgaGFzRm9jdXMgPyBCSWNvbkNsb2NrRmlsbCA6IEJJY29uQ2xvY2ssIHsKICAgICAgICBhdHRyczogewogICAgICAgICAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHZhciBsb2NhbEhNUyA9IHRoaXMubG9jYWxITVMsCiAgICAgICAgZGlzYWJsZWQgPSB0aGlzLmRpc2FibGVkLAogICAgICAgIHJlYWRvbmx5ID0gdGhpcy5yZWFkb25seSwKICAgICAgICAkcHJvcHMgPSB0aGlzLiRwcm9wczsKICAgIHZhciBwbGFjZWhvbGRlciA9IGlzVW5kZWZpbmVkT3JOdWxsKHRoaXMucGxhY2Vob2xkZXIpID8gdGhpcy5sYWJlbE5vVGltZVNlbGVjdGVkIDogdGhpcy5wbGFjZWhvbGRlcjsgLy8gRm9vdGVyIGJ1dHRvbnMKCiAgICB2YXIgJGZvb3RlciA9IFtdOwoKICAgIGlmICh0aGlzLm5vd0J1dHRvbikgewogICAgICB2YXIgbGFiZWwgPSB0aGlzLmxhYmVsTm93QnV0dG9uOwogICAgICAkZm9vdGVyLnB1c2goaChCQnV0dG9uLCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIHNpemU6ICdzbScsCiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQgfHwgcmVhZG9ubHksCiAgICAgICAgICB2YXJpYW50OiB0aGlzLm5vd0J1dHRvblZhcmlhbnQKICAgICAgICB9LAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAnYXJpYS1sYWJlbCc6IGxhYmVsIHx8IG51bGwKICAgICAgICB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICBjbGljazogdGhpcy5vbk5vd0J1dHRvbgogICAgICAgIH0sCiAgICAgICAga2V5OiAnbm93LWJ0bicKICAgICAgfSwgbGFiZWwpKTsKICAgIH0KCiAgICBpZiAodGhpcy5yZXNldEJ1dHRvbikgewogICAgICBpZiAoJGZvb3Rlci5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8gQWRkIGEgInNwYWNlciIgYmV0d2VlbiBidXR0b25zICgnJm5ic3A7JykKICAgICAgICAkZm9vdGVyLnB1c2goaCgnc3BhbicsICJceEEwIikpOwogICAgICB9CgogICAgICB2YXIgX2xhYmVsID0gdGhpcy5sYWJlbFJlc2V0QnV0dG9uOwogICAgICAkZm9vdGVyLnB1c2goaChCQnV0dG9uLCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIHNpemU6ICdzbScsCiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQgfHwgcmVhZG9ubHksCiAgICAgICAgICB2YXJpYW50OiB0aGlzLnJlc2V0QnV0dG9uVmFyaWFudAogICAgICAgIH0sCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICdhcmlhLWxhYmVsJzogX2xhYmVsIHx8IG51bGwKICAgICAgICB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICBjbGljazogdGhpcy5vblJlc2V0QnV0dG9uCiAgICAgICAgfSwKICAgICAgICBrZXk6ICdyZXNldC1idG4nCiAgICAgIH0sIF9sYWJlbCkpOwogICAgfQoKICAgIGlmICghdGhpcy5ub0Nsb3NlQnV0dG9uKSB7CiAgICAgIC8vIEFkZCBhICJzcGFjZXIiIGJldHdlZW4gYnV0dG9ucyAoJyZuYnNwOycpCiAgICAgIGlmICgkZm9vdGVyLmxlbmd0aCA+IDApIHsKICAgICAgICAkZm9vdGVyLnB1c2goaCgnc3BhbicsICJceEEwIikpOwogICAgICB9CgogICAgICB2YXIgX2xhYmVsMiA9IHRoaXMubGFiZWxDbG9zZUJ1dHRvbjsKICAgICAgJGZvb3Rlci5wdXNoKGgoQkJ1dHRvbiwgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBzaXplOiAnc20nLAogICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLAogICAgICAgICAgdmFyaWFudDogdGhpcy5jbG9zZUJ1dHRvblZhcmlhbnQKICAgICAgICB9LAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAnYXJpYS1sYWJlbCc6IF9sYWJlbDIgfHwgbnVsbAogICAgICAgIH0sCiAgICAgICAgb246IHsKICAgICAgICAgIGNsaWNrOiB0aGlzLm9uQ2xvc2VCdXR0b24KICAgICAgICB9LAogICAgICAgIGtleTogJ2Nsb3NlLWJ0bicKICAgICAgfSwgX2xhYmVsMikpOwogICAgfQoKICAgIGlmICgkZm9vdGVyLmxlbmd0aCA+IDApIHsKICAgICAgJGZvb3RlciA9IFtoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdiLWZvcm0tZGF0ZS1jb250cm9scyBkLWZsZXggZmxleC13cmFwJywKICAgICAgICBjbGFzczogewogICAgICAgICAgJ2p1c3RpZnktY29udGVudC1iZXR3ZWVuJzogJGZvb3Rlci5sZW5ndGggPiAxLAogICAgICAgICAgJ2p1c3RpZnktY29udGVudC1lbmQnOiAkZm9vdGVyLmxlbmd0aCA8IDIKICAgICAgICB9CiAgICAgIH0sICRmb290ZXIpXTsKICAgIH0KCiAgICB2YXIgJHRpbWUgPSBoKEJUaW1lLCB7CiAgICAgIHN0YXRpY0NsYXNzOiAnYi1mb3JtLXRpbWUtY29udHJvbCcsCiAgICAgIHByb3BzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBsdWNrUHJvcHModGltZVByb3BzLCAkcHJvcHMpKSwge30sIHsKICAgICAgICB2YWx1ZTogbG9jYWxITVMsCiAgICAgICAgaGlkZGVuOiAhdGhpcy5pc1Zpc2libGUKICAgICAgfSksCiAgICAgIG9uOiB7CiAgICAgICAgaW5wdXQ6IHRoaXMub25JbnB1dCwKICAgICAgICBjb250ZXh0OiB0aGlzLm9uQ29udGV4dAogICAgICB9LAogICAgICByZWY6ICd0aW1lJwogICAgfSwgJGZvb3Rlcik7CiAgICByZXR1cm4gaChCVkZvcm1CdG5MYWJlbENvbnRyb2wsIHsKICAgICAgc3RhdGljQ2xhc3M6ICdiLWZvcm0tdGltZXBpY2tlcicsCiAgICAgIHByb3BzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBsdWNrUHJvcHMoZm9ybUJ0bkxhYmVsQ29udHJvbFByb3BzLCAkcHJvcHMpKSwge30sIHsKICAgICAgICBpZDogdGhpcy5zYWZlSWQoKSwKICAgICAgICB2YWx1ZTogbG9jYWxITVMsCiAgICAgICAgZm9ybWF0dGVkVmFsdWU6IGxvY2FsSE1TID8gdGhpcy5mb3JtYXR0ZWRWYWx1ZSA6ICcnLAogICAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciwKICAgICAgICBydGw6IHRoaXMuaXNSVEwsCiAgICAgICAgbGFuZzogdGhpcy5jb21wdXRlZExhbmcKICAgICAgfSksCiAgICAgIG9uOiB7CiAgICAgICAgc2hvdzogdGhpcy5vblNob3csCiAgICAgICAgc2hvd246IHRoaXMub25TaG93biwKICAgICAgICBoaWRkZW46IHRoaXMub25IaWRkZW4KICAgICAgfSwKICAgICAgc2NvcGVkU2xvdHM6IF9kZWZpbmVQcm9wZXJ0eSh7fSwgU0xPVF9OQU1FX0JVVFRPTl9DT05URU5ULCB0aGlzLiRzY29wZWRTbG90c1tTTE9UX05BTUVfQlVUVE9OX0NPTlRFTlRdIHx8IHRoaXMuZGVmYXVsdEJ1dHRvbkZuKSwKICAgICAgcmVmOiAnY29udHJvbCcKICAgIH0sIFskdGltZV0pOwogIH0KfSk7"},null]}