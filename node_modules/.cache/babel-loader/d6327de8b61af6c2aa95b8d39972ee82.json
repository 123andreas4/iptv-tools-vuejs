{"remainingRequest":"/home/ernst/Desktop/IPTV-Tools/node_modules/babel-loader/lib/index.js!/home/ernst/Desktop/IPTV-Tools/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ernst/Desktop/IPTV-Tools/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ernst/Desktop/IPTV-Tools/src/views/app/xtream/editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ernst/Desktop/IPTV-Tools/src/views/app/xtream/editor.vue","mtime":1623247093223},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ernst/Desktop/IPTV-Tools/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9lcm5zdC9EZXNrdG9wL0lQVFYtVG9vbHMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvZXJuc3QvRGVza3RvcC9JUFRWLVRvb2xzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgovKiBlc2xpbnQtZGlzYWJsZSB2dWUvbm8tc2lkZS1lZmZlY3RzLWluLWNvbXB1dGVkLXByb3BlcnRpZXMgKi8KCi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovCgovKiBlc2xpbnQtZGlzYWJsZSBuby11c2VsZXNzLWVzY2FwZSAqLwppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL2VidXMiOwppbXBvcnQgeyBodHRwU2VydmljZSB9IGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL2h0dHAiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCBkcmFnZ2FibGUgZnJvbSAidnVlZHJhZ2dhYmxlIjsKaW1wb3J0IHsgU3Vic2NyaXB0aW9uVHlwZSB9IGZyb20gIi4uLy4uLy4uL2NvbnN0YW50cy9jb25maWciOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmVUYWI6IDAsCiAgICAgIGFjdGl2ZUdyb3VwOiAtMSwKICAgICAgYWN0aXZlR3JvdXBzOiBbXSwKICAgICAgYWN0aXZlU3RyZWFtOiAtMSwKICAgICAgYWN0aXZlU3RyZWFtczogW10sCiAgICAgIGRyYWdHcm91cDogZmFsc2UsCiAgICAgIGRyYWdTdHJlYW06IGZhbHNlLAogICAgICBlZGl0b3I6IGZhbHNlLAogICAgICBzZWFyY2g6IG51bGwsCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIHBsYXlsaXN0RWRpdG9yOiB7CiAgICAgICAgaWQ6IHVuZGVmaW5lZCwKICAgICAgICBwbGF5bGlzdDogbnVsbCwKICAgICAgICBncm91cHM6IFtdLAogICAgICAgIHN0cmVhbXM6IFtdLAogICAgICAgIGNoYW5nZWQ6IGZhbHNlCiAgICAgIH0sCiAgICAgIGZpbmRSZXBsYWNlOiB7CiAgICAgICAgdHlwZTogMCwKICAgICAgICBtb2RhbDogZmFsc2UsCiAgICAgICAgZnJvbTogIiIsCiAgICAgICAgdG86ICIiLAogICAgICAgIHJlcGxhY2VBbGw6IGZhbHNlLAogICAgICAgIGlnbm9yZUNhc2U6IGZhbHNlLAogICAgICAgIHNlbGVjdGVkT25seTogMAogICAgICB9LAogICAgICBwcmVmaXhTdWZmaXg6IHsKICAgICAgICB0eXBlOiAwLAogICAgICAgIG1vZGFsOiBmYWxzZSwKICAgICAgICBwcmVmaXg6ICIiLAogICAgICAgIHN1ZmZpeDogIiIsCiAgICAgICAgc2VsZWN0ZWRPbmx5OiAwCiAgICAgIH0sCiAgICAgIGNvbnZlcnRDYXNlOiB7CiAgICAgICAgdHlwZTogMCwKICAgICAgICBtb2RhbDogZmFsc2UsCiAgICAgICAgbWV0aG9kOiAwLAogICAgICAgIHNlbGVjdGVkT25seTogMAogICAgICB9LAogICAgICBncm91cEVkaXRvcjogewogICAgICAgIG1vZGFsOiBmYWxzZSwKICAgICAgICBpZDogMCwKICAgICAgICBncm91cF9uYW1lOiAiIiwKICAgICAgICBncm91cF9wYXJlbnRfY29kZTogIiIsCiAgICAgICAgZ3JvdXBfdHlwZTogMSwKICAgICAgICBncm91cF9pc19oaWRkZW46IDAKICAgICAgfSwKICAgICAgc3RyZWFtRWRpdG9yOiB7CiAgICAgICAgbW9kYWw6IGZhbHNlLAogICAgICAgIGlkOiAtMSwKICAgICAgICBzdHJlYW1fdHZnX25hbWU6ICIiLAogICAgICAgIHN0cmVhbV90dmdfaWQ6ICIiLAogICAgICAgIHN0cmVhbV90dmdfbG9nbzogIiIsCiAgICAgICAgc3RyZWFtX3BhcmVudF9jb2RlOiAiIiwKICAgICAgICBzdHJlYW1fcmFkaW86IDAsCiAgICAgICAgc3RyZWFtX2lzX2hpZGRlbjogMCwKICAgICAgICBtb3ZpZV9uYW1lOiAiIiwKICAgICAgICBtb3ZpZV95ZWFyOiAiIiwKICAgICAgICBzZXJpZV9uYW1lOiAiIiwKICAgICAgICBzZXJpZV9zZWFzb246IDAsCiAgICAgICAgc2VyaWVfZXBpc29kZTogMAogICAgICB9LAogICAgICByYWRpb0Jyb3dzZXI6IHsKICAgICAgICBtb2RhbDogZmFsc2UsCiAgICAgICAgYm91bmNlOiBudWxsLAogICAgICAgIGFjdGl2ZTogW10sCiAgICAgICAgc2VhcmNoOiAiIiwKICAgICAgICByZXN1bHRzOiBbXQogICAgICB9LAogICAgICBzb3VuZGNsb3VkOiB7CiAgICAgICAgbW9kYWw6IGZhbHNlLAogICAgICAgIGJvdW5jZTogbnVsbCwKICAgICAgICB1cmw6ICIiLAogICAgICAgIHRyYWNrOiBudWxsCiAgICAgIH0sCiAgICAgIHNhdmVDaGFuZ2VzOiB7CiAgICAgICAgbW9kYWw6IGZhbHNlCiAgICAgIH0sCiAgICAgIGdyb3VwVHlwZXM6IFt7CiAgICAgICAgdGV4dDogdGhpcy4kdCgieHRyZWFtLmxpdmUiKSwKICAgICAgICB2YWx1ZTogMQogICAgICB9LCB7CiAgICAgICAgdGV4dDogdGhpcy4kdCgieHRyZWFtLm1vdmllcyIpLAogICAgICAgIHZhbHVlOiAyCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB0aGlzLiR0KCJ4dHJlYW0uc2VyaWVzIiksCiAgICAgICAgdmFsdWU6IDMKICAgICAgfV0KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsiY3VycmVudFVzZXIiLCAic2V0dGluZ3MiLCAic291bmRjbG91ZENsaWVudElkIl0pKSwge30sIHsKICAgIHNlYXJjaEZpbHRlcmVkOiBmdW5jdGlvbiBzZWFyY2hGaWx0ZXJlZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnNlYXJjaCA9PT0gbnVsbCkgewogICAgICAgIHJldHVybiB0aGlzLmFjY291bnRzOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAodGhpcy5zZWFyY2gsICJpIik7CiAgICAgICAgcmV0dXJuIHRoaXMuYWNjb3VudHMuZmlsdGVyKGZ1bmN0aW9uIChhY2NvdW50KSB7CiAgICAgICAgICByZXR1cm4gU3RyaW5nKGFjY291bnQudGl0bGUpLm1hdGNoKHJlKSB8fCBTdHJpbmcoYWNjb3VudC5ob3N0KS5tYXRjaChyZSkgfHwgU3RyaW5nKGFjY291bnQucG9ydCkubWF0Y2gocmUpIHx8IFN0cmluZyhhY2NvdW50LnVzZXJuYW1lKS5tYXRjaChyZSkgfHwgU3RyaW5nKGFjY291bnQucGFzc3dvcmQpLm1hdGNoKHJlKSB8fCBfdGhpcy5mb3JtYXREYXRlKGFjY291bnQuc3luY2VkX2F0KS5tYXRjaChyZSkgfHwgX3RoaXMuJHQoInN5bmMtaW50ZXJ2YWwuIi5jb25jYXQoYWNjb3VudC5zeW5jX2ludGVydmFsKSkubWF0Y2gocmUpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcGxheWxpc3RTZWxlY3RlZDogZnVuY3Rpb24gcGxheWxpc3RTZWxlY3RlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RFZGl0b3IuaWQgIT09IHVuZGVmaW5lZDsKICAgIH0sCiAgICBsYXN0U2VsZWN0ZWRHcm91cDogZnVuY3Rpb24gbGFzdFNlbGVjdGVkR3JvdXAoKSB7CiAgICAgIHJldHVybiB0aGlzLmFjdGl2ZUdyb3Vwc1t0aGlzLmFjdGl2ZUdyb3Vwcy5sZW5ndGggLSAxXTsKICAgIH0sCiAgICBsYXN0U2VsZWN0ZWRTdHJlYW06IGZ1bmN0aW9uIGxhc3RTZWxlY3RlZFN0cmVhbSgpIHsKICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlU3RyZWFtc1t0aGlzLmFjdGl2ZVN0cmVhbXMubGVuZ3RoIC0gMV07CiAgICB9LAogICAgY2FuRWRpdEdyb3VwVHlwZTogZnVuY3Rpb24gY2FuRWRpdEdyb3VwVHlwZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZ3JvdXBFZGl0b3IuaWQgJiYgdGhpcy5nZXRHcm91cFdpdGhJZCh0aGlzLmdyb3VwRWRpdG9yLmlkKS5zdHJlYW1zID09IDA7CiAgICB9LAogICAgZ3JvdXBEcmFnT3B0aW9uczogZnVuY3Rpb24gZ3JvdXBEcmFnT3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBhbmltYXRpb246IDIwMCwKICAgICAgICBncm91cDogImdyb3VwcyIsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIGdob3N0Q2xhc3M6ICJnaG9zdCIsCiAgICAgICAgbXVsdGlEcmFnOiB0cnVlLAogICAgICAgIHNlbGVjdGVkQ2xhc3M6ICJzZWxlY3RlZCIKICAgICAgfTsKICAgIH0sCiAgICBzdHJlYW1EcmFnT3B0aW9uczogZnVuY3Rpb24gc3RyZWFtRHJhZ09wdGlvbnMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgYW5pbWF0aW9uOiAyMDAsCiAgICAgICAgZ3JvdXA6ICJzdHJlYW1zIiwKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgZ2hvc3RDbGFzczogImdob3N0IiwKICAgICAgICBtdWx0aURyYWc6IHRydWUsCiAgICAgICAgc2VsZWN0ZWRDbGFzczogInNlbGVjdGVkIgogICAgICB9OwogICAgfSwKICAgIHN1YnNjcmlwdGlvbkxpbWl0ZWQ6IGZ1bmN0aW9uIHN1YnNjcmlwdGlvbkxpbWl0ZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRVc2VyLnN1YnNjcmlwdGlvbiAmJiB0aGlzLmN1cnJlbnRVc2VyLnN1YnNjcmlwdGlvbi5zdWJzY3JpcHRpb25fdHlwZSA9PSBTdWJzY3JpcHRpb25UeXBlLkVudGh1c2lhc3Q7CiAgICB9LAogICAgZmlsdGVyZWRHcm91cHM6IGZ1bmN0aW9uIGZpbHRlcmVkR3JvdXBzKCkgewogICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25MaW1pdGVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzLmZpbHRlcihmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICAgIHJldHVybiBncm91cC5ncm91cF9pc19yZW1vdmVkICE9PSAxICYmIGdyb3VwLnNvdXJjZV9ncm91cF90eXBlID09IDEgJiYgZ3JvdXAuZ3JvdXBfdHlwZSA9PSAxOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHMuZmlsdGVyKGZ1bmN0aW9uIChncm91cCkgewogICAgICAgIHJldHVybiBncm91cC5ncm91cF9pc19yZW1vdmVkICE9PSAxOwogICAgICB9KTsKICAgIH0sCiAgICBmaWx0ZXJlZFN0cmVhbXM6IGZ1bmN0aW9uIGZpbHRlcmVkU3RyZWFtcygpIHsKICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtcy5maWx0ZXIoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgcmV0dXJuIGdyb3VwLnN0cmVhbV9pc19yZW1vdmVkICE9PSAxOwogICAgICB9KTsKICAgIH0sCiAgICBhY3RpdmVHcm91cFR5cGU6IGZ1bmN0aW9uIGFjdGl2ZUdyb3VwVHlwZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgaW5kZXggPSB0aGlzLnBsYXlsaXN0RWRpdG9yLmdyb3Vwcy5maW5kSW5kZXgoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgcmV0dXJuIGdyb3VwLmlkID09IF90aGlzMi5hY3RpdmVHcm91cDsKICAgICAgfSk7CiAgICAgIHJldHVybiBpbmRleCA+IC0xID8gdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHNbaW5kZXhdLmdyb3VwX3R5cGUgOiAwOwogICAgfSwKICAgIGdyb3VwQ29udGV4dE1lbnU6IGZ1bmN0aW9uIGdyb3VwQ29udGV4dE1lbnUoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHJldHVybiBbewogICAgICAgIGljb246ICJsYS1wbHVzIiwKICAgICAgICB0ZXh0OiB2bS4kdCgiZWRpdG9yLmFkZC1ncm91cCIpLAogICAgICAgIG9uQ2xpY2s6IHZtLmFkZEdyb3VwCiAgICAgIH0sIHsKICAgICAgICBkaXNhYmxlZDogdm0uYWN0aXZlR3JvdXBzLmxlbmd0aCAhPT0gMSwKICAgICAgICBpY29uOiAibGEtZWRpdCIsCiAgICAgICAgdGV4dDogdm0uJHQoImVkaXRvci5lZGl0LWdyb3VwIiksCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIGlmICh2bS5hY3RpdmVHcm91cHMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgIHZtLmVkaXRHcm91cE1vZGFsKHRydWUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGRpdmlkZXI6IHRydWUKICAgICAgfSwgewogICAgICAgIHRleHQ6IHZtLiR0KCJnZW5lcmFsLnNlbGVjdC1hbGwiKSwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgdm0uYWN0aXZlR3JvdXBzID0gX3RvQ29uc3VtYWJsZUFycmF5KHZtLnBsYXlsaXN0RWRpdG9yLmdyb3Vwcy5tYXAoZnVuY3Rpb24gKGcpIHsKICAgICAgICAgICAgcmV0dXJuIGcuaWQ7CiAgICAgICAgICB9KSk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgdGV4dDogdm0uJHQoImdlbmVyYWwuc2VsZWN0LW5vbmUiKSwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgdm0uYWN0aXZlR3JvdXBzID0gW107CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgZGl2aWRlcjogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgaWNvbjogImxhLXNlYXJjaCIsCiAgICAgICAgdGV4dDogdm0uJHQoImVkaXRvci5maW5kLXJlcGxhY2UiKSwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgdm0uZmluZEFuZFJlcGxhY2VNb2RhbCh0cnVlLCAxKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBpY29uOiAibGEtcGVuIiwKICAgICAgICB0ZXh0OiB2bS4kdCgiZWRpdG9yLmFkZC1wcmVmaXgtc3VmZml4IiksCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHZtLnByZWZpeFN1ZmZpeE1vZGFsKHRydWUsIDEpOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGljb246ICJsYS1mb250IiwKICAgICAgICB0ZXh0OiB2bS4kdCgiZWRpdG9yLmNoYW5nZS1jYXNlIiksCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHZtLmNvbnZlcnRDYXNlTW9kYWwodHJ1ZSwgMSk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgZGl2aWRlcjogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgZGlzYWJsZWQ6IHZtLmFjdGl2ZUdyb3Vwcy5sZW5ndGggPT09IDAsCiAgICAgICAgaWNvbjogImxhLWV5ZSIsCiAgICAgICAgdGV4dDogdm0uJHQoImVkaXRvci50b2dnbGUtdmlzaWJpbGl0eSIpLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICBpZiAodm0uYWN0aXZlR3JvdXBzLmxlbmd0aCkgewogICAgICAgICAgICB2bS50b2dnbGVHcm91cFZpc2liaWxpdHkoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBkaXNhYmxlZDogdm0uYWN0aXZlR3JvdXBzLmxlbmd0aCA9PT0gMCwKICAgICAgICBpY29uOiAibGEtdHJhc2giLAogICAgICAgIHRleHQ6IHZtLiR0KCJlZGl0b3IuZGVsZXRlIiksCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIGlmICh2bS5hY3RpdmVHcm91cHMubGVuZ3RoKSB7CiAgICAgICAgICAgIHZtLmRlbGV0ZVNlbGVjdGVkR3JvdXBzKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9XTsKICAgIH0sCiAgICBzdHJlYW1Db250ZXh0TWVudTogZnVuY3Rpb24gc3RyZWFtQ29udGV4dE1lbnUoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHJldHVybiBbewogICAgICAgIGljb246ICJsYS1wbHVzIiwKICAgICAgICB0ZXh0OiB2bS4kdCgiZWRpdG9yLmFkZC1zdHJlYW0iKSwKICAgICAgICBvbkNsaWNrOiB2bS5hZGRHcm91cAogICAgICB9LCB7CiAgICAgICAgZGlzYWJsZWQ6IHZtLmFjdGl2ZVN0cmVhbXMubGVuZ3RoICE9PSAxLAogICAgICAgIGljb246ICJsYS1lZGl0IiwKICAgICAgICB0ZXh0OiB2bS4kdCgiZWRpdG9yLmVkaXQtc3RyZWFtIiksCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIGlmICh2bS5hY3RpdmVTdHJlYW1zLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICB2bS5lZGl0U3RyZWFtTW9kYWwodHJ1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgZGl2aWRlcjogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgdGV4dDogdm0uJHQoImdlbmVyYWwuc2VsZWN0LWFsbCIpLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICB2bS5hY3RpdmVTdHJlYW1zID0gX3RvQ29uc3VtYWJsZUFycmF5KHZtLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXMubWFwKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgICAgIHJldHVybiBnLmlkOwogICAgICAgICAgfSkpOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIHRleHQ6IHZtLiR0KCJnZW5lcmFsLnNlbGVjdC1ub25lIiksCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHZtLmFjdGl2ZVN0cmVhbXMgPSBbXTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBkaXZpZGVyOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBkaXNhYmxlZDogdm0uYWN0aXZlR3JvdXBzLmxlbmd0aCAhPT0gMSB8fCB2bS5hY3RpdmVTdHJlYW1zLmxlbmd0aCA9PT0gMCB8fCB2bS5nZXRHcm91cFdpdGhJZCh2bS5hY3RpdmVHcm91cHNbMF0pLmdyb3VwX3R5cGUgIT09IHZtLmFjdGl2ZUdyb3VwVHlwZSB8fCB2bS5hY3RpdmVHcm91cHNbMF0gPT09IHZtLmFjdGl2ZUdyb3VwLAogICAgICAgIGljb246ICJsYS1jaGV2cm9uLWxlZnQiLAogICAgICAgIHRleHQ6IHZtLiR0KCJlZGl0b3IubW92ZS10by1zZWxlY3RlZC1ncm91cCIpLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICB2bS5tb3ZlVG9TZWxlY3RlZEdyb3VwKCk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgZGl2aWRlcjogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgaWNvbjogImxhLXNlYXJjaCIsCiAgICAgICAgdGV4dDogdm0uJHQoImVkaXRvci5maW5kLXJlcGxhY2UiKSwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgdm0uZmluZEFuZFJlcGxhY2VNb2RhbCh0cnVlLCAyKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBpY29uOiAibGEtcGVuIiwKICAgICAgICB0ZXh0OiB2bS4kdCgiZWRpdG9yLmFkZC1wcmVmaXgtc3VmZml4IiksCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHZtLnByZWZpeFN1ZmZpeE1vZGFsKHRydWUsIDIpOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGljb246ICJsYS1mb250IiwKICAgICAgICB0ZXh0OiB2bS4kdCgiZWRpdG9yLmNoYW5nZS1jYXNlIiksCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHZtLmNvbnZlcnRDYXNlTW9kYWwodHJ1ZSwgMik7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgZGl2aWRlcjogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgZGlzYWJsZWQ6IHZtLmFjdGl2ZVN0cmVhbXMubGVuZ3RoID09PSAwIHx8IHZtLmFjdGl2ZUdyb3VwVHlwZSAhPT0gMSwKICAgICAgICBpY29uOiAibGEtbXVzaWMiLAogICAgICAgIHRleHQ6IHZtLiR0KCJlZGl0b3IudG9nZ2xlLXJhZGlvIiksCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIGlmICh2bS5hY3RpdmVTdHJlYW1zLmxlbmd0aCAmJiB2bS5hY3RpdmVHcm91cFR5cGUgPT0gMSkgewogICAgICAgICAgICB2bS50b2dnbGVTdHJlYW1SYWRpbygpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGRpc2FibGVkOiB2bS5hY3RpdmVTdHJlYW1zLmxlbmd0aCA9PT0gMCwKICAgICAgICBpY29uOiAibGEtZXllIiwKICAgICAgICB0ZXh0OiB2bS4kdCgiZWRpdG9yLnRvZ2dsZS12aXNpYmlsaXR5IiksCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIGlmICh2bS5hY3RpdmVTdHJlYW1zLmxlbmd0aCkgewogICAgICAgICAgICB2bS50b2dnbGVTdHJlYW1WaXNpYmlsaXR5KCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgZGl2aWRlcjogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgZGlzYWJsZWQ6IHZtLmFjdGl2ZVN0cmVhbXMubGVuZ3RoID09PSAwLAogICAgICAgIGljb246ICJsYS10cmFzaCIsCiAgICAgICAgdGV4dDogdm0uJHQoImVkaXRvci5kZWxldGUiKSwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgaWYgKHZtLmFjdGl2ZVN0cmVhbXMubGVuZ3RoKSB7CiAgICAgICAgICAgIHZtLmRlbGV0ZVNlbGVjdGVkU3RyZWFtcygpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfV07CiAgICB9CiAgfSksCiAgbWV0aG9kczogewogICAgZ3JvdXBEcmFnQ2hhbmdlZDogZnVuY3Rpb24gZ3JvdXBEcmFnQ2hhbmdlZChnKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHNbaV0uZ3JvdXBfb3JkZXIgIT0gaSArIDEpIHsKICAgICAgICAgIHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzW2ldLmdyb3VwX29yZGVyID0gaSArIDE7CiAgICAgICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLmdyb3Vwc1tpXS5tb2RpZmllZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc3RyZWFtRHJhZ0NoYW5nZWQ6IGZ1bmN0aW9uIHN0cmVhbURyYWdDaGFuZ2VkKGcpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW2ldLnN0cmVhbV9vcmRlciAhPSBpICsgMSkgewogICAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW2ldLnN0cmVhbV9vcmRlciA9IGkgKyAxOwogICAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW2ldLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBvcGVuQ29udGV4dDogZnVuY3Rpb24gb3BlbkNvbnRleHQoY29udGV4dCkgewogICAgICB0aGlzLiRyZWZzW2NvbnRleHRdLm9wZW4oKTsKICAgIH0sCiAgICBzZWFyY2hFZGl0b3I6IGZ1bmN0aW9uIHNlYXJjaEVkaXRvcihzZWFyY2gpIHsKICAgICAgaWYgKHNlYXJjaC5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLnNlYXJjaCA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWFyY2ggPSBzZWFyY2g7CiAgICAgIH0KICAgIH0sCiAgICBwcmludEVkaXRvcjogZnVuY3Rpb24gcHJpbnRFZGl0b3IoKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlZGl0b3IiKS5wcmludCgpOwogICAgfSwKICAgIGZvcm1hdE51bWJlcjogZnVuY3Rpb24gZm9ybWF0TnVtYmVyKG51bWJlcikgewogICAgICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KHRoaXMuJHQoImRhdGUubG9jYWxlIikpLmZvcm1hdChudW1iZXIpOwogICAgfSwKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkgewogICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZSkudG9Mb2NhbGVTdHJpbmcodGhpcy4kdCgiZGF0ZS5sb2NhbGUiKSwgdGhpcy5kYXRlT3B0aW9ucyk7CiAgICB9LAogICAgZm9ybWF0RGF0ZVlvdXR1YmU6IGZ1bmN0aW9uIGZvcm1hdERhdGVZb3V0dWJlKGRhdGUpIHsKICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZyh0aGlzLiR0KCJkYXRlLmxvY2FsZSIpLCB7CiAgICAgICAgeWVhcjogIm51bWVyaWMiLAogICAgICAgIG1vbnRoOiAic2hvcnQiLAogICAgICAgIGRheTogIm51bWVyaWMiCiAgICAgIH0pOwogICAgfSwKICAgIGZvcm1hdFNlY29uZHM6IGZ1bmN0aW9uIGZvcm1hdFNlY29uZHMoc2VjKSB7CiAgICAgIHZhciBkID0gTnVtYmVyKHNlYyk7CiAgICAgIHZhciBoID0gTWF0aC5mbG9vcihkIC8gMzYwMCk7CiAgICAgIHZhciBtID0gTWF0aC5mbG9vcihkICUgMzYwMCAvIDYwKTsKICAgICAgdmFyIHMgPSBNYXRoLmZsb29yKGQgJSAzNjAwICUgNjApOwogICAgICB2YXIgaG91ciA9IHRoaXMuJHQoImdlbmVyYWwuaG91ciIpOwogICAgICB2YXIgaG91cnMgPSB0aGlzLiR0KCJnZW5lcmFsLmhvdXJzIik7CiAgICAgIHZhciBtaW51dGUgPSB0aGlzLiR0KCJnZW5lcmFsLm1pbnV0ZSIpOwogICAgICB2YXIgbWludXRlcyA9IHRoaXMuJHQoImdlbmVyYWwubWludXRlcyIpOwogICAgICB2YXIgc2Vjb25kID0gdGhpcy4kdCgiZ2VuZXJhbC5zZWNvbmQiKTsKICAgICAgdmFyIHNlY29uZHMgPSB0aGlzLiR0KCJnZW5lcmFsLnNlY29uZHMiKTsKICAgICAgdmFyIGhEaXNwbGF5ID0gaCA+IDAgPyBoICsgKGggPT0gMSA/ICIgIi5jb25jYXQoaG91ciwgIiAiKSA6ICIgIi5jb25jYXQoaG91cnMsICIgIikpIDogIiI7CiAgICAgIHZhciBtRGlzcGxheSA9IG0gPiAwID8gbSArIChtID09IDEgPyAiICIuY29uY2F0KG1pbnV0ZSwgIiAiKSA6ICIgIi5jb25jYXQobWludXRlcywgIiAiKSkgOiAiIjsKICAgICAgdmFyIHNEaXNwbGF5ID0gcyA+IDAgPyBzICsgKHMgPT0gMSA/ICIgIi5jb25jYXQoc2Vjb25kLCAiICIpIDogIiAiLmNvbmNhdChzZWNvbmRzLCAiICIpKSA6ICIiOwogICAgICByZXR1cm4gaERpc3BsYXkgKyBtRGlzcGxheSArIHNEaXNwbGF5OwogICAgfSwKICAgIGdldEdyb3VwV2l0aElkOiBmdW5jdGlvbiBnZXRHcm91cFdpdGhJZChpZCkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLnBsYXlsaXN0RWRpdG9yLmdyb3Vwcy5maW5kSW5kZXgoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgcmV0dXJuIGdyb3VwLmlkID09IGlkOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzW2luZGV4XTsKICAgIH0sCiAgICBnZXRTdHJlYW1XaXRoSWQ6IGZ1bmN0aW9uIGdldFN0cmVhbVdpdGhJZChpZCkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXMuZmluZEluZGV4KGZ1bmN0aW9uIChzdHJlYW0pIHsKICAgICAgICByZXR1cm4gc3RyZWFtLmlkID09IGlkOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpbmRleF07CiAgICB9LAogICAgZG9TYXZlOiBmdW5jdGlvbiBkb1NhdmUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLmNoYW5nZWQgPSBmYWxzZTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgdmFyIGluZGV4ID0gX3RoaXMzLnBsYXlsaXN0RWRpdG9yLmdyb3Vwcy5maW5kSW5kZXgoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgICByZXR1cm4gZ3JvdXAuaWQgPT0gX3RoaXMzLmFjdGl2ZUdyb3VwOwogICAgICAgIH0pOwoKICAgICAgICB2YXIgdXBkYXRlR3JvdXBzID0gX3RoaXMzLnBsYXlsaXN0RWRpdG9yLmdyb3Vwcy5maWx0ZXIoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgICByZXR1cm4gIWdyb3VwLmdyb3VwX2lzX3JlbW92ZWQgJiYgZ3JvdXAubW9kaWZpZWQ7CiAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChncm91cCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaWQ6IGdyb3VwLmlkLAogICAgICAgICAgICBncm91cF9uYW1lOiBncm91cC5ncm91cF9uYW1lLAogICAgICAgICAgICBncm91cF9vcmRlcjogZ3JvdXAuZ3JvdXBfb3JkZXIsCiAgICAgICAgICAgIGdyb3VwX3R5cGU6IGdyb3VwLmdyb3VwX3R5cGUsCiAgICAgICAgICAgIGdyb3VwX3BhcmVudF9jb2RlOiBncm91cC5ncm91cF9wYXJlbnRfY29kZSwKICAgICAgICAgICAgZ3JvdXBfaXNfaGlkZGVuOiBncm91cC5ncm91cF9pc19oaWRkZW4KICAgICAgICAgIH07CiAgICAgICAgfSk7CgogICAgICAgIHZhciBkZWxldGVHcm91cHMgPSBfdGhpczMucGxheWxpc3RFZGl0b3IuZ3JvdXBzLmZpbHRlcihmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICAgIHJldHVybiBncm91cC5ncm91cF9pc19yZW1vdmVkICYmIGdyb3VwLm1vZGlmaWVkOwogICAgICAgIH0pLm1hcChmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICAgIHJldHVybiBncm91cC5pZDsKICAgICAgICB9KS5qb2luKCk7CgogICAgICAgIHZhciB1cGRhdGVTdHJlYW1zOwoKICAgICAgICBzd2l0Y2ggKF90aGlzMy5hY3RpdmVHcm91cFR5cGUpIHsKICAgICAgICAgIC8vIExpdmUgc3RyZWFtcwogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICB1cGRhdGVTdHJlYW1zID0gX3RoaXMzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXMuZmlsdGVyKGZ1bmN0aW9uIChzdHJlYW0pIHsKICAgICAgICAgICAgICByZXR1cm4gc3RyZWFtLnN0cmVhbV9pc19yZW1vdmVkICE9PSAxICYmIHN0cmVhbS5tb2RpZmllZDsKICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChzdHJlYW0pIHsKICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgaWQ6IHN0cmVhbS5pZCwKICAgICAgICAgICAgICAgIHN0cmVhbV90dmdfbmFtZTogc3RyZWFtLnN0cmVhbV90dmdfbmFtZSwKICAgICAgICAgICAgICAgIHN0cmVhbV90dmdfaWQ6IHN0cmVhbS5zdHJlYW1fdHZnX2lkLAogICAgICAgICAgICAgICAgc3RyZWFtX3R2Z19sb2dvOiBzdHJlYW0uc3RyZWFtX3R2Z19sb2dvLAogICAgICAgICAgICAgICAgc3RyZWFtX3BhcmVudF9jb2RlOiBzdHJlYW0uc3RyZWFtX3BhcmVudF9jb2RlLAogICAgICAgICAgICAgICAgc3RyZWFtX3JhZGlvOiBzdHJlYW0uc3RyZWFtX3JhZGlvLAogICAgICAgICAgICAgICAgc3RyZWFtX2lzX2hpZGRlbjogc3RyZWFtLnN0cmVhbV9pc19oaWRkZW4sCiAgICAgICAgICAgICAgICBzdHJlYW1fb3JkZXI6IHN0cmVhbS5zdHJlYW1fb3JkZXIKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAvLyBNb3ZpZXMKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHVwZGF0ZVN0cmVhbXMgPSBfdGhpczMucGxheWxpc3RFZGl0b3Iuc3RyZWFtcy5maWx0ZXIoZnVuY3Rpb24gKHN0cmVhbSkgewogICAgICAgICAgICAgIHJldHVybiBzdHJlYW0uc3RyZWFtX2lzX3JlbW92ZWQgIT09IDEgJiYgc3RyZWFtLm1vZGlmaWVkOwogICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKHN0cmVhbSkgewogICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBpZDogc3RyZWFtLmlkLAogICAgICAgICAgICAgICAgbW92aWVfbmFtZTogc3RyZWFtLm1vdmllX25hbWUsCiAgICAgICAgICAgICAgICBtb3ZpZV95ZWFyOiBzdHJlYW0ubW92aWVfeWVhciwKICAgICAgICAgICAgICAgIHRtZGJfaWQ6IHN0cmVhbS50bWRiX2lkLAogICAgICAgICAgICAgICAgc3RyZWFtX3R2Z19sb2dvOiBzdHJlYW0uc3RyZWFtX3R2Z19sb2dvLAogICAgICAgICAgICAgICAgc3RyZWFtX2lzX2hpZGRlbjogc3RyZWFtLnN0cmVhbV9pc19oaWRkZW4sCiAgICAgICAgICAgICAgICBzdHJlYW1fb3JkZXI6IHN0cmVhbS5zdHJlYW1fb3JkZXIKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAvLyBTZXJpZXMKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHVwZGF0ZVN0cmVhbXMgPSBfdGhpczMucGxheWxpc3RFZGl0b3Iuc3RyZWFtcy5maWx0ZXIoZnVuY3Rpb24gKHN0cmVhbSkgewogICAgICAgICAgICAgIHJldHVybiBzdHJlYW0uc3RyZWFtX2lzX3JlbW92ZWQgIT09IDEgJiYgc3RyZWFtLm1vZGlmaWVkOwogICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKHN0cmVhbSkgewogICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBpZDogc3RyZWFtLmlkLAogICAgICAgICAgICAgICAgc2VyaWVfbmFtZTogc3RyZWFtLnNlcmllX25hbWUsCiAgICAgICAgICAgICAgICBzZXJpZV9zZWFzb246IHN0cmVhbS5zZXJpZV9zZWFzb24sCiAgICAgICAgICAgICAgICBzZXJpZV9lcGlzb2RlOiBzdHJlYW0uc2VyaWVfZXBpc29kZSwKICAgICAgICAgICAgICAgIHRtZGJfaWQ6IHN0cmVhbS50bWRiX2lkLAogICAgICAgICAgICAgICAgc3RyZWFtX3R2Z19sb2dvOiBzdHJlYW0uc3RyZWFtX3R2Z19sb2dvLAogICAgICAgICAgICAgICAgc3RyZWFtX2lzX2hpZGRlbjogc3RyZWFtLnN0cmVhbV9pc19oaWRkZW4sCiAgICAgICAgICAgICAgICBzdHJlYW1fb3JkZXI6IHN0cmVhbS5zdHJlYW1fb3JkZXIKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICB2YXIgZGVsZXRlU3RyZWFtcyA9IF90aGlzMy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zLmZpbHRlcihmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgICAgICByZXR1cm4gc3RyZWFtLnN0cmVhbV9pc19yZW1vdmVkID09PSAxICYmIHN0cmVhbS5tb2RpZmllZDsKICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKHN0cmVhbSkgewogICAgICAgICAgcmV0dXJuIHN0cmVhbS5pZDsKICAgICAgICB9KS5qb2luKCk7CgogICAgICAgIHZhciByZXF1ZXN0cyA9IFtdOwoKICAgICAgICBpZiAodXBkYXRlR3JvdXBzLmxlbmd0aCkgewogICAgICAgICAgcmVxdWVzdHMucHVzaChodHRwU2VydmljZS5wb3N0KCJlZGl0b3IvdXBkYXRlLWdyb3VwcyIsIHsKICAgICAgICAgICAgcGxheWxpc3RfaWQ6IF90aGlzMy5wbGF5bGlzdEVkaXRvci5pZCwKICAgICAgICAgICAgZ3JvdXBzOiB1cGRhdGVHcm91cHMKICAgICAgICAgIH0pKTsKICAgICAgICB9CgogICAgICAgIGlmIChkZWxldGVHcm91cHMubGVuZ3RoKSB7CiAgICAgICAgICByZXF1ZXN0cy5wdXNoKGh0dHBTZXJ2aWNlLnBvc3QoImVkaXRvci9kZWxldGUtZ3JvdXBzIiwgewogICAgICAgICAgICBwbGF5bGlzdF9pZDogX3RoaXMzLnBsYXlsaXN0RWRpdG9yLmlkLAogICAgICAgICAgICBncm91cHM6IGRlbGV0ZUdyb3VwcwogICAgICAgICAgfSkpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHVwZGF0ZVN0cmVhbXMubGVuZ3RoKSB7CiAgICAgICAgICByZXF1ZXN0cy5wdXNoKGh0dHBTZXJ2aWNlLnBvc3QoImVkaXRvci91cGRhdGUtc3RyZWFtcy8iLmNvbmNhdChfdGhpczMuYWN0aXZlR3JvdXBUeXBlKSwgewogICAgICAgICAgICBwbGF5bGlzdF9pZDogX3RoaXMzLnBsYXlsaXN0RWRpdG9yLmlkLAogICAgICAgICAgICBzdHJlYW1zOiB1cGRhdGVTdHJlYW1zCiAgICAgICAgICB9KSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoZGVsZXRlU3RyZWFtcy5sZW5ndGgpIHsKICAgICAgICAgIHJlcXVlc3RzLnB1c2goaHR0cFNlcnZpY2UucG9zdCgiZWRpdG9yL2RlbGV0ZS1zdHJlYW1zLyIuY29uY2F0KF90aGlzMy5hY3RpdmVHcm91cFR5cGUpLCB7CiAgICAgICAgICAgIHBsYXlsaXN0X2lkOiBfdGhpczMucGxheWxpc3RFZGl0b3IuaWQsCiAgICAgICAgICAgIHN0cmVhbXM6IGRlbGV0ZVN0cmVhbXMKICAgICAgICAgIH0pKTsKICAgICAgICB9CgogICAgICAgIFByb21pc2UuYWxsKHJlcXVlc3RzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMy5sb2FkUGxheWxpc3QoX3RoaXMzLnBsYXlsaXN0RWRpdG9yLmlkLCBpbmRleCk7CgogICAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBkb0NhbmNlbDogZnVuY3Rpb24gZG9DYW5jZWwoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBQcm9taXNlLmFsbChbdGhpcy5yZXN0b3JlR3JvdXBzKCksIHRoaXMucmVzdG9yZVN0cmVhbXMoKV0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC5wbGF5bGlzdEVkaXRvci5jaGFuZ2VkID0gZmFsc2U7CiAgICAgICAgX3RoaXM0LmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBkb1RhYkNoYW5nZTogZnVuY3Rpb24gZG9UYWJDaGFuZ2UodGFiKSB7CiAgICAgIHRoaXMuYWN0aXZlVGFiID0gdGFiOwogICAgfSwKICAgIHVwZGF0ZUdyb3VwT3JkZXI6IGZ1bmN0aW9uIHVwZGF0ZUdyb3VwT3JkZXIoc291cmNlKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIHZhciBncm91cHMgPSBfdG9Db25zdW1hYmxlQXJyYXkoc291cmNlKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGdyb3Vwc1tpXS5zb3VyY2VfZ3JvdXBfb3JkZXIgPSBpICsgMTsKICAgICAgICAgIGdyb3Vwc1tpXS5ncm91cF9vcmRlciA9IGkgKyAxOwogICAgICAgIH0KCiAgICAgICAgcmVzb2x2ZShncm91cHMpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVTdHJlYW1PcmRlcjogZnVuY3Rpb24gdXBkYXRlU3RyZWFtT3JkZXIoc291cmNlKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIHZhciBzdHJlYW1zID0gX3RvQ29uc3VtYWJsZUFycmF5KHNvdXJjZSk7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyZWFtcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgc3RyZWFtc1tpXS5zb3VyY2Vfc3RyZWFtX29yZGVyID0gaSArIDE7CiAgICAgICAgICBzdHJlYW1zW2ldLnN0cmVhbV9vcmRlciA9IGkgKyAxOwogICAgICAgIH0KCiAgICAgICAgcmVzb2x2ZShzdHJlYW1zKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzdG9yZUdyb3VwT3JkZXI6IGZ1bmN0aW9uIHJlc3RvcmVHcm91cE9yZGVyKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIF90aGlzNS5wbGF5bGlzdEVkaXRvci5ncm91cHMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgcmV0dXJuIGEuc291cmNlX2dyb3VwX29yZGVyID4gYi5zb3VyY2VfZ3JvdXBfb3JkZXIgPyAxIDogYi5zb3VyY2VfZ3JvdXBfb3JkZXIgPiBhLnNvdXJjZV9ncm91cF9vcmRlciA/IC0xIDogMDsKICAgICAgICB9KTsKCiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICByZXN0b3JlU3RyZWFtT3JkZXI6IGZ1bmN0aW9uIHJlc3RvcmVTdHJlYW1PcmRlcigpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICBfdGhpczYucGxheWxpc3RFZGl0b3Iuc3RyZWFtcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gYS5zb3VyY2Vfc3RyZWFtX29yZGVyID4gYi5zb3VyY2Vfc3RyZWFtX29yZGVyID8gMSA6IGIuc291cmNlX3N0cmVhbV9vcmRlciA+IGEuc291cmNlX3N0cmVhbV9vcmRlciA/IC0xIDogMDsKICAgICAgICB9KTsKCiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICByZXN0b3JlR3JvdXBzOiBmdW5jdGlvbiByZXN0b3JlR3JvdXBzKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIF90aGlzNy5yZXN0b3JlR3JvdXBPcmRlcigpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGdyb3VwOwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXM3LnBsYXlsaXN0RWRpdG9yLmdyb3Vwcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBncm91cCA9IF90aGlzNy5wbGF5bGlzdEVkaXRvci5ncm91cHNbaV07CiAgICAgICAgICAgIGdyb3VwLm1vZGlmaWVkID0gZmFsc2U7CiAgICAgICAgICAgIGdyb3VwLmdyb3VwX2lzX3JlbW92ZWQgPSAwOwogICAgICAgICAgICBncm91cC5ncm91cF90eXBlID0gZ3JvdXAuc291cmNlX2dyb3VwX3R5cGU7CiAgICAgICAgICAgIGdyb3VwLmdyb3VwX25hbWUgPSBncm91cC5zb3VyY2VfZ3JvdXBfbmFtZTsKICAgICAgICAgICAgZ3JvdXAucGFyZW50X2NvZGUgPSBncm91cC5zb3VyY2VfZ3JvdXBfcGFyZW50X2NvZGU7CiAgICAgICAgICAgIGdyb3VwLmdyb3VwX2lzX2hpZGRlbiA9IGdyb3VwLnNvdXJjZV9ncm91cF9pc19oaWRkZW47CiAgICAgICAgICB9CgogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICByZXN0b3JlU3RyZWFtczogZnVuY3Rpb24gcmVzdG9yZVN0cmVhbXMoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgX3RoaXM4LnJlc3RvcmVTdHJlYW1PcmRlcigpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHN0cmVhbTsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzOC5wbGF5bGlzdEVkaXRvci5zdHJlYW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHN0cmVhbSA9IF90aGlzOC5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW2ldOwogICAgICAgICAgICBzdHJlYW0ubW9kaWZpZWQgPSBmYWxzZTsKICAgICAgICAgICAgc3RyZWFtLnN0cmVhbV9pc19yZW1vdmVkID0gMDsKICAgICAgICAgICAgc3RyZWFtLnN0cmVhbV90dmdfbmFtZSA9IHN0cmVhbS5zb3VyY2Vfc3RyZWFtX3R2Z19uYW1lOwogICAgICAgICAgICBzdHJlYW0uc3RyZWFtX3R2Z19pZCA9IHN0cmVhbS5zb3VyY2Vfc3RyZWFtX3R2Z19pZDsKICAgICAgICAgICAgc3RyZWFtLnN0cmVhbV90dmdfbG9nbyA9IHN0cmVhbS5zb3VyY2Vfc3RyZWFtX3R2Z19sb2dvOwogICAgICAgICAgICBzdHJlYW0uc3RyZWFtX3R2Z19jaG5vID0gc3RyZWFtLnNvdXJjZV9zdHJlYW1fdHZnX2Nobm87CiAgICAgICAgICAgIHN0cmVhbS5zdHJlYW1fdHZnX3NoaWZ0ID0gc3RyZWFtLnNvdXJjZV9zdHJlYW1fdHZnX3NoaWZ0OwogICAgICAgICAgICBzdHJlYW0uc3RyZWFtX3BhcmVudF9jb2RlID0gc3RyZWFtLnNvdXJjZV9zdHJlYW1fcGFyZW50X2NvZGU7CiAgICAgICAgICAgIHN0cmVhbS5zdHJlYW1fYXVkaW9fdHJhY2sgPSBzdHJlYW0uc291cmNlX3N0cmVhbV9hdWRpb190cmFjazsKICAgICAgICAgICAgc3RyZWFtLnN0cmVhbV9hc3BlY3RfcmF0aW8gPSBzdHJlYW0uc291cmNlX3N0cmVhbV9hc3BlY3RfcmF0aW87CiAgICAgICAgICAgIHN0cmVhbS5zdHJlYW1fcmFkaW8gPSBzdHJlYW0uc291cmNlX3N0cmVhbV9yYWRpbzsKICAgICAgICAgICAgc3RyZWFtLnN0cmVhbV9vcmRlciA9IHN0cmVhbS5zb3VyY2Vfc3RyZWFtX29yZGVyOwogICAgICAgICAgICBzdHJlYW0uc3RyZWFtX2lzX2hpZGRlbiA9IHN0cmVhbS5zb3VyY2Vfc3RyZWFtX2lzX2hpZGRlbjsKCiAgICAgICAgICAgIGlmIChzdHJlYW0ubW92aWVfbmFtZSAhPT0gdW5kZWZpbmVkICYmIHN0cmVhbS5tb3ZpZV95ZWFyICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBzdHJlYW0ubW92aWVfbmFtZSA9IHN0cmVhbS5zb3VyY2VfbW92aWVfbmFtZTsKICAgICAgICAgICAgICBzdHJlYW0ubW92aWVfeWVhciA9IHN0cmVhbS5zb3VyY2VfbW92aWVfeWVhcjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHN0cmVhbS5zZXJpZV9uYW1lICE9PSB1bmRlZmluZWQgJiYgc3RyZWFtLnNlcmllX3NlYXNvbiAhPT0gdW5kZWZpbmVkICYmIHN0cmVhbS5zZXJpZV9lcGlzb2RlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBzdHJlYW0uc2VyaWVfbmFtZSA9IHN0cmVhbS5zb3VyY2Vfc2VyaWVfbmFtZTsKICAgICAgICAgICAgICBzdHJlYW0uc2VyaWVfc2Vhc29uID0gc3RyZWFtLnNvdXJjZV9zZXJpZV9zZWFzb247CiAgICAgICAgICAgICAgc3RyZWFtLnNlcmllX2VwaXNvZGUgPSBzdHJlYW0uc291cmNlX3NlcmllX2VwaXNvZGU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHRvZ2dsZUdyb3VwVmlzaWJpbGl0eTogZnVuY3Rpb24gdG9nZ2xlR3JvdXBWaXNpYmlsaXR5KCkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMuYWN0aXZlR3JvdXBzLmluY2x1ZGVzKHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzW2ldLmlkKSkgewogICAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHNbaV0uZ3JvdXBfaXNfaGlkZGVuID0gIXRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzW2ldLmdyb3VwX2lzX2hpZGRlbjsKICAgICAgICAgIHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzW2ldLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMucGxheWxpc3RFZGl0b3IuY2hhbmdlZCA9IHRydWU7CiAgICB9LAogICAgdG9nZ2xlU3RyZWFtVmlzaWJpbGl0eTogZnVuY3Rpb24gdG9nZ2xlU3RyZWFtVmlzaWJpbGl0eSgpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5hY3RpdmVTdHJlYW1zLmluY2x1ZGVzKHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpXS5pZCkpIHsKICAgICAgICAgIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpXS5zdHJlYW1faXNfaGlkZGVuID0gIXRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpXS5zdHJlYW1faXNfaGlkZGVuOwogICAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW2ldLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMucGxheWxpc3RFZGl0b3IuY2hhbmdlZCA9IHRydWU7CiAgICB9LAogICAgdG9nZ2xlU3RyZWFtUmFkaW86IGZ1bmN0aW9uIHRvZ2dsZVN0cmVhbVJhZGlvKCkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLmFjdGl2ZVN0cmVhbXMuaW5jbHVkZXModGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW2ldLmlkKSkgewogICAgICAgICAgaWYgKHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpXS5zdHJlYW1fcmFkaW8gPT0gMCkgewogICAgICAgICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbaV0uc3RyZWFtX3JhZGlvID0gMTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpXS5zdHJlYW1fcmFkaW8gPSAwOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpXS5tb2RpZmllZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLmNoYW5nZWQgPSB0cnVlOwogICAgfSwKICAgIGRlbGV0ZVNlbGVjdGVkR3JvdXBzOiBmdW5jdGlvbiBkZWxldGVTZWxlY3RlZEdyb3VwcygpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBsYXlsaXN0RWRpdG9yLmdyb3Vwcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLmFjdGl2ZUdyb3Vwcy5pbmNsdWRlcyh0aGlzLnBsYXlsaXN0RWRpdG9yLmdyb3Vwc1tpXS5pZCkpIHsKICAgICAgICAgIHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzW2ldLmdyb3VwX2lzX3JlbW92ZWQgPSAxOwogICAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHNbaV0ubW9kaWZpZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5jaGFuZ2VkID0gdHJ1ZTsKICAgIH0sCiAgICBkZWxldGVTZWxlY3RlZFN0cmVhbXM6IGZ1bmN0aW9uIGRlbGV0ZVNlbGVjdGVkU3RyZWFtcygpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5hY3RpdmVTdHJlYW1zLmluY2x1ZGVzKHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpXS5pZCkpIHsKICAgICAgICAgIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpXS5zdHJlYW1faXNfcmVtb3ZlZCA9IDE7CiAgICAgICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbaV0ubW9kaWZpZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5jaGFuZ2VkID0gdHJ1ZTsKICAgIH0sCiAgICBsb2FkUGxheWxpc3Q6IGZ1bmN0aW9uIGxvYWRQbGF5bGlzdCh2YWwpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICB2YXIgZ3JvdXBfaW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwoKICAgICAgaWYgKHRoaXMucGxheWxpc3RFZGl0b3IuY2hhbmdlZCkgewogICAgICAgIHRoaXMuZG9TYXZlKCk7CiAgICAgIH0KCiAgICAgIHRoaXMucGxheWxpc3RFZGl0b3IuaWQgPSB2YWw7CiAgICAgIGh0dHBTZXJ2aWNlLmdldCgiZWRpdG9yL2dyb3Vwcy8iLmNvbmNhdCh2YWwpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgX3RoaXM5LnVwZGF0ZUdyb3VwT3JkZXIocmVzLmRhdGEpLnRoZW4oZnVuY3Rpb24gKGdyb3VwcykgewogICAgICAgICAgICBfdGhpczkucGxheWxpc3RFZGl0b3IuZ3JvdXBzID0gZ3JvdXBzLm1hcChmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICAgICAgICB2YXIgZ3JwID0gT2JqZWN0LmFzc2lnbih7fSwgZ3JvdXApOwogICAgICAgICAgICAgIGdycC5zb3VyY2VfZ3JvdXBfcGFyZW50X2NvZGUgPSBncm91cC5ncm91cF9wYXJlbnRfY29kZTsKICAgICAgICAgICAgICBncnAuc291cmNlX2dyb3VwX2lzX2hpZGRlbiA9IGdyb3VwLmdyb3VwX2lzX2hpZGRlbjsKICAgICAgICAgICAgICBncnAuc291cmNlX2dyb3VwX25hbWUgPSBncm91cC5ncm91cF9uYW1lOwogICAgICAgICAgICAgIGdycC5zb3VyY2VfZ3JvdXBfdHlwZSA9IGdyb3VwLmdyb3VwX3R5cGU7CiAgICAgICAgICAgICAgZ3JwLmdyb3VwX2lzX3JlbW92ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICBncnAubW9kaWZpZWQgPSBmYWxzZTsKICAgICAgICAgICAgICByZXR1cm4gZ3JwOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChncm91cHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgaWYgKGdyb3VwX2luZGV4ID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIF90aGlzOS5hY3RpdmVHcm91cCA9IF90aGlzOS5wbGF5bGlzdEVkaXRvci5ncm91cHNbMF0uaWQ7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzOS5hY3RpdmVHcm91cCA9IF90aGlzOS5wbGF5bGlzdEVkaXRvci5ncm91cHNbZ3JvdXBfaW5kZXhdLmlkOwoKICAgICAgICAgICAgICAgIF90aGlzOS5sb2FkU3RyZWFtcygpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczkuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczkuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIHRvZ2dsZUdyb3VwU2VsZWN0aW9uOiBmdW5jdGlvbiB0b2dnbGVHcm91cFNlbGVjdGlvbihpdGVtKSB7CiAgICAgIHZhciBpZHggPSB0aGlzLmFjdGl2ZUdyb3Vwcy5pbmRleE9mKGl0ZW0pOwoKICAgICAgaWYgKGlkeCAhPT0gLTEpIHsKICAgICAgICB0aGlzLmFjdGl2ZUdyb3Vwcy5zcGxpY2UoaWR4LCAxKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFjdGl2ZUdyb3Vwcy5wdXNoKGl0ZW0pOwogICAgICB9CiAgICB9LAogICAgdG9nZ2xlU3RyZWFtU2VsZWN0aW9uOiBmdW5jdGlvbiB0b2dnbGVTdHJlYW1TZWxlY3Rpb24oaXRlbSkgewogICAgICB2YXIgaWR4ID0gdGhpcy5hY3RpdmVTdHJlYW1zLmluZGV4T2YoaXRlbSk7CgogICAgICBpZiAoaWR4ICE9PSAtMSkgewogICAgICAgIHRoaXMuYWN0aXZlU3RyZWFtcy5zcGxpY2UoaWR4LCAxKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFjdGl2ZVN0cmVhbXMucHVzaChpdGVtKTsKICAgICAgfQogICAgfSwKICAgIHRvZ2dsZVJhZGlvYnJvd3NlclNlbGVjdGlvbjogZnVuY3Rpb24gdG9nZ2xlUmFkaW9icm93c2VyU2VsZWN0aW9uKGl0ZW0pIHsKICAgICAgdmFyIGlkeCA9IHRoaXMucmFkaW9Ccm93c2VyLmFjdGl2ZS5pbmRleE9mKGl0ZW0pOwoKICAgICAgaWYgKGlkeCAhPT0gLTEpIHsKICAgICAgICB0aGlzLnJhZGlvQnJvd3Nlci5hY3RpdmUuc3BsaWNlKGlkeCwgMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5yYWRpb0Jyb3dzZXIuYWN0aXZlLnB1c2goaXRlbSk7CiAgICAgIH0KICAgIH0sCiAgICBpbmRleE9mR3JvdXA6IGZ1bmN0aW9uIGluZGV4T2ZHcm91cChncm91cCkgewogICAgICByZXR1cm4gdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHMubWFwKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgcmV0dXJuIGcuaWQ7CiAgICAgIH0pLmluZGV4T2YoZ3JvdXApOwogICAgfSwKICAgIHNlbGVjdEdyb3VwUmFuZ2VTZWxlY3Rpb246IGZ1bmN0aW9uIHNlbGVjdEdyb3VwUmFuZ2VTZWxlY3Rpb24oaXRlbSkgewogICAgICB2YXIgbGFzdEluZGV4ID0gdGhpcy5pbmRleE9mR3JvdXAodGhpcy5sYXN0U2VsZWN0ZWRHcm91cCk7CiAgICAgIHZhciBpdGVtSW5kZXggPSB0aGlzLmluZGV4T2ZHcm91cChpdGVtKTsKICAgICAgdmFyIGRpciA9IGl0ZW1JbmRleCA+IGxhc3RJbmRleCA/IDEgOiAtMTsKCiAgICAgIGZvciAodmFyIGkgPSBsYXN0SW5kZXg7IGkgIT0gaXRlbUluZGV4ICsgZGlyOyBpICs9IGRpcikgewogICAgICAgIGlmICghdGhpcy5hY3RpdmVHcm91cHMuaW5jbHVkZXModGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHNbaV0uaWQpKSB7CiAgICAgICAgICB0aGlzLmFjdGl2ZUdyb3Vwcy5wdXNoKHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzW2ldLmlkKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBpbmRleE9mU3RyZWFtOiBmdW5jdGlvbiBpbmRleE9mU3RyZWFtKHN0cmVhbSkgewogICAgICByZXR1cm4gdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zLm1hcChmdW5jdGlvbiAoZykgewogICAgICAgIHJldHVybiBnLmlkOwogICAgICB9KS5pbmRleE9mKHN0cmVhbSk7CiAgICB9LAogICAgc2VsZWN0U3RyZWFtUmFuZ2VTZWxlY3Rpb246IGZ1bmN0aW9uIHNlbGVjdFN0cmVhbVJhbmdlU2VsZWN0aW9uKGl0ZW0pIHsKICAgICAgdmFyIGxhc3RJbmRleCA9IHRoaXMuaW5kZXhPZlN0cmVhbSh0aGlzLmxhc3RTZWxlY3RlZFN0cmVhbSk7CiAgICAgIHZhciBpdGVtSW5kZXggPSB0aGlzLmluZGV4T2ZTdHJlYW0oaXRlbSk7CiAgICAgIHZhciBkaXIgPSBpdGVtSW5kZXggPiBsYXN0SW5kZXggPyAxIDogLTE7CgogICAgICBmb3IgKHZhciBpID0gbGFzdEluZGV4OyBpICE9IGl0ZW1JbmRleCArIGRpcjsgaSArPSBkaXIpIHsKICAgICAgICBpZiAoIXRoaXMuYWN0aXZlU3RyZWFtcy5pbmNsdWRlcyh0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbaV0uaWQpKSB7CiAgICAgICAgICB0aGlzLmFjdGl2ZVN0cmVhbXMucHVzaCh0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbaV0uaWQpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNlbGVjdFJhZGlvYnJvd3NlclJhbmdlU2VsZWN0aW9uOiBmdW5jdGlvbiBzZWxlY3RSYWRpb2Jyb3dzZXJSYW5nZVNlbGVjdGlvbihpbmRleCkgewogICAgICB2YXIgbGFzdEluZGV4ID0gdGhpcy5yYWRpb0Jyb3dzZXIuYWN0aXZlW3RoaXMucmFkaW9Ccm93c2VyLmFjdGl2ZS5sZW5ndGggLSAxXTsKICAgICAgdmFyIGRpciA9IGluZGV4ID4gbGFzdEluZGV4ID8gMSA6IC0xOwoKICAgICAgZm9yICh2YXIgaSA9IGxhc3RJbmRleDsgaSAhPSBpbmRleCArIGRpcjsgaSArPSBkaXIpIHsKICAgICAgICBpZiAoIXRoaXMucmFkaW9Ccm93c2VyLmFjdGl2ZS5pbmNsdWRlcyhpKSkgewogICAgICAgICAgdGhpcy5yYWRpb0Jyb3dzZXIuYWN0aXZlLnB1c2goaSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2VsZWN0R3JvdXBTZWxlY3Rpb246IGZ1bmN0aW9uIHNlbGVjdEdyb3VwU2VsZWN0aW9uKGl0ZW0pIHsKICAgICAgdGhpcy5hY3RpdmVHcm91cHMubGVuZ3RoID0gMDsKICAgICAgdGhpcy5hY3RpdmVHcm91cHMucHVzaChpdGVtKTsKICAgIH0sCiAgICBzZWxlY3RTdHJlYW1TZWxlY3Rpb246IGZ1bmN0aW9uIHNlbGVjdFN0cmVhbVNlbGVjdGlvbihpdGVtKSB7CiAgICAgIHRoaXMuYWN0aXZlU3RyZWFtcy5sZW5ndGggPSAwOwogICAgICB0aGlzLmFjdGl2ZVN0cmVhbXMucHVzaChpdGVtKTsKICAgIH0sCiAgICBzZWxlY3RSYWRpb2Jyb3dzZXJTZWxlY3Rpb246IGZ1bmN0aW9uIHNlbGVjdFJhZGlvYnJvd3NlclNlbGVjdGlvbihpdGVtKSB7CiAgICAgIHRoaXMucmFkaW9Ccm93c2VyLmFjdGl2ZS5sZW5ndGggPSAwOwogICAgICB0aGlzLnJhZGlvQnJvd3Nlci5hY3RpdmUucHVzaChpdGVtKTsKICAgIH0sCiAgICBmaW5kQW5kUmVwbGFjZU1vZGFsOiBmdW5jdGlvbiBmaW5kQW5kUmVwbGFjZU1vZGFsKHNob3cpIHsKICAgICAgdmFyIHR5cGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7CiAgICAgIHRoaXMuZmluZFJlcGxhY2UudHlwZSA9IHR5cGU7CiAgICAgIHRoaXMuZmluZFJlcGxhY2UubW9kYWwgPSBzaG93OwogICAgfSwKICAgIGZpbmRBbmRSZXBsYWNlOiBmdW5jdGlvbiBmaW5kQW5kUmVwbGFjZSgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgdmFyIG9wdGlvbnMgPSAiIjsKCiAgICAgIGlmICh0aGlzLmZpbmRSZXBsYWNlLnJlcGxhY2VBbGwpIHsKICAgICAgICBvcHRpb25zICs9ICJnIjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZmluZFJlcGxhY2UuaWdub3JlQ2FzZSkgewogICAgICAgIG9wdGlvbnMgKz0gImkiOwogICAgICB9CgogICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKHRoaXMuZmluZFJlcGxhY2UuZnJvbS5yZXBsYWNlKCJ8IiwgIlxcfCIpLCBvcHRpb25zKTsKCiAgICAgIHN3aXRjaCAocGFyc2VJbnQodGhpcy5maW5kUmVwbGFjZS50eXBlKSkgewogICAgICAgIC8vIEdyb3VwCiAgICAgICAgY2FzZSAxOgogICAgICAgICAgaWYgKHBhcnNlSW50KHRoaXMuZmluZFJlcGxhY2Uuc2VsZWN0ZWRPbmx5KSA9PT0gMSkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlR3JvdXBzLmluY2x1ZGVzKHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzW2ldLmlkKSkgewogICAgICAgICAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHNbaV0ubW9kaWZpZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHNbaV0uZ3JvdXBfbmFtZSA9IHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzW2ldLmdyb3VwX25hbWUucmVwbGFjZShyZSwgdGhpcy5maW5kUmVwbGFjZS50byk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmZpbHRlcmVkR3JvdXBzLm1hcChmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICAgICAgICBncm91cC5tb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgICAgZ3JvdXAuZ3JvdXBfbmFtZSA9IGdyb3VwLmdyb3VwX25hbWUucmVwbGFjZShyZSwgX3RoaXMxMC5maW5kUmVwbGFjZS50byk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwogICAgICAgIC8vIFN0cmVhbXMKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgaWYgKHBhcnNlSW50KHRoaXMuZmluZFJlcGxhY2Uuc2VsZWN0ZWRPbmx5KSA9PT0gMSkgewogICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zLmxlbmd0aDsgX2krKykgewogICAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZVN0cmVhbXMuaW5jbHVkZXModGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW19pXS5pZCkpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUdyb3VwVHlwZSA9PT0gMSkgewogICAgICAgICAgICAgICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbX2ldLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW19pXS5zdHJlYW1fdHZnX25hbWUgPSB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbX2ldLnN0cmVhbV90dmdfbmFtZS5yZXBsYWNlKHJlLCB0aGlzLmZpbmRSZXBsYWNlLnRvKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVHcm91cFR5cGUgPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW19pXS5tb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tfaV0ubW92aWVfbmFtZSA9IHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tfaV0ubW92aWVfbmFtZS5yZXBsYWNlKHJlLCB0aGlzLmZpbmRSZXBsYWNlLnRvKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVHcm91cFR5cGUgPT09IDMpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW19pXS5tb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tfaV0uc2VyaWVfbmFtZSA9IHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tfaV0uc2VyaWVfbmFtZS5yZXBsYWNlKHJlLCB0aGlzLmZpbmRSZXBsYWNlLnRvKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuZmlsdGVyZWRTdHJlYW1zLm1hcChmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgICAgICAgICAgaWYgKF90aGlzMTAuYWN0aXZlR3JvdXBUeXBlID09PSAxKSB7CiAgICAgICAgICAgICAgICBzdHJlYW0ubW9kaWZpZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgc3RyZWFtLnN0cmVhbV90dmdfbmFtZSA9IHN0cmVhbS5zdHJlYW1fdHZnX25hbWUucmVwbGFjZShyZSwgX3RoaXMxMC5maW5kUmVwbGFjZS50byk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoX3RoaXMxMC5hY3RpdmVHcm91cFR5cGUgPT09IDIpIHsKICAgICAgICAgICAgICAgIHN0cmVhbS5tb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgICAgICBzdHJlYW0ubW92aWVfbmFtZSA9IHN0cmVhbS5tb3ZpZV9uYW1lLnJlcGxhY2UocmUsIF90aGlzMTAuZmluZFJlcGxhY2UudG8pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKF90aGlzMTAuYWN0aXZlR3JvdXBUeXBlID09PSAzKSB7CiAgICAgICAgICAgICAgICBzdHJlYW0ubW9kaWZpZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgc3RyZWFtLnNlcmllX25hbWUgPSBzdHJlYW0uc2VyaWVfbmFtZS5yZXBsYWNlKHJlLCBfdGhpczEwLmZpbmRSZXBsYWNlLnRvKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLmNoYW5nZWQgPSB0cnVlOwogICAgICB0aGlzLmZpbmRSZXBsYWNlLm1vZGFsID0gZmFsc2U7CiAgICB9LAogICAgcHJlZml4U3VmZml4TW9kYWw6IGZ1bmN0aW9uIHByZWZpeFN1ZmZpeE1vZGFsKHNob3cpIHsKICAgICAgdmFyIHR5cGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7CiAgICAgIHRoaXMucHJlZml4U3VmZml4LnR5cGUgPSB0eXBlOwogICAgICB0aGlzLnByZWZpeFN1ZmZpeC5tb2RhbCA9IHNob3c7CiAgICB9LAogICAgYWRkUHJlZml4U3VmZml4OiBmdW5jdGlvbiBhZGRQcmVmaXhTdWZmaXgoKSB7CiAgICAgIHZhciBwcmVmaXggPSB0aGlzLnByZWZpeFN1ZmZpeC5wcmVmaXg7CiAgICAgIHZhciBzdWZmaXggPSB0aGlzLnByZWZpeFN1ZmZpeC5zdWZmaXg7CgogICAgICBzd2l0Y2ggKHBhcnNlSW50KHRoaXMucHJlZml4U3VmZml4LnR5cGUpKSB7CiAgICAgICAgLy8gR3JvdXAKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBpZiAocGFyc2VJbnQodGhpcy5wcmVmaXhTdWZmaXguc2VsZWN0ZWRPbmx5KSA9PT0gMSkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlR3JvdXBzLmluY2x1ZGVzKHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzW2ldLmlkKSkgewogICAgICAgICAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHNbaV0ubW9kaWZpZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHNbaV0uZ3JvdXBfbmFtZSA9IHByZWZpeCArIHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzW2ldLmdyb3VwX25hbWUgKyBzdWZmaXg7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmZpbHRlcmVkR3JvdXBzLm1hcChmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICAgICAgICBncm91cC5tb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgICAgZ3JvdXAuZ3JvdXBfbmFtZSA9IHByZWZpeCArIGdyb3VwLmdyb3VwX25hbWUgKyBzdWZmaXg7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwogICAgICAgIC8vIFN0cmVhbQoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBpZiAocGFyc2VJbnQodGhpcy5wcmVmaXhTdWZmaXguc2VsZWN0ZWRPbmx5KSA9PT0gMSkgewogICAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXMubGVuZ3RoOyBfaTIrKykgewogICAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZVN0cmVhbXMuaW5jbHVkZXModGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW19pMl0uaWQpKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVHcm91cFR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW19pMl0ubW9kaWZpZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbX2kyXS5zdHJlYW1fdHZnX25hbWUgPSBwcmVmaXggKyB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbX2kyXS5zdHJlYW1fdHZnX25hbWUgKyBzdWZmaXg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlR3JvdXBUeXBlID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tfaTJdLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW19pMl0ubW92aWVfbmFtZSA9IHByZWZpeCArIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tfaTJdLm1vdmllX25hbWUgKyBzdWZmaXg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlR3JvdXBUeXBlID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tfaTJdLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW19pMl0uc2VyaWVfbmFtZSA9IHByZWZpeCArIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tfaTJdLnNlcmllX25hbWUgKyBzdWZmaXg7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVHcm91cFR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICB0aGlzLmZpbHRlcmVkU3RyZWFtcy5tYXAoZnVuY3Rpb24gKHN0cmVhbSkgewogICAgICAgICAgICAgICAgc3RyZWFtLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHN0cmVhbS5zdHJlYW1fdHZnX25hbWUgPSBwcmVmaXggKyBzdHJlYW0uc3RyZWFtX3R2Z19uYW1lICsgc3VmZml4OwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVHcm91cFR5cGUgPT09IDIpIHsKICAgICAgICAgICAgICB0aGlzLmZpbHRlcmVkU3RyZWFtcy5tYXAoZnVuY3Rpb24gKHN0cmVhbSkgewogICAgICAgICAgICAgICAgc3RyZWFtLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHN0cmVhbS5tb3ZpZV9uYW1lID0gcHJlZml4ICsgc3RyZWFtLm1vdmllX25hbWUgKyBzdWZmaXg7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUdyb3VwVHlwZSA9PT0gMykgewogICAgICAgICAgICAgIHRoaXMuZmlsdGVyZWRTdHJlYW1zLm1hcChmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgICAgICAgICAgICBzdHJlYW0ubW9kaWZpZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgc3RyZWFtLnNlcmllX25hbWUgPSBwcmVmaXggKyBzdHJlYW0uc2VyaWVfbmFtZSArIHN1ZmZpeDsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLmNoYW5nZWQgPSB0cnVlOwogICAgICB0aGlzLnByZWZpeFN1ZmZpeC5tb2RhbCA9IGZhbHNlOwogICAgfSwKICAgIGNvbnZlcnRDYXNlTW9kYWw6IGZ1bmN0aW9uIGNvbnZlcnRDYXNlTW9kYWwoc2hvdywgdHlwZSkgewogICAgICB0aGlzLmNvbnZlcnRDYXNlLnR5cGUgPSB0eXBlOwogICAgICB0aGlzLmNvbnZlcnRDYXNlLm1vZGFsID0gc2hvdzsKICAgIH0sCiAgICBjaGFuZ2VDYXNlOiBmdW5jdGlvbiBjaGFuZ2VDYXNlKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICB2YXIgbWV0aG9kID0gdGhpcy5jb252ZXJ0Q2FzZS5tZXRob2Q7CiAgICAgIHZhciBncm91cHM7CiAgICAgIHZhciBzdHJlYW1zOwoKICAgICAgaWYgKHBhcnNlSW50KHRoaXMuY29udmVydENhc2Uuc2VsZWN0ZWRPbmx5KSA9PT0gMSkgewogICAgICAgIGdyb3VwcyA9IHRoaXMuZmlsdGVyZWRHcm91cHMuZmlsdGVyKGZ1bmN0aW9uIChncm91cCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMTEuYWN0aXZlR3JvdXBzLmluY2x1ZGVzKGdyb3VwLmlkKTsKICAgICAgICB9KTsKICAgICAgICBzdHJlYW1zID0gdGhpcy5maWx0ZXJlZFN0cmVhbXMuZmlsdGVyKGZ1bmN0aW9uIChzdHJlYW0pIHsKICAgICAgICAgIHJldHVybiBfdGhpczExLmFjdGl2ZVN0cmVhbXMuaW5jbHVkZXMoc3RyZWFtLmlkKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBncm91cHMgPSB0aGlzLmZpbHRlcmVkR3JvdXBzOwogICAgICAgIHN0cmVhbXMgPSB0aGlzLmZpbHRlcmVkU3RyZWFtczsKICAgICAgfQoKICAgICAgc3dpdGNoIChwYXJzZUludCh0aGlzLmNvbnZlcnRDYXNlLnR5cGUpKSB7CiAgICAgICAgLy8gQ2F0ZWdvcmllcwogICAgICAgIGNhc2UgMToKICAgICAgICAgIGdyb3Vwcy5tYXAoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgICAgIHN3aXRjaCAocGFyc2VJbnQobWV0aG9kKSkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGdyb3VwLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGdyb3VwLmdyb3VwX25hbWUgPSBncm91cC5ncm91cF9uYW1lLnRpdGxlQ2FzZSgpOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgIGdyb3VwLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGdyb3VwLmdyb3VwX25hbWUgPSBncm91cC5ncm91cF9uYW1lLnRvVXBwZXJDYXNlKCk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZ3JvdXAubW9kaWZpZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgZ3JvdXAuZ3JvdXBfbmFtZSA9IGdyb3VwLmdyb3VwX25hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIC8vIFN0cmVhbXMKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgc3RyZWFtcy5tYXAoZnVuY3Rpb24gKHN0cmVhbSkgewogICAgICAgICAgICBzd2l0Y2ggKHBhcnNlSW50KG1ldGhvZCkpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMS5hY3RpdmVHcm91cFR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgc3RyZWFtLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgc3RyZWFtLnN0cmVhbV90dmdfbmFtZSA9IHN0cmVhbS5zdHJlYW1fdHZnX25hbWUudGl0bGVDYXNlKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTEuYWN0aXZlR3JvdXBUeXBlID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHN0cmVhbS5tb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHN0cmVhbS5tb3ZpZV9uYW1lID0gc3RyZWFtLm1vdmllX25hbWUudGl0bGVDYXNlKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTEuYWN0aXZlR3JvdXBUeXBlID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHN0cmVhbS5tb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHN0cmVhbS5zZXJpZV9uYW1lID0gc3RyZWFtLnNlcmllX25hbWUudGl0bGVDYXNlKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgIGlmIChfdGhpczExLmFjdGl2ZUdyb3VwVHlwZSA9PT0gMSkgewogICAgICAgICAgICAgICAgICBzdHJlYW0ubW9kaWZpZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICBzdHJlYW0uc3RyZWFtX3R2Z19uYW1lID0gc3RyZWFtLnN0cmVhbV90dmdfbmFtZS50b1VwcGVyQ2FzZSgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczExLmFjdGl2ZUdyb3VwVHlwZSA9PT0gMikgewogICAgICAgICAgICAgICAgICBzdHJlYW0ubW9kaWZpZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICBzdHJlYW0ubW92aWVfbmFtZSA9IHN0cmVhbS5tb3ZpZV9uYW1lLnRvVXBwZXJDYXNlKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTEuYWN0aXZlR3JvdXBUeXBlID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHN0cmVhbS5tb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHN0cmVhbS5zZXJpZV9uYW1lID0gc3RyZWFtLnNlcmllX25hbWUudG9VcHBlckNhc2UoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTEuYWN0aXZlR3JvdXBUeXBlID09PSAxKSB7CiAgICAgICAgICAgICAgICAgIHN0cmVhbS5tb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHN0cmVhbS5zdHJlYW1fdHZnX25hbWUgPSBzdHJlYW0uc3RyZWFtX3R2Z19uYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTEuYWN0aXZlR3JvdXBUeXBlID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHN0cmVhbS5tb2RpZmllZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHN0cmVhbS5tb3ZpZV9uYW1lID0gc3RyZWFtLm1vdmllX25hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMS5hY3RpdmVHcm91cFR5cGUgPT09IDMpIHsKICAgICAgICAgICAgICAgICAgc3RyZWFtLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgc3RyZWFtLnNlcmllX25hbWUgPSBzdHJlYW0uc2VyaWVfbmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLmNoYW5nZWQgPSB0cnVlOwogICAgICB0aGlzLmNvbnZlcnRDYXNlLm1vZGFsID0gZmFsc2U7CiAgICB9LAogICAgZWRpdEdyb3VwTW9kYWw6IGZ1bmN0aW9uIGVkaXRHcm91cE1vZGFsKHNob3cpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgdmFyIGluZGV4ID0gdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHMuZmluZEluZGV4KGZ1bmN0aW9uIChncm91cCkgewogICAgICAgIHJldHVybiBncm91cC5pZCA9PT0gX3RoaXMxMi5hY3RpdmVHcm91cHNbMF07CiAgICAgIH0pOwogICAgICB2YXIgZ3JvdXAgPSB0aGlzLnBsYXlsaXN0RWRpdG9yLmdyb3Vwc1tpbmRleF07CgogICAgICBpZiAoZ3JvdXApIHsKICAgICAgICB0aGlzLmdyb3VwRWRpdG9yLmlkID0gdGhpcy5hY3RpdmVHcm91cHNbMF07CiAgICAgICAgdGhpcy5ncm91cEVkaXRvci5ncm91cF90eXBlID0gZ3JvdXAuZ3JvdXBfdHlwZTsKICAgICAgICB0aGlzLmdyb3VwRWRpdG9yLmdyb3VwX25hbWUgPSBncm91cC5ncm91cF9uYW1lOwogICAgICAgIHRoaXMuZ3JvdXBFZGl0b3IuZ3JvdXBfaXNfaGlkZGVuID0gZ3JvdXAuZ3JvdXBfaXNfaGlkZGVuOwogICAgICAgIHRoaXMuZ3JvdXBFZGl0b3IuZ3JvdXBfcGFyZW50X2NvZGUgPSBncm91cC5ncm91cF9wYXJlbnRfY29kZTsKICAgICAgICB0aGlzLmdyb3VwRWRpdG9yLm1vZGFsID0gc2hvdzsKICAgICAgfQogICAgfSwKICAgIGVkaXRTdHJlYW1Nb2RhbDogZnVuY3Rpb24gZWRpdFN0cmVhbU1vZGFsKHNob3cpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgdmFyIGluZGV4ID0gdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zLmZpbmRJbmRleChmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgICAgcmV0dXJuIHN0cmVhbS5pZCA9PT0gX3RoaXMxMy5hY3RpdmVTdHJlYW1zWzBdOwogICAgICB9KTsKICAgICAgdmFyIHN0cmVhbSA9IHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpbmRleF07CgogICAgICBpZiAoc3RyZWFtKSB7CiAgICAgICAgdGhpcy5zdHJlYW1FZGl0b3IuaWQgPSB0aGlzLmFjdGl2ZVN0cmVhbXNbMF07CiAgICAgICAgdGhpcy5zdHJlYW1FZGl0b3Iuc3RyZWFtX3R2Z19uYW1lID0gc3RyZWFtLnN0cmVhbV90dmdfbmFtZTsKICAgICAgICB0aGlzLnN0cmVhbUVkaXRvci5zdHJlYW1fdHZnX2lkID0gc3RyZWFtLnN0cmVhbV90dmdfaWQ7CiAgICAgICAgdGhpcy5zdHJlYW1FZGl0b3Iuc3RyZWFtX3R2Z19sb2dvID0gc3RyZWFtLnN0cmVhbV90dmdfbG9nbzsKICAgICAgICB0aGlzLnN0cmVhbUVkaXRvci5zdHJlYW1fcGFyZW50X2NvZGUgPSBzdHJlYW0uc3RyZWFtX3BhcmVudF9jb2RlOwogICAgICAgIHRoaXMuc3RyZWFtRWRpdG9yLnN0cmVhbV9yYWRpbyA9IHN0cmVhbS5zdHJlYW1fcmFkaW87CiAgICAgICAgdGhpcy5zdHJlYW1FZGl0b3Iuc3RyZWFtX2lzX2hpZGRlbiA9IHN0cmVhbS5zdHJlYW1faXNfaGlkZGVuOwoKICAgICAgICBpZiAoc3RyZWFtLm1vdmllX25hbWUgIT09IHVuZGVmaW5lZCAmJiBzdHJlYW0ubW92aWVfeWVhciAhPT0gdW5kZWZpbmVkICYmIHN0cmVhbS50bWRiX2lkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMuc3RyZWFtRWRpdG9yLm1vdmllX25hbWUgPSBzdHJlYW0ubW92aWVfbmFtZTsKICAgICAgICAgIHRoaXMuc3RyZWFtRWRpdG9yLm1vdmllX3llYXIgPSBzdHJlYW0ubW92aWVfeWVhcjsKICAgICAgICAgIHRoaXMuc3RyZWFtRWRpdG9yLnRtZGJfaWQgPSBzdHJlYW0udG1kYl9pZDsKICAgICAgICB9CgogICAgICAgIGlmIChzdHJlYW0uc2VyaWVfbmFtZSAhPT0gdW5kZWZpbmVkICYmIHN0cmVhbS5zZXJpZV9zZWFzb24gIT09IHVuZGVmaW5lZCAmJiBzdHJlYW0uc2VyaWVfZXBpc29kZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLnN0cmVhbUVkaXRvci5zZXJpZV9uYW1lID0gc3RyZWFtLnNlcmllX25hbWU7CiAgICAgICAgICB0aGlzLnN0cmVhbUVkaXRvci5zZXJpZV9zZWFzb24gPSBzdHJlYW0uc2VyaWVfc2Vhc29uOwogICAgICAgICAgdGhpcy5zdHJlYW1FZGl0b3Iuc2VyaWVfZXBpc29kZSA9IHN0cmVhbS5zZXJpZV9lcGlzb2RlOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5zdHJlYW1FZGl0b3IubW9kYWwgPSBzaG93OwogICAgICB9CiAgICB9LAogICAgZWRpdEdyb3VwOiBmdW5jdGlvbiBlZGl0R3JvdXAoKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHZhciBpbmRleCA9IHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzLmZpbmRJbmRleChmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICByZXR1cm4gZ3JvdXAuaWQgPT09IF90aGlzMTQuZ3JvdXBFZGl0b3IuaWQ7CiAgICAgIH0pOwogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLmdyb3Vwc1tpbmRleF0uZ3JvdXBfdHlwZSA9IHRoaXMuZ3JvdXBFZGl0b3IuZ3JvdXBfdHlwZTsKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHNbaW5kZXhdLmdyb3VwX25hbWUgPSB0aGlzLmdyb3VwRWRpdG9yLmdyb3VwX25hbWU7CiAgICAgIHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzW2luZGV4XS5ncm91cF9pc19oaWRkZW4gPSB0aGlzLmdyb3VwRWRpdG9yLmdyb3VwX2lzX2hpZGRlbjsKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHNbaW5kZXhdLmdyb3VwX3BhcmVudF9jb2RlID0gdGhpcy5ncm91cEVkaXRvci5ncm91cF9wYXJlbnRfY29kZTsKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHNbaW5kZXhdLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5jaGFuZ2VkID0gdHJ1ZTsKICAgICAgdGhpcy5ncm91cEVkaXRvci5tb2RhbCA9IGZhbHNlOwogICAgfSwKICAgIGVkaXRTdHJlYW06IGZ1bmN0aW9uIGVkaXRTdHJlYW0oKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHZhciBpbmRleCA9IHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtcy5maW5kSW5kZXgoZnVuY3Rpb24gKHN0cmVhbSkgewogICAgICAgIHJldHVybiBzdHJlYW0uaWQgPT09IF90aGlzMTUuYWN0aXZlU3RyZWFtc1swXTsKICAgICAgfSk7CiAgICAgIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpbmRleF0uc3RyZWFtX3R2Z19uYW1lID0gdGhpcy5zdHJlYW1FZGl0b3Iuc3RyZWFtX3R2Z19uYW1lOwogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbaW5kZXhdLnN0cmVhbV90dmdfaWQgPSB0aGlzLnN0cmVhbUVkaXRvci5zdHJlYW1fdHZnX2lkOwogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbaW5kZXhdLnN0cmVhbV90dmdfbG9nbyA9IHRoaXMuc3RyZWFtRWRpdG9yLnN0cmVhbV90dmdfbG9nbzsKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW2luZGV4XS5zdHJlYW1fcGFyZW50X2NvZGUgPSB0aGlzLnN0cmVhbUVkaXRvci5zdHJlYW1fcGFyZW50X2NvZGU7CiAgICAgIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpbmRleF0uc3RyZWFtX2lzX2hpZGRlbiA9IHRoaXMuc3RyZWFtRWRpdG9yLnN0cmVhbV9pc19oaWRkZW47CiAgICAgIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpbmRleF0uc3RyZWFtX3JhZGlvID0gdGhpcy5zdHJlYW1FZGl0b3Iuc3RyZWFtX3JhZGlvOwoKICAgICAgaWYgKHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpbmRleF0ubW92aWVfbmFtZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpbmRleF0ubW92aWVfeWVhciAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpbmRleF0udG1kYl9pZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW2luZGV4XS5tb3ZpZV9uYW1lID0gdGhpcy5zdHJlYW1FZGl0b3IubW92aWVfbmFtZTsKICAgICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbaW5kZXhdLm1vdmllX3llYXIgPSB0aGlzLnN0cmVhbUVkaXRvci5tb3ZpZV95ZWFyOwogICAgICAgIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpbmRleF0udG1kYl9pZCA9IHRoaXMuc3RyZWFtRWRpdG9yLnRtZGJfaWQ7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbaW5kZXhdLnNlcmllX25hbWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbaW5kZXhdLnNlcmllX3NlYXNvbiAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtc1tpbmRleF0uc2VyaWVfZXBpc29kZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zW2luZGV4XS5zZXJpZV9uYW1lID0gdGhpcy5zdHJlYW1FZGl0b3Iuc2VyaWVfbmFtZTsKICAgICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbaW5kZXhdLnNlcmllX3NlYXNvbiA9IHRoaXMuc3RyZWFtRWRpdG9yLnNlcmllX3NlYXNvbjsKICAgICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbaW5kZXhdLnNlcmllX2VwaXNvZGUgPSB0aGlzLnN0cmVhbUVkaXRvci5zZXJpZV9lcGlzb2RlOwogICAgICB9CgogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXNbaW5kZXhdLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5jaGFuZ2VkID0gdHJ1ZTsKICAgICAgdGhpcy5zdHJlYW1FZGl0b3IubW9kYWwgPSBmYWxzZTsKICAgIH0sCiAgICBzb3J0R3JvdXBBbHBoYVVwOiBmdW5jdGlvbiBzb3J0R3JvdXBBbHBoYVVwKCkgewogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLmdyb3VwcyA9IHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYi5ncm91cF9uYW1lID4gYS5ncm91cF9uYW1lID8gMSA6IGEuZ3JvdXBfbmFtZSA+IGIuZ3JvdXBfbmFtZSA/IC0xIDogMDsKICAgICAgfSk7CiAgICAgIHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzLm1hcChmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICByZXR1cm4gZ3JvdXAubW9kaWZpZWQgPSB0cnVlOwogICAgICB9KTsKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5jaGFuZ2VkID0gdHJ1ZTsKICAgIH0sCiAgICBzb3J0R3JvdXBBbHBoYURvd246IGZ1bmN0aW9uIHNvcnRHcm91cEFscGhhRG93bigpIHsKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHMgPSB0aGlzLnBsYXlsaXN0RWRpdG9yLmdyb3Vwcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEuZ3JvdXBfbmFtZSA+IGIuZ3JvdXBfbmFtZSA/IDEgOiBiLmdyb3VwX25hbWUgPiBhLmdyb3VwX25hbWUgPyAtMSA6IDA7CiAgICAgIH0pOwogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLmdyb3Vwcy5tYXAoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgcmV0dXJuIGdyb3VwLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgfSk7CiAgICAgIHRoaXMucGxheWxpc3RFZGl0b3IuY2hhbmdlZCA9IHRydWU7CiAgICB9LAogICAgc29ydEdyb3VwVHlwZVVwOiBmdW5jdGlvbiBzb3J0R3JvdXBUeXBlVXAoKSB7CiAgICAgIHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzID0gdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBiLmdyb3VwX3R5cGUgPiBhLmdyb3VwX3R5cGUgPyAxIDogYS5ncm91cF90eXBlID4gYi5ncm91cF90eXBlID8gLTEgOiAwOwogICAgICB9KTsKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHMubWFwKGZ1bmN0aW9uIChncm91cCkgewogICAgICAgIHJldHVybiBncm91cC5tb2RpZmllZCA9IHRydWU7CiAgICAgIH0pOwogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLmNoYW5nZWQgPSB0cnVlOwogICAgfSwKICAgIHNvcnRHcm91cFR5cGVEb3duOiBmdW5jdGlvbiBzb3J0R3JvdXBUeXBlRG93bigpIHsKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHMgPSB0aGlzLnBsYXlsaXN0RWRpdG9yLmdyb3Vwcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEuZ3JvdXBfdHlwZSA+IGIuZ3JvdXBfdHlwZSA/IDEgOiBiLmdyb3VwX3R5cGUgPiBhLmdyb3VwX3R5cGUgPyAtMSA6IDA7CiAgICAgIH0pOwogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLmdyb3Vwcy5tYXAoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgcmV0dXJuIGdyb3VwLm1vZGlmaWVkID0gdHJ1ZTsKICAgICAgfSk7CiAgICAgIHRoaXMucGxheWxpc3RFZGl0b3IuY2hhbmdlZCA9IHRydWU7CiAgICB9LAogICAgc29ydFN0cmVhbUFscGhhVXA6IGZ1bmN0aW9uIHNvcnRTdHJlYW1BbHBoYVVwKCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICAvL0VSTlNUIEhJRVIKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zID0gdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICBzd2l0Y2ggKF90aGlzMTYuYWN0aXZlR3JvdXBUeXBlKSB7CiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIHJldHVybiBiLnN0cmVhbV90dmdfbmFtZSA+IGEuc3RyZWFtX3R2Z19uYW1lID8gMSA6IGEuc3RyZWFtX3R2Z19uYW1lID4gYi5zdHJlYW1fdHZnX25hbWUgPyAtMSA6IDA7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gYi5tb3ZpZV9uYW1lID4gYS5tb3ZpZV9uYW1lID8gMSA6IGEubW92aWVfbmFtZSA+IGIubW92aWVfbmFtZSA/IC0xIDogMDsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJldHVybiBiLnNlcmllX25hbWUgPiBhLnNlcmllX25hbWUgPyAxIDogYS5zZXJpZV9uYW1lID4gYi5zZXJpZV9uYW1lID8gLTEgOiAwOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtcy5tYXAoZnVuY3Rpb24gKHN0cmVhbSkgewogICAgICAgIHJldHVybiBzdHJlYW0ubW9kaWZpZWQgPSB0cnVlOwogICAgICB9KTsKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5jaGFuZ2VkID0gdHJ1ZTsKICAgIH0sCiAgICBzb3J0U3RyZWFtQWxwaGFEb3duOiBmdW5jdGlvbiBzb3J0U3RyZWFtQWxwaGFEb3duKCkgewogICAgICB2YXIgX3RoaXMxNyA9IHRoaXM7CgogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXMgPSB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHN3aXRjaCAoX3RoaXMxNy5hY3RpdmVHcm91cFR5cGUpIHsKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgcmV0dXJuIGEuc3RyZWFtX3R2Z19uYW1lID4gYi5zdHJlYW1fdHZnX25hbWUgPyAxIDogYi5zdHJlYW1fdHZnX25hbWUgPiBhLnN0cmVhbV90dmdfbmFtZSA/IC0xIDogMDsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBhLm1vdmllX25hbWUgPiBiLm1vdmllX25hbWUgPyAxIDogYi5tb3ZpZV9uYW1lID4gYS5tb3ZpZV9uYW1lID8gLTEgOiAwOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgcmV0dXJuIGEuc2VyaWVfbmFtZSA+IGIuc2VyaWVfbmFtZSA/IDEgOiBiLnNlcmllX25hbWUgPiBhLnNlcmllX25hbWUgPyAtMSA6IDA7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zLm1hcChmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgICAgcmV0dXJuIHN0cmVhbS5tb2RpZmllZCA9IHRydWU7CiAgICAgIH0pOwogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLmNoYW5nZWQgPSB0cnVlOwogICAgfSwKICAgIHNvcnRTdHJlYW1IaWRkZW5VcDogZnVuY3Rpb24gc29ydFN0cmVhbUhpZGRlblVwKCkgewogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXMgPSB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBiLnN0cmVhbV9pc19oaWRkZW4gPiBhLnN0cmVhbV9pc19oaWRkZW4gPyAxIDogYS5zdHJlYW1faXNfaGlkZGVuID4gYi5zdHJlYW1faXNfaGlkZGVuID8gLTEgOiAwOwogICAgICB9KTsKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zLm1hcChmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICByZXR1cm4gZ3JvdXAubW9kaWZpZWQgPSB0cnVlOwogICAgICB9KTsKICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5jaGFuZ2VkID0gdHJ1ZTsKICAgIH0sCiAgICBzb3J0U3RyZWFtSGlkZGVuRG93bjogZnVuY3Rpb24gc29ydFN0cmVhbUhpZGRlbkRvd24oKSB7CiAgICAgIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtcyA9IHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEuc3RyZWFtX2lzX2hpZGRlbiA+IGIuc3RyZWFtX2lzX2hpZGRlbiA/IDEgOiBiLnN0cmVhbV9pc19oaWRkZW4gPiBhLnN0cmVhbV9pc19oaWRkZW4gPyAtMSA6IDA7CiAgICAgIH0pOwogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLnN0cmVhbXMubWFwKGZ1bmN0aW9uIChncm91cCkgewogICAgICAgIHJldHVybiBncm91cC5tb2RpZmllZCA9IHRydWU7CiAgICAgIH0pOwogICAgICB0aGlzLnBsYXlsaXN0RWRpdG9yLmNoYW5nZWQgPSB0cnVlOwogICAgfSwKICAgIGFkZEdyb3VwOiBmdW5jdGlvbiBhZGRHcm91cCgpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgaHR0cFNlcnZpY2UucG9zdCgiZWRpdG9yL2FkZC1ncm91cCIsIHsKICAgICAgICBwbGF5bGlzdF9pZDogdGhpcy5wbGF5bGlzdEVkaXRvci5pZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczE4LmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSAmJiByZXMuZGF0YSkgewogICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgIF90aGlzMTgucGxheWxpc3RFZGl0b3IuZ3JvdXBzLnB1c2gocmVzLmRhdGEpOwoKICAgICAgICAgICAgX3RoaXMxOC5hY3RpdmVHcm91cCA9IF90aGlzMTgucGxheWxpc3RFZGl0b3IuZ3JvdXBzW190aGlzMTgucGxheWxpc3RFZGl0b3IuZ3JvdXBzLmxlbmd0aCAtIDFdLmlkOwogICAgICAgICAgICBfdGhpczE4LmFjdGl2ZUdyb3VwcyA9IFtfdGhpczE4LnBsYXlsaXN0RWRpdG9yLmdyb3Vwc1tfdGhpczE4LnBsYXlsaXN0RWRpdG9yLmdyb3Vwcy5sZW5ndGggLSAxXS5pZF07CiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczE4LmVkaXRHcm91cE1vZGFsKHRydWUpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxOC4kbm90aWZ5KCJlcnJvciIsIF90aGlzMTguJHQoInByb2ZpbGUuZmFpbGVkIiksIF90aGlzMTguJHQoImVkaXRvci5hZGQtZ3JvdXAtZXJyb3IiKSwgImxhLXVzZXItc2hpZWxkIiwgewogICAgICAgICAgZHVyYXRpb246IDUwMDAsCiAgICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRTdHJlYW1zOiBmdW5jdGlvbiBsb2FkU3RyZWFtcygpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgdGhpcy5hY3RpdmVTdHJlYW0gPSAtMTsKICAgICAgdGhpcy5hY3RpdmVTdHJlYW1zID0gW107CiAgICAgIHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtcyA9IFtdOwogICAgICB2YXIgaW5kZXggPSB0aGlzLnBsYXlsaXN0RWRpdG9yLmdyb3Vwcy5maW5kSW5kZXgoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgcmV0dXJuIGdyb3VwLmlkID09PSBfdGhpczE5LmFjdGl2ZUdyb3VwOwogICAgICB9KTsKICAgICAgdmFyIGdyb3VwID0gdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHNbaW5kZXhdOwogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIGh0dHBTZXJ2aWNlLmdldCgiZWRpdG9yL3N0cmVhbXMvIi5jb25jYXQodGhpcy5wbGF5bGlzdEVkaXRvci5pZCwgIi8iKS5jb25jYXQoZ3JvdXAuaWQsICIvIikuY29uY2F0KGdyb3VwLmdyb3VwX3R5cGUpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IDA7CiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7CgogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSB0cnVlKSB7CiAgICAgICAgICB2YXIgc3RyZWFtcyA9IHJlcy5kYXRhLm1hcChmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgICAgICAgIHZhciBzdHIgPSBPYmplY3QuYXNzaWduKHt9LCBzdHJlYW0pOwogICAgICAgICAgICBzdHIuc291cmNlX3N0cmVhbV90dmdfbmFtZSA9IHN0cmVhbS5zdHJlYW1fdHZnX25hbWU7CiAgICAgICAgICAgIHN0ci5zb3VyY2Vfc3RyZWFtX3R2Z19pZCA9IHN0cmVhbS5zdHJlYW1fdHZnX2lkOwogICAgICAgICAgICBzdHIuc291cmNlX3N0cmVhbV90dmdfbG9nbyA9IHN0cmVhbS5zdHJlYW1fdHZnX2xvZ287CiAgICAgICAgICAgIHN0ci5zb3VyY2Vfc3RyZWFtX3R2Z19jaG5vID0gc3RyZWFtLnN0cmVhbV90dmdfY2hubzsKICAgICAgICAgICAgc3RyLnNvdXJjZV9zdHJlYW1fdHZnX3NoaWZ0ID0gc3RyZWFtLnN0cmVhbV90dmdfc2hpZnQ7CiAgICAgICAgICAgIHN0ci5zb3VyY2Vfc3RyZWFtX3BhcmVudF9jb2RlID0gc3RyZWFtLnN0cmVhbV9wYXJlbnRfY29kZTsKICAgICAgICAgICAgc3RyLnNvdXJjZV9zdHJlYW1fYXVkaW9fdHJhY2sgPSBzdHJlYW0uc3RyZWFtX2F1ZGlvX3RyYWNrOwogICAgICAgICAgICBzdHIuc291cmNlX3N0cmVhbV9hc3BlY3RfcmF0aW8gPSBzdHJlYW0uc3RyZWFtX2FzcGVjdF9yYXRpbzsKICAgICAgICAgICAgc3RyLnNvdXJjZV9zdHJlYW1fcmFkaW8gPSBzdHJlYW0uc3RyZWFtX3JhZGlvOwogICAgICAgICAgICBzdHIuc291cmNlX3N0cmVhbV9vcmRlciA9IHN0cmVhbS5zdHJlYW1fb3JkZXI7CiAgICAgICAgICAgIHN0ci5zb3VyY2Vfc3RyZWFtX2lzX2hpZGRlbiA9IHN0cmVhbS5zdHJlYW1faXNfaGlkZGVuOwogICAgICAgICAgICBzdHIubW9kaWZpZWQgPSBmYWxzZTsKICAgICAgICAgICAgc3RyLnN0cmVhbV9pc19yZW1vdmVkID0gMDsKCiAgICAgICAgICAgIGlmIChncm91cC5ncm91cF90eXBlID09IDIpIHsKICAgICAgICAgICAgICBpZiAoc3RyLm1vdmllX25hbWUgPT0gIiIpIHsKICAgICAgICAgICAgICAgIHN0ci5tb3ZpZV9uYW1lID0gc3RyLnN0cmVhbV90dmdfbmFtZTsKICAgICAgICAgICAgICAgIHN0ci5zb3VyY2VfbW92aWVfbmFtZSA9IHN0ci5zdHJlYW1fdHZnX25hbWU7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHN0ci5zb3VyY2VfbW92aWVfbmFtZSA9IHN0cmVhbS5tb3ZpZV9uYW1lOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgc3RyLnNvdXJjZV9tb3ZpZV95ZWFyID0gc3RyZWFtLm1vdmllX3llYXI7CiAgICAgICAgICAgICAgc3RyLnNvdXJjZV90bWRiX2lkID0gc3RyZWFtLnRtZGJfaWQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChncm91cC5ncm91cF90eXBlID09IDMpIHsKICAgICAgICAgICAgICBpZiAoc3RyLnNlcmllX25hbWUgPT0gIiIpIHsKICAgICAgICAgICAgICAgIHN0ci5zZXJpZV9uYW1lID0gc3RyLnN0cmVhbV90dmdfbmFtZTsKICAgICAgICAgICAgICAgIHN0ci5zb3VyY2Vfc2VyaWVfbmFtZSA9IHN0ci5zdHJlYW1fdHZnX25hbWU7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHN0ci5zb3VyY2Vfc2VyaWVfbmFtZSA9IHN0cmVhbS5zZXJpZV9uYW1lOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgc3RyLnNvdXJjZV9zZXJpZV9zZWFzb24gPSBzdHJlYW0uc2VyaWVfc2Vhc29uOwogICAgICAgICAgICAgIHN0ci5zb3VyY2Vfc2VyaWVfZXBpc29kZSA9IHN0cmVhbS5zZXJpZV9lcGlzb2RlOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gc3RyOwogICAgICAgICAgfSk7CiAgICAgICAgICBzdHJlYW1zLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgcmV0dXJuIGEuc291cmNlX3N0cmVhbV9vcmRlciA+IGIuc291cmNlX3N0cmVhbV9vcmRlciA/IDEgOiBiLnNvdXJjZV9zdHJlYW1fb3JkZXIgPiBhLnNvdXJjZV9zdHJlYW1fb3JkZXIgPyAtMSA6IDA7CiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMTkucGxheWxpc3RFZGl0b3Iuc3RyZWFtcyA9IHN0cmVhbXM7CiAgICAgICAgICBfdGhpczE5LmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczE5LmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMTkuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIG1vdmVUb1NlbGVjdGVkR3JvdXA6IGZ1bmN0aW9uIG1vdmVUb1NlbGVjdGVkR3JvdXAoKSB7CiAgICAgIHZhciBfdGhpczIwID0gdGhpczsKCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIHN0cmVhbXMgPSB0aGlzLmFjdGl2ZVN0cmVhbXMuam9pbigpOwogICAgICB2YXIgaW5kZXggPSB0aGlzLnBsYXlsaXN0RWRpdG9yLmdyb3Vwcy5maW5kSW5kZXgoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgcmV0dXJuIGdyb3VwLmlkID09IF90aGlzMjAuYWN0aXZlR3JvdXA7CiAgICAgIH0pOwogICAgICBodHRwU2VydmljZS5wb3N0KCJlZGl0b3IvbW92ZS10by1ncm91cC8iLmNvbmNhdCh0aGlzLmFjdGl2ZUdyb3VwVHlwZSksIHsKICAgICAgICBwbGF5bGlzdF9pZDogdGhpcy5wbGF5bGlzdEVkaXRvci5pZCwKICAgICAgICBzdHJlYW1zOiBzdHJlYW1zLAogICAgICAgIGdyb3VwX2lkOiB0aGlzLmFjdGl2ZUdyb3Vwc1swXQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIwLmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBpZiAocmVzLnN0YXR1cyAmJiByZXMuZGF0YSkgewogICAgICAgICAgX3RoaXMyMC5sb2FkUGxheWxpc3QoX3RoaXMyMC5wbGF5bGlzdEVkaXRvci5pZCwgaW5kZXgpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMjAuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVDaGFuZ2VzTW9kYWw6IGZ1bmN0aW9uIHNhdmVDaGFuZ2VzTW9kYWwoc2hvdykgewogICAgICB2YXIgc2F2ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgICAgIHRoaXMuc2F2ZUNoYW5nZXMubW9kYWwgPSBzaG93OwoKICAgICAgaWYgKHNhdmUpIHsKICAgICAgICB0aGlzLmRvU2F2ZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubG9hZFN0cmVhbXMoKTsKICAgICAgfQogICAgfSwKICAgIHJhZGlvQnJvd3Nlck1vZGFsOiBmdW5jdGlvbiByYWRpb0Jyb3dzZXJNb2RhbChzaG93KSB7CiAgICAgIHZhciBfdGhpczIxID0gdGhpczsKCiAgICAgIHZhciBzYXZlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKCiAgICAgIGlmIChzaG93KSB7CiAgICAgICAgdGhpcy5yYWRpb0Jyb3dzZXIuc2VhcmNoID0gIiI7CiAgICAgICAgdGhpcy5yYWRpb0Jyb3dzZXIucmVzdWx0cyA9IFtdOwogICAgICAgIHRoaXMucmFkaW9Ccm93c2VyLmFjdGl2ZSA9IFtdOwogICAgICB9CgogICAgICBpZiAoc2F2ZSkgewogICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICB2YXIgZ3JvdXBJbmRleCA9IHRoaXMucGxheWxpc3RFZGl0b3IuZ3JvdXBzLmZpbmRJbmRleChmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICAgIHJldHVybiBncm91cC5pZCA9PSBfdGhpczIxLmFjdGl2ZUdyb3VwOwogICAgICAgIH0pOwogICAgICAgIHZhciBvcmRlciA9IHRoaXMucGxheWxpc3RFZGl0b3Iuc3RyZWFtcy5sZW5ndGg7CiAgICAgICAgdmFyIHN0cmVhbXMgPSB0aGlzLnJhZGlvQnJvd3Nlci5hY3RpdmUubWFwKGZ1bmN0aW9uIChpbmRleCkgewogICAgICAgICAgdmFyIHJhZGlvID0gX3RoaXMyMS5yYWRpb0Jyb3dzZXIucmVzdWx0c1tpbmRleF07CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzb3VyY2Vfc3RyZWFtX3VybDogcmFkaW8udXJsLAogICAgICAgICAgICBzdHJlYW1fdHZnX25hbWU6IHJhZGlvLm5hbWUsCiAgICAgICAgICAgIHN0cmVhbV90dmdfaWQ6ICIiLAogICAgICAgICAgICBzdHJlYW1fdHZnX2xvZ286IHJhZGlvLmZhdmljb24sCiAgICAgICAgICAgIHN0cmVhbV9yYWRpbzogdHJ1ZSwKICAgICAgICAgICAgc3RyZWFtX29yZGVyOiBvcmRlcisrCiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICAgIGh0dHBTZXJ2aWNlLnBvc3QoImVkaXRvci9hZGQtc3RyZWFtcy8iLmNvbmNhdCh0aGlzLmFjdGl2ZUdyb3VwVHlwZSksIHsKICAgICAgICAgIHBsYXlsaXN0X2lkOiB0aGlzLnBsYXlsaXN0RWRpdG9yLmlkLAogICAgICAgICAgZ3JvdXBfaWQ6IHRoaXMuZ2V0R3JvdXBXaXRoSWQodGhpcy5hY3RpdmVHcm91cCkuaWQsCiAgICAgICAgICBzdHJlYW1zOiBzdHJlYW1zCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczIxLmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgIGlmIChyZXMuc3RhdHVzKSB7CiAgICAgICAgICAgIF90aGlzMjEubG9hZFBsYXlsaXN0KF90aGlzMjEucGxheWxpc3RFZGl0b3IuaWQsIGdyb3VwSW5kZXgpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMjEuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMucmFkaW9Ccm93c2VyLm1vZGFsID0gc2hvdzsKICAgIH0sCiAgICBmaW5kUmFkaW9icm93c2VyOiBmdW5jdGlvbiBmaW5kUmFkaW9icm93c2VyKHNlYXJjaCkgewogICAgICB2YXIgX3RoaXMyMiA9IHRoaXM7CgogICAgICBpZiAoc2VhcmNoLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMucmFkaW9Ccm93c2VyLnJlc3VsdHMgPSBbXTsKICAgICAgICB0aGlzLnJhZGlvQnJvd3Nlci5hY3RpdmUgPSBbXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBodHRwU2VydmljZS5wb3N0KCJlZGl0b3IvZmluZC1yYWRpb2Jyb3dzZXIiLCB7CiAgICAgICAgICBzZWFyY2g6IHNlYXJjaAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMyMi5yYWRpb0Jyb3dzZXIuYWN0aXZlID0gW107CgogICAgICAgICAgaWYgKHJlcy5zdGF0dXMpIHsKICAgICAgICAgICAgX3RoaXMyMi5yYWRpb0Jyb3dzZXIucmVzdWx0cyA9IHJlcy5kYXRhOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyMi5yYWRpb0Jyb3dzZXIucmVzdWx0cyA9IFtdOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMjIucmFkaW9Ccm93c2VyLmFjdGl2ZSA9IFtdOwogICAgICAgICAgX3RoaXMyMi5yYWRpb0Jyb3dzZXIucmVzdWx0cyA9IFtdOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc291bmRjbG91ZE1vZGFsOiBmdW5jdGlvbiBzb3VuZGNsb3VkTW9kYWwoc2hvdykgewogICAgICB2YXIgX3RoaXMyMyA9IHRoaXM7CgogICAgICB2YXIgc2F2ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CgogICAgICBpZiAoc2hvdykgewogICAgICAgIHRoaXMuc291bmRjbG91ZC51cmwgPSAiIjsKICAgICAgICB0aGlzLnNvdW5kY2xvdWQudHJhY2sgPSBudWxsOwogICAgICB9CgogICAgICBpZiAoc2F2ZSkgewogICAgICAgIGlmICh0aGlzLnNvdW5kY2xvdWQudHJhY2spIHsKICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIHZhciBncm91cEluZGV4ID0gdGhpcy5wbGF5bGlzdEVkaXRvci5ncm91cHMuZmluZEluZGV4KGZ1bmN0aW9uIChncm91cCkgewogICAgICAgICAgICByZXR1cm4gZ3JvdXAuaWQgPT0gX3RoaXMyMy5hY3RpdmVHcm91cDsKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIG9yZGVyID0gdGhpcy5wbGF5bGlzdEVkaXRvci5zdHJlYW1zLmxlbmd0aDsKICAgICAgICAgIHZhciBzdHJlYW1zID0gW3sKICAgICAgICAgICAgc291cmNlX3N0cmVhbV91cmw6IHRoaXMuc291bmRjbG91ZC51cmwsCiAgICAgICAgICAgIHN0cmVhbV90dmdfbmFtZTogdGhpcy5zb3VuZGNsb3VkLnRyYWNrLnRpdGxlLAogICAgICAgICAgICBzdHJlYW1fdHZnX2lkOiAiIiwKICAgICAgICAgICAgc3RyZWFtX3R2Z19sb2dvOiB0aGlzLnNvdW5kY2xvdWQudHJhY2suYXJ0d29ya191cmwucmVwbGFjZSgibGFyZ2UuanBnIiwgInQ1MDB4NTAwLmpwZyIpLAogICAgICAgICAgICBzdHJlYW1fcmFkaW86IHRydWUsCiAgICAgICAgICAgIHN0cmVhbV9vcmRlcjogb3JkZXIrKwogICAgICAgICAgfV07CiAgICAgICAgICBodHRwU2VydmljZS5wb3N0KCJlZGl0b3IvYWRkLXN0cmVhbXMvIi5jb25jYXQodGhpcy5hY3RpdmVHcm91cFR5cGUpLCB7CiAgICAgICAgICAgIHBsYXlsaXN0X2lkOiB0aGlzLnBsYXlsaXN0RWRpdG9yLmlkLAogICAgICAgICAgICBncm91cF9pZDogdGhpcy5nZXRHcm91cFdpdGhJZCh0aGlzLmFjdGl2ZUdyb3VwKS5pZCwKICAgICAgICAgICAgc3RyZWFtczogc3RyZWFtcwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzMjMuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICBpZiAocmVzLnN0YXR1cykgewogICAgICAgICAgICAgIF90aGlzMjMubG9hZFBsYXlsaXN0KF90aGlzMjMucGxheWxpc3RFZGl0b3IuaWQsIGdyb3VwSW5kZXgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMjMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuc291bmRjbG91ZC5tb2RhbCA9IHNob3c7CiAgICB9LAogICAgZ2V0U291bmRjbG91ZFRyYWNrOiBmdW5jdGlvbiBnZXRTb3VuZGNsb3VkVHJhY2sodXJsLCBjbGllbnRfaWQpIHsKICAgICAgdmFyIF90aGlzMjQgPSB0aGlzOwoKICAgICAgaWYgKHVybC5sZW5ndGggPT09IDAgfHwgIS9zb3VuZGNsb3VkXC5jb20vLnRlc3QodXJsKSkgewogICAgICAgIHRoaXMuc291bmRjbG91ZC51cmwgPSAiIjsKICAgICAgICB0aGlzLnNvdW5kY2xvdWQudHJhY2sgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIGh0dHBTZXJ2aWNlLnBvc3QoImVkaXRvci9zb3VuZGNsb3VkLXRyYWNrIiwgewogICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICBjbGllbnRfaWQ6IGNsaWVudF9pZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgJiYgT2JqZWN0LmtleXMocmVzLmRhdGEpLmxlbmd0aCkgewogICAgICAgICAgICBfdGhpczI0LnNvdW5kY2xvdWQudHJhY2sgPSByZXMuZGF0YTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMjQuc291bmRjbG91ZC50cmFjayA9IG51bGw7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyNC5zb3VuZGNsb3VkLnRyYWNrID0gbnVsbDsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGdyb3VwRG91YmxlQ2xpY2s6IGZ1bmN0aW9uIGdyb3VwRG91YmxlQ2xpY2soKSB7CiAgICAgIGlmICh0aGlzLmFjdGl2ZUdyb3Vwcy5sZW5ndGggPT09IDEpIHsKICAgICAgICB0aGlzLmVkaXRHcm91cE1vZGFsKHRydWUpOwogICAgICB9CiAgICB9LAogICAgc3RyZWFtRG91YmxlQ2xpY2s6IGZ1bmN0aW9uIHN0cmVhbURvdWJsZUNsaWNrKCkgewogICAgICBpZiAodGhpcy5hY3RpdmVTdHJlYW1zLmxlbmd0aCA9PT0gMSkgewogICAgICAgIHRoaXMuZWRpdFN0cmVhbU1vZGFsKHRydWUpOwogICAgICB9CiAgICB9CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoInJpZ2h0LW1lbnUiKTsKICAgIEV2ZW50QnVzLiRvbigic2VhcmNoIiwgdGhpcy5zZWFyY2hFZGl0b3IpOwogICAgRXZlbnRCdXMuJG9uKCJwcmludCIsIHRoaXMucHJpbnRFZGl0b3IpOwogICAgRXZlbnRCdXMuJG9uKCJ0YWItY2hhbmdlIiwgdGhpcy5kb1RhYkNoYW5nZSk7CiAgICBFdmVudEJ1cy4kb24oInNhdmUiLCB0aGlzLmRvU2F2ZSk7CiAgICBFdmVudEJ1cy4kb24oImNhbmNlbCIsIHRoaXMuZG9DYW5jZWwpOwogICAgRXZlbnRCdXMuJG9uKCJlZGl0b3ItcGxheWxpc3QiLCB0aGlzLmxvYWRQbGF5bGlzdCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCJyaWdodC1tZW51Iik7CiAgICBFdmVudEJ1cy4kb2ZmKCJzZWFyY2giLCB0aGlzLnNlYXJjaEVkaXRvcik7CiAgICBFdmVudEJ1cy4kb2ZmKCJwcmludCIsIHRoaXMucHJpbnRFZGl0b3IpOwogICAgRXZlbnRCdXMuJG9mZigidGFiLWNoYW5nZSIsIHRoaXMuZG9UYWJDaGFuZ2UpOwogICAgRXZlbnRCdXMuJG9mZigic2F2ZSIsIHRoaXMuZG9TYXZlKTsKICAgIEV2ZW50QnVzLiRvZmYoImNhbmNlbCIsIHRoaXMuZG9DYW5jZWwpOwogICAgRXZlbnRCdXMuJG9mZigiZWRpdG9yLXBsYXlsaXN0IiwgdGhpcy5sb2FkUGxheWxpc3QpOwogIH0sCiAgd2F0Y2g6IHsKICAgIGRyYWdTdHJlYW06IGZ1bmN0aW9uIGRyYWdTdHJlYW0odmFsKSB7CiAgICAgIGlmICghdmFsKSB7CiAgICAgICAgdGhpcy5wbGF5bGlzdEVkaXRvci5jaGFuZ2VkID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGRyYWdHcm91cDogZnVuY3Rpb24gZHJhZ0dyb3VwKHZhbCkgewogICAgICBpZiAoIXZhbCkgewogICAgICAgIHRoaXMucGxheWxpc3RFZGl0b3IuY2hhbmdlZCA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBhY3RpdmVHcm91cDogZnVuY3Rpb24gYWN0aXZlR3JvdXAodmFsKSB7CiAgICAgIGlmICh0aGlzLnBsYXlsaXN0RWRpdG9yLmNoYW5nZWQpIHsKICAgICAgICB0aGlzLnNhdmVDaGFuZ2VzTW9kYWwodHJ1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5sb2FkU3RyZWFtcygpOwogICAgICB9CiAgICB9LAogICAgInBsYXlsaXN0RWRpdG9yLmNoYW5nZWQiOiBmdW5jdGlvbiBwbGF5bGlzdEVkaXRvckNoYW5nZWQodmFsKSB7CiAgICAgIEV2ZW50QnVzLiRlbWl0KCJlZGl0b3ItY2hhbmdlcyIsIHZhbCk7CiAgICB9LAogICAgInJhZGlvQnJvd3Nlci5zZWFyY2giOiBmdW5jdGlvbiByYWRpb0Jyb3dzZXJTZWFyY2godmFsKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJhZGlvQnJvd3Nlci5ib3VuY2UpOwogICAgICB0aGlzLnJhZGlvQnJvd3Nlci5ib3VuY2UgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB2bS5maW5kUmFkaW9icm93c2VyKHZhbCk7CiAgICAgIH0sIDUwMCk7CiAgICB9LAogICAgInNvdW5kY2xvdWQudXJsIjogZnVuY3Rpb24gc291bmRjbG91ZFVybCh2YWwpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmFkaW9Ccm93c2VyLmJvdW5jZSk7CiAgICAgIHRoaXMucmFkaW9Ccm93c2VyLmJvdW5jZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZtLmdldFNvdW5kY2xvdWRUcmFjayh2YWwsIHZtLnNvdW5kY2xvdWRDbGllbnRJZCk7CiAgICAgIH0sIDUwMCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["editor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <erd-row class=\"m-0 p-0\" id=\"editor\">\n    <erd-spinner v-if=\"isLoading\" size=\"lg\" overlay absolute></erd-spinner>\n    <!--  \n\n      FIND / REPLACE\n\n    -->\n    <erd-modal\n      v-show=\"findReplace.modal\"\n      @close=\"findAndReplaceModal(false)\"\n      :title=\"$t('editor.find-replace')\"\n      class=\"select-none\"\n      small\n    >\n      <div class=\"px-2\">\n        <label class=\"w-100\">{{ $t(\"editor.search-for\") }}</label>\n        <erd-input\n          class=\"mt-1 mb-2 w-100\"\n          v-model=\"findReplace.from\"\n        ></erd-input>\n        <label class=\"w-100\">{{ $t(\"editor.replace-with\") }}</label>\n        <erd-input class=\"mt-1 mb-2 w-100\" v-model=\"findReplace.to\"></erd-input>\n        <label class=\"w-100\">{{ $t(\"editor.options\") }}</label>\n        <erd-checkbox class=\"mt-1\" v-model=\"findReplace.replaceAll\">{{\n          $t(\"editor.replace-all-occurences\")\n        }}</erd-checkbox>\n        <erd-checkbox class=\"mb-2\" v-model=\"findReplace.ignoreCase\">{{\n          $t(\"editor.ignore-case\")\n        }}</erd-checkbox>\n        <template v-if=\"findReplace.type === 1\">\n          <label class=\"w-100\">{{ $t(\"xtream.group\") }}</label>\n          <erd-radiobutton\n            class=\"mt-1\"\n            :value=\"1\"\n            v-model=\"findReplace.selectedOnly\"\n            >{{ $t(\"editor.selected-groups-only\") }}</erd-radiobutton\n          >\n          <erd-radiobutton :value=\"0\" v-model=\"findReplace.selectedOnly\">{{\n            $t(\"editor.all-groups\")\n          }}</erd-radiobutton>\n        </template>\n        <template v-if=\"findReplace.type === 2\">\n          <label class=\"w-100\">{{ $t(\"xtream.streams\") }}</label>\n          <erd-radiobutton\n            class=\"mt-1\"\n            :value=\"1\"\n            v-model=\"findReplace.selectedOnly\"\n            >{{ $t(\"editor.selected-streams-only\") }}</erd-radiobutton\n          >\n          <erd-radiobutton :value=\"0\" v-model=\"findReplace.selectedOnly\">{{\n            $t(\"editor.all-streams\")\n          }}</erd-radiobutton>\n        </template>\n      </div>\n      <template v-slot:footer>\n        <erd-button\n          @click=\"findAndReplaceModal(false)\"\n          icon=\"la-times\"\n          class=\"mr-1\"\n          variant=\"danger\"\n          >{{ $t(\"general.cancel\") }}</erd-button\n        >\n        <erd-button icon=\"la-check\" variant=\"success\" @click=\"findAndReplace\">{{\n          $t(\"general.ok\")\n        }}</erd-button>\n      </template>\n    </erd-modal>\n    <!--  \n\n      PREFIX / SUFFIX\n\n    -->\n    <erd-modal\n      v-show=\"prefixSuffix.modal\"\n      @close=\"prefixSuffixModal(false)\"\n      :title=\"$t('editor.add-prefix-suffix')\"\n      class=\"select-none\"\n      small\n    >\n      <div class=\"px-2\">\n        <label class=\"w-100\">{{ $t(\"editor.prefix\") }}</label>\n        <erd-input\n          class=\"mt-1 mb-2 w-100\"\n          v-model=\"prefixSuffix.prefix\"\n        ></erd-input>\n        <label class=\"w-100\">{{ $t(\"editor.suffix\") }}</label>\n        <erd-input\n          class=\"mt-1 mb-2 w-100\"\n          v-model=\"prefixSuffix.suffix\"\n        ></erd-input>\n        <template v-if=\"prefixSuffix.type === 1\">\n          <label class=\"w-100\">{{ $t(\"xtream.group\") }}</label>\n          <erd-radiobutton\n            class=\"mt-1\"\n            :value=\"1\"\n            v-model=\"prefixSuffix.selectedOnly\"\n            >{{ $t(\"editor.selected-groups-only\") }}</erd-radiobutton\n          >\n          <erd-radiobutton :value=\"0\" v-model=\"prefixSuffix.selectedOnly\">{{\n            $t(\"editor.all-groups\")\n          }}</erd-radiobutton>\n        </template>\n        <template v-if=\"prefixSuffix.type === 2\">\n          <label class=\"w-100\">{{ $t(\"xtream.streams\") }}</label>\n          <erd-radiobutton\n            class=\"mt-1\"\n            :value=\"1\"\n            v-model=\"prefixSuffix.selectedOnly\"\n            >{{ $t(\"editor.selected-streams-only\") }}</erd-radiobutton\n          >\n          <erd-radiobutton :value=\"0\" v-model=\"prefixSuffix.selectedOnly\">{{\n            $t(\"editor.all-streams\")\n          }}</erd-radiobutton>\n        </template>\n      </div>\n      <template v-slot:footer>\n        <erd-button\n          @click=\"prefixSuffixModal(false)\"\n          icon=\"la-times\"\n          class=\"mr-1\"\n          variant=\"danger\"\n          >{{ $t(\"general.cancel\") }}</erd-button\n        >\n        <erd-button\n          icon=\"la-check\"\n          variant=\"success\"\n          @click=\"addPrefixSuffix\"\n          >{{ $t(\"general.ok\") }}</erd-button\n        >\n      </template>\n    </erd-modal>\n    <!--  \n\n      CONVERT CASE\n\n    -->\n    <erd-modal\n      v-show=\"convertCase.modal\"\n      @close=\"convertCaseModal(false)\"\n      :title=\"$t('editor.change-case')\"\n      class=\"select-none\"\n      small\n    >\n      <div class=\"px-2\">\n        <label class=\"d-block mb-2\">{{ $t(\"editor.options\") }}</label>\n        <erd-radiobutton :value=\"0\" v-model=\"convertCase.method\">{{\n          $t(\"editor.title-case\")\n        }}</erd-radiobutton>\n        <erd-radiobutton :value=\"1\" v-model=\"convertCase.method\">{{\n          $t(\"editor.upper-case\")\n        }}</erd-radiobutton>\n        <erd-radiobutton class=\"mb-2\" :value=\"2\" v-model=\"convertCase.method\">{{\n          $t(\"editor.lower-case\")\n        }}</erd-radiobutton>\n        <template v-if=\"convertCase.type === 1\">\n          <label class=\"w-100\">{{ $t(\"xtream.group\") }}</label>\n          <erd-radiobutton\n            class=\"mt-1\"\n            :value=\"1\"\n            v-model=\"convertCase.selectedOnly\"\n            >{{ $t(\"editor.selected-groups-only\") }}</erd-radiobutton\n          >\n          <erd-radiobutton :value=\"0\" v-model=\"convertCase.selectedOnly\">{{\n            $t(\"editor.all-groups\")\n          }}</erd-radiobutton>\n        </template>\n        <template v-if=\"convertCase.type === 2\">\n          <label class=\"w-100\">{{ $t(\"xtream.streams\") }}</label>\n          <erd-radiobutton\n            class=\"mt-1\"\n            :value=\"1\"\n            v-model=\"convertCase.selectedOnly\"\n            >{{ $t(\"editor.selected-streams-only\") }}</erd-radiobutton\n          >\n          <erd-radiobutton :value=\"0\" v-model=\"convertCase.selectedOnly\">{{\n            $t(\"editor.all-streams\")\n          }}</erd-radiobutton>\n        </template>\n      </div>\n      <template v-slot:footer>\n        <erd-button\n          @click=\"convertCaseModal(false)\"\n          icon=\"la-times\"\n          class=\"mr-1\"\n          variant=\"danger\"\n          >{{ $t(\"general.cancel\") }}</erd-button\n        >\n        <erd-button icon=\"la-check\" variant=\"success\" @click=\"changeCase\">{{\n          $t(\"general.ok\")\n        }}</erd-button>\n      </template>\n    </erd-modal>\n    <!--  \n\n      EDIT GROUP\n\n    -->\n    <erd-modal\n      v-show=\"groupEditor.modal\"\n      @close=\"editGroupModal(false)\"\n      :title=\"$t('editor.edit-group')\"\n      class=\"select-none\"\n      small\n    >\n      <div class=\"px-2\">\n        <template v-if=\"canEditGroupType\">\n          <label class=\"w-100\">{{ $t(\"editor.group-type\") }}</label>\n          <erd-select\n            class=\"w-100 mt-1 mb-2\"\n            :items=\"groupTypes\"\n            v-model=\"groupEditor.group_type\"\n            v-if=\"groupEditor.modal\"\n          ></erd-select>\n        </template>\n        <label class=\"w-100\">{{ $t(\"editor.group-name\") }}</label>\n        <erd-input\n          class=\"mt-1 mb-2 w-100\"\n          v-model=\"groupEditor.group_name\"\n        ></erd-input>\n        <label class=\"w-100\">{{ $t(\"editor.parent-code\") }}</label>\n        <erd-input\n          class=\"mt-1 mb-2 w-100\"\n          v-model=\"groupEditor.group_parent_code\"\n        ></erd-input>\n        <erd-checkbox class=\"mb-2\" v-model=\"groupEditor.group_is_hidden\">{{\n          $t(\"editor.hidden\")\n        }}</erd-checkbox>\n      </div>\n      <template v-slot:footer>\n        <erd-button\n          @click=\"editGroupModal(false)\"\n          icon=\"la-times\"\n          class=\"mr-1\"\n          variant=\"danger\"\n          >{{ $t(\"general.cancel\") }}</erd-button\n        >\n        <erd-button icon=\"la-check\" variant=\"success\" @click=\"editGroup\">{{\n          $t(\"general.ok\")\n        }}</erd-button>\n      </template>\n    </erd-modal>\n    <!--  \n\n      EDIT STREAM\n\n    -->\n    <erd-modal\n      v-show=\"streamEditor.modal\"\n      @close=\"editStreamModal(false)\"\n      :title=\"$t('editor.edit-stream')\"\n      class=\"select-none\"\n      small\n    >\n      <div class=\"px-2\">\n        <template v-if=\"activeGroupType === 1\">\n          <label class=\"w-100\">{{ $t(\"editor.name-placeholder\") }}</label>\n          <erd-input\n            class=\"mt-1 mb-2 w-100\"\n            v-model=\"streamEditor.stream_tvg_name\"\n          ></erd-input>\n          <label class=\"w-100\">{{ $t(\"editor.epg-channel-id\") }}</label>\n          <erd-input\n            class=\"mt-1 mb-2 w-100\"\n            v-model=\"streamEditor.stream_tvg_id\"\n          ></erd-input>\n          <label class=\"w-100\">{{ $t(\"editor.stream-icon\") }}</label>\n          <erd-input\n            class=\"mt-1 mb-2 w-100\"\n            v-model=\"streamEditor.stream_tvg_logo\"\n          ></erd-input>\n          <div\n            class=\"form-control text-center mb-2\"\n            v-if=\"streamEditor.stream_tvg_logo\"\n          >\n            <a :href=\"streamEditor.stream_tvg_logo\" target=\"_blank\"\n              ><img\n                class=\"editor-stream-icon\"\n                :src=\"streamEditor.stream_tvg_logo\"\n            /></a>\n          </div>\n          <label class=\"w-100\">{{ $t(\"editor.parent-code\") }}</label>\n          <erd-input\n            class=\"mt-1 mb-3 w-100\"\n            v-model=\"streamEditor.stream_parent_code\"\n          ></erd-input>\n          <erd-checkbox\n            class=\"mb-1\"\n            v-model=\"streamEditor.stream_radio\"\n            :true-value=\"1\"\n            :false-value=\"0\"\n            >{{ $t(\"editor.radio\") }}</erd-checkbox\n          >\n        </template>\n        <template v-if=\"activeGroupType === 2\">\n          <label class=\"w-100\">{{ $t(\"xtream.movie-name\") }}</label>\n          <erd-input\n            class=\"mt-1 mb-2 w-100\"\n            v-model=\"streamEditor.movie_name\"\n          ></erd-input>\n          <label class=\"w-100\">{{ $t(\"xtream.movie-year\") }}</label>\n          <erd-input\n            class=\"mt-1 mb-2 w-100\"\n            v-model=\"streamEditor.movie_year\"\n          ></erd-input>\n          <label class=\"w-100\">{{ $t(\"xtream.tmdb-id\") }}</label>\n          <erd-input\n            class=\"mt-1 mb-2 w-100\"\n            v-model=\"streamEditor.tmdb_id\"\n          ></erd-input>\n          <label class=\"w-100\">{{ $t(\"xtream.movie-poster\") }}</label>\n          <erd-input\n            class=\"mt-1 mb-2 w-100\"\n            v-model=\"streamEditor.stream_tvg_logo\"\n          ></erd-input>\n          <div\n            class=\"form-control text-center mb-2\"\n            v-if=\"streamEditor.stream_tvg_logo\"\n          >\n            <a :href=\"streamEditor.stream_tvg_logo\" target=\"_blank\"\n              ><img\n                class=\"editor-movie-poster\"\n                :src=\"streamEditor.stream_tvg_logo\"\n            /></a>\n          </div>\n        </template>\n        <erd-checkbox class=\"mb-1\" v-model=\"streamEditor.stream_is_hidden\">{{\n          $t(\"editor.hidden\")\n        }}</erd-checkbox>\n      </div>\n      <template v-slot:footer>\n        <erd-button\n          @click=\"editStreamModal(false)\"\n          icon=\"la-times\"\n          class=\"mr-1\"\n          variant=\"danger\"\n          >{{ $t(\"general.cancel\") }}</erd-button\n        >\n        <erd-button icon=\"la-check\" variant=\"success\" @click=\"editStream\">{{\n          $t(\"general.ok\")\n        }}</erd-button>\n      </template>\n    </erd-modal>\n    <!--  \n\n      SAVE CHANGES\n\n    -->\n    <erd-modal\n      v-show=\"saveChanges.modal\"\n      @close=\"saveChangesModal(false)\"\n      :title=\"$t('editor.save-changes')\"\n      class=\"select-none\"\n      small\n    >\n      <div class=\"px-2\">\n        <p>{{ $t(\"editor.save-changes-text\") }}</p>\n      </div>\n      <template v-slot:footer>\n        <erd-button\n          @click=\"saveChangesModal(false)\"\n          icon=\"la-times\"\n          class=\"mr-1\"\n          variant=\"danger\"\n          >{{ $t(\"general.cancel\") }}</erd-button\n        >\n        <erd-button\n          icon=\"la-check\"\n          variant=\"success\"\n          @click=\"saveChangesModal(false, true)\"\n          >{{ $t(\"general.ok\") }}</erd-button\n        >\n      </template>\n    </erd-modal>\n    <!--  \n\n      RADIOBROWSER\n\n    -->\n    <erd-modal\n      v-show=\"radioBrowser.modal\"\n      @close=\"radioBrowserModal(false)\"\n      :title=\"$t('editor.import-radiobrowser')\"\n      class=\"select-none\"\n    >\n      <div class=\"px-2\">\n        <label class=\"w-100\" for=\"radiobrowser-search\">{{\n          $t(\"menu.search\")\n        }}</label>\n        <erd-input\n          id=\"radiobrowser-search\"\n          class=\"mt-1 mb-2 w-100\"\n          v-model=\"radioBrowser.search\"\n          :placeholder=\"$t('menu.search')\"\n        ></erd-input>\n        <div class=\"radiobrowser-stations\">\n          <p class=\"mb-1 pb-0\" v-if=\"radioBrowser.results.length\">\n            {{ $t(\"editor.select-radio-stations\") }}\n          </p>\n          <perfect-scrollbar\n            :settings=\"{ suppressScrollX: true, wheelPropagation: false }\"\n          >\n            <div\n              class=\"form-control radiobrowser-station\"\n              :class=\"{ selected: radioBrowser.active.includes(index) }\"\n              v-for=\"(station, index) in radioBrowser.results\"\n              :key=\"`radiobrowser-station-${index}-${station.name}`\"\n              @click.ctrl=\"toggleRadiobrowserSelection(index)\"\n              @click.shift=\"selectRadiobrowserRangeSelection(index)\"\n              @click.exact=\"selectRadiobrowserSelection(index)\"\n            >\n              <span class=\"station-name\">{{ station.name }}</span>\n              <span class=\"text-muted text-small ml-1\">{{\n                station.language.replace(/\\b\\w/g, (l) => l.toUpperCase())\n              }}</span>\n              <span class=\"text-muted text-small float-right\"\n                >{{ station.codec }} - {{ station.bitrate }}</span\n              >\n            </div>\n          </perfect-scrollbar>\n        </div>\n      </div>\n      <template v-slot:footer>\n        <erd-button\n          @click=\"radioBrowserModal(false)\"\n          icon=\"la-times\"\n          class=\"mr-1\"\n          variant=\"danger\"\n          >{{ $t(\"general.cancel\") }}</erd-button\n        >\n        <erd-button\n          icon=\"la-check\"\n          variant=\"success\"\n          @click=\"radioBrowserModal(false, true)\"\n          >{{ $t(\"general.ok\") }}</erd-button\n        >\n      </template>\n    </erd-modal>\n    <!--  \n\n      SOUNDCLOUD\n\n    -->\n    <erd-modal\n      v-show=\"soundcloud.modal\"\n      @close=\"soundcloudModal(false)\"\n      :title=\"$t('editor.import-soundcloud')\"\n      class=\"select-none\"\n    >\n      <div class=\"px-2\">\n        <label class=\"w-100\" for=\"soundcloud-url\">{{\n          $t(\"radio.soundcloud-url\")\n        }}</label>\n        <erd-input\n          id=\"soundcloud-url\"\n          class=\"mt-1 mb-2 w-100\"\n          v-model=\"soundcloud.url\"\n          :placeholder=\"$t('radio.soundcloud-url-placeholder')\"\n        ></erd-input>\n        <div\n          class=\"soundcloud-info form-control mb-2 w-100 text-center\"\n          v-if=\"soundcloud.track\"\n        >\n          <img\n            :src=\"\n              soundcloud.track.artwork_url.replace('large.jpg', 't500x500.jpg')\n            \"\n            class=\"cover mt-2\"\n          />\n          <div class=\"info\">\n            <h5 class=\"mb-1\">{{ soundcloud.track.title }}</h5>\n            <p class=\"p-0 m-0 text-muted\">\n              {{ formatNumber(soundcloud.track.likes_count) }}\n              {{ $t(\"radio.likes\") }} <small>•</small>\n              {{ formatDateYoutube(soundcloud.track.display_date) }}\n              <small>•</small>\n              {{ formatSeconds(soundcloud.track.duration / 1000) }}\n            </p>\n          </div>\n        </div>\n      </div>\n      <template v-slot:footer>\n        <erd-button\n          @click=\"soundcloudModal(false)\"\n          icon=\"la-times\"\n          class=\"mr-1\"\n          variant=\"danger\"\n          >{{ $t(\"general.cancel\") }}</erd-button\n        >\n        <erd-button\n          icon=\"la-check\"\n          variant=\"success\"\n          @click=\"soundcloudModal(false, true)\"\n          >{{ $t(\"general.ok\") }}</erd-button\n        >\n      </template>\n    </erd-modal>\n    <!--  \n\n      APP MENU\n\n    -->\n    <erd-app-menu icon=\"la-tools\">\n      <div class=\"pt-3 select-none\" v-if=\"playlistSelected\">\n        <erd-collapse :title=\"$t('editor.sort-groups')\" key=\"sort-groups\" small>\n          <ul class=\"list-unstyled mb-0\">\n            <li class=\"nav-item\">\n              <a href=\"#\" @click.prevent=\"sortGroupAlphaUp\"\n                ><i class=\"las la-sort-alpha-up mr-1\"></i\n                >{{ $t(\"editor.sort-alpha-up\") }}</a\n              >\n            </li>\n            <li class=\"nav-item\">\n              <a href=\"#\" @click.prevent=\"sortGroupAlphaDown\"\n                ><i class=\"las la-sort-alpha-down mr-1\"></i\n                >{{ $t(\"editor.sort-alpha-down\") }}</a\n              >\n            </li>\n            <li class=\"nav-item\">\n              <a href=\"#\" @click.prevent=\"sortGroupTypeUp\"\n                ><i class=\"las la-sort-numeric-up mr-1\"></i\n                >{{ $t(\"editor.sort-type-up\") }}</a\n              >\n            </li>\n            <li class=\"nav-item\">\n              <a href=\"#\" @click.prevent=\"sortGroupTypeDown\"\n                ><i class=\"las la-sort-numeric-down mr-1\"></i\n                >{{ $t(\"editor.sort-type-down\") }}</a\n              >\n            </li>\n          </ul>\n        </erd-collapse>\n        <erd-collapse\n          :title=\"$t('editor.sort-streams')\"\n          key=\"sort-streams\"\n          small\n        >\n          <ul class=\"list-unstyled mb-0\">\n            <li class=\"nav-item\">\n              <a href=\"#\" @click.prevent=\"sortStreamAlphaUp\"\n                ><i class=\"las la-sort-alpha-up mr-1\"></i\n                >{{ $t(\"editor.sort-alpha-up\") }}</a\n              >\n            </li>\n            <li class=\"nav-item\">\n              <a href=\"#\" @click.prevent=\"sortStreamAlphaDown\"\n                ><i class=\"las la-sort-alpha-down mr-1\"></i\n                >{{ $t(\"editor.sort-alpha-down\") }}</a\n              >\n            </li>\n            <li class=\"nav-item\">\n              <a href=\"#\" @click.prevent=\"sortStreamHiddenUp\"\n                ><i class=\"las la-eye-slash mr-1\"></i\n                >{{ $t(\"editor.sort-hidden-up\") }}</a\n              >\n            </li>\n            <li class=\"nav-item\">\n              <a href=\"#\" @click.prevent=\"sortStreamHiddenDown\"\n                ><i class=\"las la-eye-slash mr-1\"></i\n                >{{ $t(\"editor.sort-hidden-down\") }}</a\n              >\n            </li>\n          </ul>\n        </erd-collapse>\n        <erd-collapse\n          v-if=\"activeGroupType == 1\"\n          :title=\"$t('editor.import-radio')\"\n          key=\"import-radio\"\n          small\n        >\n          <ul class=\"list-unstyled mb-0\">\n            <li class=\"nav-item\">\n              <a href=\"#\" @click.prevent=\"radioBrowserModal(true)\"\n                ><i class=\"las la-broadcast-tower mr-1\"></i\n                >{{ $t(\"editor.import-radiobrowser\") }}</a\n              >\n            </li>\n          </ul>\n        </erd-collapse>\n        <erd-collapse\n          v-if=\"activeGroupType == 1\"\n          :title=\"$t('editor.import-music')\"\n          key=\"import-music\"\n          small\n        >\n          <ul class=\"list-unstyled mb-0\">\n            <li class=\"nav-item\">\n              <a href=\"#\" @click.prevent=\"soundcloudModal(true)\"\n                ><i class=\"lab la-soundcloud mr-1\"></i\n                >{{ $t(\"editor.import-soundcloud\") }}</a\n              >\n            </li>\n          </ul>\n        </erd-collapse>\n      </div>\n    </erd-app-menu>\n    <erd-row class=\"m-0 p-0\" v-if=\"playlistSelected\">\n      <!--  \n\n        GROUPS\n\n      -->\n      <erd-col xl=\"4\" lg=\"4\" md=\"12\" class=\"pr-lg-0\">\n        <div class=\"form-control\">\n          <span class=\"mr-1\">{{ $t(\"xtream.groups\") }}</span>\n          <span class=\"font-weight-bold\">{{ filteredGroups.length }}</span>\n        </div>\n        <erd-context-menu\n          :items=\"groupContextMenu\"\n          depth=\"1\"\n          ref=\"context-group\"\n        ></erd-context-menu>\n        <div @contextmenu.prevent=\"openContext('context-group')\">\n          <draggable\n            v-model=\"playlistEditor.groups\"\n            v-bind=\"groupDragOptions\"\n            @start=\"dragGroup = true\"\n            @end=\"dragGroup = false\"\n            @change=\"groupDragChanged\"\n            handle=\".handle\"\n          >\n            <transition-group\n              type=\"transition\"\n              :name=\"!dragGroup ? 'flip-list' : null\"\n            >\n              <div\n                class=\"form-control editor-group\"\n                :class=\"{\n                  selected: activeGroups.includes(group.id),\n                  active: activeGroup === group.id,\n                  hidden: group.group_is_hidden,\n                }\"\n                v-for=\"(group, index) in filteredGroups\"\n                :key=\"`group-${index}`\"\n                @click.ctrl=\"toggleGroupSelection(group.id)\"\n                @click.shift=\"selectGroupRangeSelection(group.id)\"\n                @click.exact=\"selectGroupSelection(group.id)\"\n                @dblclick=\"groupDoubleClick\"\n              >\n                <i class=\"las la-braille handle mr-2\"></i>\n                <a href=\"#\" @click.prevent=\"activeGroup = group.id\">{{\n                  group.group_name\n                }}</a>\n                <span class=\"float-right\">{{ group.streams }}</span>\n              </div>\n            </transition-group>\n          </draggable>\n        </div>\n      </erd-col>\n      <!--  \n\n        STREAMS\n\n      -->\n      <erd-col xl=\"8\" lg=\"8\" md=\"12\">\n        <div class=\"form-control\">\n          <span class=\"mr-1\">{{ $t(\"xtream.streams\") }}</span>\n          <span class=\"font-weight-bold\">{{ filteredStreams.length }}</span>\n        </div>\n        <erd-context-menu\n          :items=\"streamContextMenu\"\n          depth=\"1\"\n          ref=\"context-stream\"\n        ></erd-context-menu>\n        <!-- LIVE -->\n        <template v-if=\"activeGroupType === 1 && !isLoading\">\n          <div @contextmenu.prevent=\"openContext('context-stream')\">\n            <draggable\n              v-model=\"playlistEditor.streams\"\n              v-bind=\"streamDragOptions\"\n              @start=\"dragStream = true\"\n              @end=\"dragStream = false\"\n              @change=\"streamDragChanged\"\n              handle=\".handle\"\n            >\n              <transition-group\n                type=\"transition\"\n                :name=\"!dragStream ? 'flip-list' : null\"\n              >\n                <div\n                  class=\"form-control editor-stream\"\n                  :class=\"{\n                    selected: activeStreams.includes(stream.id),\n                    active: activeStream === stream.id,\n                    hidden: stream.stream_is_hidden,\n                  }\"\n                  v-for=\"(stream, index) in filteredStreams\"\n                  :key=\"`stream-${index}-${stream.id}`\"\n                  @click.ctrl=\"toggleStreamSelection(stream.id)\"\n                  @click.shift=\"selectStreamRangeSelection(stream.id)\"\n                  @click.exact=\"selectStreamSelection(stream.id)\"\n                  @dblclick=\"streamDoubleClick\"\n                >\n                  <i class=\"las la-braille handle mr-2\"></i>\n                  <span class=\"mr-2\">{{ stream.stream_tvg_name }}</span>\n                  <span class=\"text-muted\">{{ stream.stream_tvg_id }}</span>\n                  <i class=\"ml-2 las la-music\" v-if=\"stream.stream_radio\"></i>\n                  <img\n                    class=\"stream-icon\"\n                    v-if=\"stream.stream_tvg_logo\"\n                    :src=\"stream.stream_tvg_logo\"\n                  />\n                </div>\n              </transition-group>\n            </draggable>\n          </div>\n        </template>\n        <!-- MOVIES -->\n        <template v-if=\"activeGroupType === 2 && !isLoading\">\n          <div @contextmenu.prevent=\"openContext('context-stream')\">\n            <draggable\n              v-model=\"playlistEditor.streams\"\n              v-bind=\"streamDragOptions\"\n              @start=\"dragStream = true\"\n              @end=\"dragStream = false\"\n              @change=\"streamDragChanged\"\n              handle=\".handle\"\n            >\n              <transition-group\n                type=\"transition\"\n                :name=\"!dragStream ? 'flip-list' : null\"\n              >\n                <div\n                  class=\"form-control editor-stream\"\n                  :class=\"{\n                    selected: activeStreams.includes(stream.id),\n                    active: activeStream === stream.id,\n                    hidden: stream.stream_is_hidden,\n                    success: stream.sync_is_new,\n                    danger: stream.sync_is_removed,\n                  }\"\n                  v-for=\"(stream, index) in filteredStreams\"\n                  :key=\"`stream-${index}`\"\n                  @click.ctrl=\"toggleStreamSelection(stream.id)\"\n                  @click.shift=\"selectStreamRangeSelection(stream.id)\"\n                  @click.exact=\"selectStreamSelection(stream.id)\"\n                  @dblclick=\"streamDoubleClick\"\n                >\n                  <i class=\"las la-braille handle mr-2\"></i>\n                  <span class=\"mr-2\">{{ stream.movie_name }}</span>\n                  <span class=\"text-muted\">{{ stream.movie_year }}</span>\n                </div>\n              </transition-group>\n            </draggable>\n          </div>\n        </template>\n        <!-- SERIES -->\n        <template v-if=\"activeGroupType === 3 && !isLoading\">\n          <div @contextmenu.prevent=\"openContext('context-stream')\">\n            <draggable\n              v-model=\"playlistEditor.streams\"\n              v-bind=\"streamDragOptions\"\n              @start=\"dragStream = true\"\n              @end=\"dragStream = false\"\n              @change=\"streamDragChanged\"\n              handle=\".handle\"\n            >\n              <transition-group\n                type=\"transition\"\n                :name=\"!dragStream ? 'flip-list' : null\"\n              >\n                <div\n                  class=\"form-control editor-stream\"\n                  :class=\"{\n                    selected: activeStreams.includes(stream.id),\n                    active: activeStream === stream.id,\n                    hidden: stream.stream_is_hidden,\n                    success: stream.sync_is_new,\n                    danger: stream.sync_is_removed,\n                  }\"\n                  v-for=\"(stream, index) in filteredStreams\"\n                  :key=\"`stream-${index}`\"\n                  @click.ctrl=\"toggleStreamSelection(stream.id)\"\n                  @click.shift=\"selectStreamRangeSelection(stream.id)\"\n                  @click.exact=\"selectStreamSelection(stream.id)\"\n                  @dblclick=\"streamDoubleClick\"\n                >\n                  <i class=\"las la-braille handle mr-2\"></i>\n                  <span class=\"mr-2\">{{ stream.serie_name }}</span>\n                  <span class=\"text-muted mr-1\">{{\n                    $t(\"editor.season\").format(stream.serie_season)\n                  }}</span>\n                  <span class=\"text-muted\">{{\n                    $t(\"editor.episode\").format(stream.serie_episode)\n                  }}</span>\n                </div>\n              </transition-group>\n            </draggable>\n          </div>\n        </template>\n      </erd-col>\n    </erd-row>\n  </erd-row>\n</template>\n\n<script>\n/* eslint-disable vue/no-side-effects-in-computed-properties */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-useless-escape */\n\nimport { EventBus } from \"../../../services/ebus\";\nimport { httpService } from \"../../../services/http\";\nimport { mapGetters } from \"vuex\";\nimport draggable from \"vuedraggable\";\nimport { SubscriptionType } from \"../../../constants/config\";\n\nexport default {\n  components: {\n    draggable,\n  },\n  data() {\n    return {\n      activeTab: 0,\n      activeGroup: -1,\n      activeGroups: [],\n      activeStream: -1,\n      activeStreams: [],\n      dragGroup: false,\n      dragStream: false,\n      editor: false,\n      search: null,\n      isLoading: false,\n      playlistEditor: {\n        id: undefined,\n        playlist: null,\n        groups: [],\n        streams: [],\n        changed: false,\n      },\n      findReplace: {\n        type: 0,\n        modal: false,\n        from: \"\",\n        to: \"\",\n        replaceAll: false,\n        ignoreCase: false,\n        selectedOnly: 0,\n      },\n      prefixSuffix: {\n        type: 0,\n        modal: false,\n        prefix: \"\",\n        suffix: \"\",\n        selectedOnly: 0,\n      },\n      convertCase: {\n        type: 0,\n        modal: false,\n        method: 0,\n        selectedOnly: 0,\n      },\n      groupEditor: {\n        modal: false,\n        id: 0,\n        group_name: \"\",\n        group_parent_code: \"\",\n        group_type: 1,\n        group_is_hidden: 0,\n      },\n      streamEditor: {\n        modal: false,\n        id: -1,\n        stream_tvg_name: \"\",\n        stream_tvg_id: \"\",\n        stream_tvg_logo: \"\",\n        stream_parent_code: \"\",\n        stream_radio: 0,\n        stream_is_hidden: 0,\n        movie_name: \"\",\n        movie_year: \"\",\n        serie_name: \"\",\n        serie_season: 0,\n        serie_episode: 0,\n      },\n      radioBrowser: {\n        modal: false,\n        bounce: null,\n        active: [],\n        search: \"\",\n        results: [],\n      },\n      soundcloud: {\n        modal: false,\n        bounce: null,\n        url: \"\",\n        track: null,\n      },\n      saveChanges: {\n        modal: false,\n      },\n      groupTypes: [\n        { text: this.$t(\"xtream.live\"), value: 1 },\n        { text: this.$t(\"xtream.movies\"), value: 2 },\n        { text: this.$t(\"xtream.series\"), value: 3 },\n      ],\n    };\n  },\n  computed: {\n    ...mapGetters([\"currentUser\", \"settings\", \"soundcloudClientId\"]),\n    searchFiltered() {\n      if (this.search === null) {\n        return this.accounts;\n      } else {\n        var re = new RegExp(this.search, \"i\");\n        return this.accounts.filter((account) => {\n          return (\n            String(account.title).match(re) ||\n            String(account.host).match(re) ||\n            String(account.port).match(re) ||\n            String(account.username).match(re) ||\n            String(account.password).match(re) ||\n            this.formatDate(account.synced_at).match(re) ||\n            this.$t(`sync-interval.${account.sync_interval}`).match(re)\n          );\n        });\n      }\n    },\n    playlistSelected() {\n      return this.playlistEditor.id !== undefined;\n    },\n    lastSelectedGroup() {\n      return this.activeGroups[this.activeGroups.length - 1];\n    },\n    lastSelectedStream() {\n      return this.activeStreams[this.activeStreams.length - 1];\n    },\n    canEditGroupType() {\n      return (\n        this.groupEditor.id &&\n        this.getGroupWithId(this.groupEditor.id).streams == 0\n      );\n    },\n    groupDragOptions() {\n      return {\n        animation: 200,\n        group: \"groups\",\n        disabled: false,\n        ghostClass: \"ghost\",\n        multiDrag: true,\n        selectedClass: \"selected\",\n      };\n    },\n    streamDragOptions() {\n      return {\n        animation: 200,\n        group: \"streams\",\n        disabled: false,\n        ghostClass: \"ghost\",\n        multiDrag: true,\n        selectedClass: \"selected\",\n      };\n    },\n    subscriptionLimited() {\n      return (\n        this.currentUser.subscription &&\n        this.currentUser.subscription.subscription_type ==\n          SubscriptionType.Enthusiast\n      );\n    },\n    filteredGroups() {\n      if (this.subscriptionLimited) {\n        return this.playlistEditor.groups.filter(\n          (group) =>\n            group.group_is_removed !== 1 &&\n            group.source_group_type == 1 &&\n            group.group_type == 1\n        );\n      }\n      return this.playlistEditor.groups.filter(\n        (group) => group.group_is_removed !== 1\n      );\n    },\n    filteredStreams() {\n      return this.playlistEditor.streams.filter(\n        (group) => group.stream_is_removed !== 1\n      );\n    },\n    activeGroupType() {\n      let index = this.playlistEditor.groups.findIndex(\n        (group) => group.id == this.activeGroup\n      );\n      return index > -1 ? this.playlistEditor.groups[index].group_type : 0;\n    },\n    groupContextMenu() {\n      let vm = this;\n      return [\n        {\n          icon: \"la-plus\",\n          text: vm.$t(\"editor.add-group\"),\n          onClick: vm.addGroup,\n        },\n        {\n          disabled: vm.activeGroups.length !== 1,\n          icon: \"la-edit\",\n          text: vm.$t(\"editor.edit-group\"),\n          onClick: function () {\n            if (vm.activeGroups.length === 1) {\n              vm.editGroupModal(true);\n            }\n          },\n        },\n        {\n          divider: true,\n        },\n        {\n          text: vm.$t(\"general.select-all\"),\n          onClick: function () {\n            vm.activeGroups = [...vm.playlistEditor.groups.map((g) => g.id)];\n          },\n        },\n        {\n          text: vm.$t(\"general.select-none\"),\n          onClick: function () {\n            vm.activeGroups = [];\n          },\n        },\n        {\n          divider: true,\n        },\n        {\n          icon: \"la-search\",\n          text: vm.$t(\"editor.find-replace\"),\n          onClick: function () {\n            vm.findAndReplaceModal(true, 1);\n          },\n        },\n        {\n          icon: \"la-pen\",\n          text: vm.$t(\"editor.add-prefix-suffix\"),\n          onClick: function () {\n            vm.prefixSuffixModal(true, 1);\n          },\n        },\n        {\n          icon: \"la-font\",\n          text: vm.$t(\"editor.change-case\"),\n          onClick: function () {\n            vm.convertCaseModal(true, 1);\n          },\n        },\n        {\n          divider: true,\n        },\n        {\n          disabled: vm.activeGroups.length === 0,\n          icon: \"la-eye\",\n          text: vm.$t(\"editor.toggle-visibility\"),\n          onClick: function () {\n            if (vm.activeGroups.length) {\n              vm.toggleGroupVisibility();\n            }\n          },\n        },\n        {\n          disabled: vm.activeGroups.length === 0,\n          icon: \"la-trash\",\n          text: vm.$t(\"editor.delete\"),\n          onClick: function () {\n            if (vm.activeGroups.length) {\n              vm.deleteSelectedGroups();\n            }\n          },\n        },\n      ];\n    },\n    streamContextMenu() {\n      let vm = this;\n      return [\n        {\n          icon: \"la-plus\",\n          text: vm.$t(\"editor.add-stream\"),\n          onClick: vm.addGroup,\n        },\n        {\n          disabled: vm.activeStreams.length !== 1,\n          icon: \"la-edit\",\n          text: vm.$t(\"editor.edit-stream\"),\n          onClick: function () {\n            if (vm.activeStreams.length === 1) {\n              vm.editStreamModal(true);\n            }\n          },\n        },\n        {\n          divider: true,\n        },\n        {\n          text: vm.$t(\"general.select-all\"),\n          onClick: function () {\n            vm.activeStreams = [...vm.playlistEditor.streams.map((g) => g.id)];\n          },\n        },\n        {\n          text: vm.$t(\"general.select-none\"),\n          onClick: function () {\n            vm.activeStreams = [];\n          },\n        },\n        {\n          divider: true,\n        },\n        {\n          disabled:\n            vm.activeGroups.length !== 1 ||\n            vm.activeStreams.length === 0 ||\n            vm.getGroupWithId(vm.activeGroups[0]).group_type !==\n              vm.activeGroupType ||\n            vm.activeGroups[0] === vm.activeGroup,\n          icon: \"la-chevron-left\",\n          text: vm.$t(\"editor.move-to-selected-group\"),\n          onClick: function () {\n            vm.moveToSelectedGroup();\n          },\n        },\n        {\n          divider: true,\n        },\n        {\n          icon: \"la-search\",\n          text: vm.$t(\"editor.find-replace\"),\n          onClick: function () {\n            vm.findAndReplaceModal(true, 2);\n          },\n        },\n        {\n          icon: \"la-pen\",\n          text: vm.$t(\"editor.add-prefix-suffix\"),\n          onClick: function () {\n            vm.prefixSuffixModal(true, 2);\n          },\n        },\n        {\n          icon: \"la-font\",\n          text: vm.$t(\"editor.change-case\"),\n          onClick: function () {\n            vm.convertCaseModal(true, 2);\n          },\n        },\n        {\n          divider: true,\n        },\n        {\n          disabled: vm.activeStreams.length === 0 || vm.activeGroupType !== 1,\n          icon: \"la-music\",\n          text: vm.$t(\"editor.toggle-radio\"),\n          onClick: function () {\n            if (vm.activeStreams.length && vm.activeGroupType == 1) {\n              vm.toggleStreamRadio();\n            }\n          },\n        },\n        {\n          disabled: vm.activeStreams.length === 0,\n          icon: \"la-eye\",\n          text: vm.$t(\"editor.toggle-visibility\"),\n          onClick: function () {\n            if (vm.activeStreams.length) {\n              vm.toggleStreamVisibility();\n            }\n          },\n        },\n        {\n          divider: true,\n        },\n        {\n          disabled: vm.activeStreams.length === 0,\n          icon: \"la-trash\",\n          text: vm.$t(\"editor.delete\"),\n          onClick: function () {\n            if (vm.activeStreams.length) {\n              vm.deleteSelectedStreams();\n            }\n          },\n        },\n      ];\n    },\n  },\n  methods: {\n    groupDragChanged(g) {\n      for (let i = 0; i < this.playlistEditor.groups.length; i++) {\n        if (this.playlistEditor.groups[i].group_order != i + 1) {\n          this.playlistEditor.groups[i].group_order = i + 1;\n          this.playlistEditor.groups[i].modified = true;\n        }\n      }\n    },\n    streamDragChanged(g) {\n      for (let i = 0; i < this.playlistEditor.streams.length; i++) {\n        if (this.playlistEditor.streams[i].stream_order != i + 1) {\n          this.playlistEditor.streams[i].stream_order = i + 1;\n          this.playlistEditor.streams[i].modified = true;\n        }\n      }\n    },\n    openContext(context) {\n      this.$refs[context].open();\n    },\n    searchEditor(search) {\n      if (search.length === 0) {\n        this.search = null;\n      } else {\n        this.search = search;\n      }\n    },\n    printEditor() {\n      document.getElementById(\"editor\").print();\n    },\n    formatNumber(number) {\n      return new Intl.NumberFormat(this.$t(\"date.locale\")).format(number);\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString(\n        this.$t(\"date.locale\"),\n        this.dateOptions\n      );\n    },\n    formatDateYoutube(date) {\n      return new Date(date).toLocaleDateString(this.$t(\"date.locale\"), {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n      });\n    },\n    formatSeconds(sec) {\n      var d = Number(sec);\n      var h = Math.floor(d / 3600);\n      var m = Math.floor((d % 3600) / 60);\n      var s = Math.floor((d % 3600) % 60);\n\n      var hour = this.$t(\"general.hour\");\n      var hours = this.$t(\"general.hours\");\n      var minute = this.$t(\"general.minute\");\n      var minutes = this.$t(\"general.minutes\");\n      var second = this.$t(\"general.second\");\n      var seconds = this.$t(\"general.seconds\");\n\n      var hDisplay = h > 0 ? h + (h == 1 ? ` ${hour} ` : ` ${hours} `) : \"\";\n      var mDisplay = m > 0 ? m + (m == 1 ? ` ${minute} ` : ` ${minutes} `) : \"\";\n      var sDisplay = s > 0 ? s + (s == 1 ? ` ${second} ` : ` ${seconds} `) : \"\";\n      return hDisplay + mDisplay + sDisplay;\n    },\n\n    getGroupWithId(id) {\n      let index = this.playlistEditor.groups.findIndex(\n        (group) => group.id == id\n      );\n      return this.playlistEditor.groups[index];\n    },\n    getStreamWithId(id) {\n      let index = this.playlistEditor.streams.findIndex(\n        (stream) => stream.id == id\n      );\n      return this.playlistEditor.streams[index];\n    },\n    doSave() {\n      this.isLoading = true;\n      this.playlistEditor.changed = false;\n      return new Promise((resolve) => {\n        let index = this.playlistEditor.groups.findIndex((group) => {\n          return group.id == this.activeGroup;\n        });\n        let updateGroups = this.playlistEditor.groups\n          .filter((group) => !group.group_is_removed && group.modified)\n          .map((group) => {\n            return {\n              id: group.id,\n              group_name: group.group_name,\n              group_order: group.group_order,\n              group_type: group.group_type,\n              group_parent_code: group.group_parent_code,\n              group_is_hidden: group.group_is_hidden,\n            };\n          });\n        let deleteGroups = this.playlistEditor.groups\n          .filter((group) => group.group_is_removed && group.modified)\n          .map((group) => group.id)\n          .join();\n\n        let updateStreams;\n        switch (this.activeGroupType) {\n          // Live streams\n          case 1:\n            updateStreams = this.playlistEditor.streams\n              .filter(\n                (stream) => stream.stream_is_removed !== 1 && stream.modified\n              )\n              .map((stream) => {\n                return {\n                  id: stream.id,\n                  stream_tvg_name: stream.stream_tvg_name,\n                  stream_tvg_id: stream.stream_tvg_id,\n                  stream_tvg_logo: stream.stream_tvg_logo,\n                  stream_parent_code: stream.stream_parent_code,\n                  stream_radio: stream.stream_radio,\n                  stream_is_hidden: stream.stream_is_hidden,\n                  stream_order: stream.stream_order,\n                };\n              });\n            break;\n          // Movies\n          case 2:\n            updateStreams = this.playlistEditor.streams\n              .filter(\n                (stream) => stream.stream_is_removed !== 1 && stream.modified\n              )\n              .map((stream) => {\n                return {\n                  id: stream.id,\n                  movie_name: stream.movie_name,\n                  movie_year: stream.movie_year,\n                  tmdb_id: stream.tmdb_id,\n                  stream_tvg_logo: stream.stream_tvg_logo,\n                  stream_is_hidden: stream.stream_is_hidden,\n                  stream_order: stream.stream_order,\n                };\n              });\n            break;\n          // Series\n          case 3:\n            updateStreams = this.playlistEditor.streams\n              .filter(\n                (stream) => stream.stream_is_removed !== 1 && stream.modified\n              )\n              .map((stream) => {\n                return {\n                  id: stream.id,\n                  serie_name: stream.serie_name,\n                  serie_season: stream.serie_season,\n                  serie_episode: stream.serie_episode,\n                  tmdb_id: stream.tmdb_id,\n                  stream_tvg_logo: stream.stream_tvg_logo,\n                  stream_is_hidden: stream.stream_is_hidden,\n                  stream_order: stream.stream_order,\n                };\n              });\n            break;\n        }\n        let deleteStreams = this.playlistEditor.streams\n          .filter((stream) => stream.stream_is_removed === 1 && stream.modified)\n          .map((stream) => stream.id)\n          .join();\n\n        let requests = [];\n        if (updateGroups.length) {\n          requests.push(\n            httpService.post(\"editor/update-groups\", {\n              playlist_id: this.playlistEditor.id,\n              groups: updateGroups,\n            })\n          );\n        }\n        if (deleteGroups.length) {\n          requests.push(\n            httpService.post(\"editor/delete-groups\", {\n              playlist_id: this.playlistEditor.id,\n              groups: deleteGroups,\n            })\n          );\n        }\n        if (updateStreams.length) {\n          requests.push(\n            httpService.post(`editor/update-streams/${this.activeGroupType}`, {\n              playlist_id: this.playlistEditor.id,\n              streams: updateStreams,\n            })\n          );\n        }\n        if (deleteStreams.length) {\n          requests.push(\n            httpService.post(`editor/delete-streams/${this.activeGroupType}`, {\n              playlist_id: this.playlistEditor.id,\n              streams: deleteStreams,\n            })\n          );\n        }\n        Promise.all(requests).then((res) => {\n          this.loadPlaylist(this.playlistEditor.id, index);\n          resolve(res);\n        });\n      });\n    },\n    doCancel() {\n      this.isLoading = true;\n      Promise.all([this.restoreGroups(), this.restoreStreams()]).then(() => {\n        this.playlistEditor.changed = false;\n        this.isLoading = false;\n      });\n    },\n    doTabChange(tab) {\n      this.activeTab = tab;\n    },\n    updateGroupOrder(source) {\n      return new Promise((resolve) => {\n        let groups = [...source];\n        for (let i = 0; i < groups.length; i++) {\n          groups[i].source_group_order = i + 1;\n          groups[i].group_order = i + 1;\n        }\n        resolve(groups);\n      });\n    },\n    updateStreamOrder(source) {\n      return new Promise((resolve) => {\n        let streams = [...source];\n        for (let i = 0; i < streams.length; i++) {\n          streams[i].source_stream_order = i + 1;\n          streams[i].stream_order = i + 1;\n        }\n        resolve(streams);\n      });\n    },\n    restoreGroupOrder() {\n      return new Promise((resolve) => {\n        this.playlistEditor.groups.sort((a, b) =>\n          a.source_group_order > b.source_group_order\n            ? 1\n            : b.source_group_order > a.source_group_order\n            ? -1\n            : 0\n        );\n        resolve();\n      });\n    },\n    restoreStreamOrder() {\n      return new Promise((resolve) => {\n        this.playlistEditor.streams.sort((a, b) =>\n          a.source_stream_order > b.source_stream_order\n            ? 1\n            : b.source_stream_order > a.source_stream_order\n            ? -1\n            : 0\n        );\n        resolve();\n      });\n    },\n    restoreGroups() {\n      return new Promise((resolve) => {\n        this.restoreGroupOrder().then(() => {\n          let group;\n          for (let i = 0; i < this.playlistEditor.groups.length; i++) {\n            group = this.playlistEditor.groups[i];\n            group.modified = false;\n            group.group_is_removed = 0;\n            group.group_type = group.source_group_type;\n            group.group_name = group.source_group_name;\n            group.parent_code = group.source_group_parent_code;\n            group.group_is_hidden = group.source_group_is_hidden;\n          }\n          resolve();\n        });\n      });\n    },\n    restoreStreams() {\n      return new Promise((resolve) => {\n        this.restoreStreamOrder().then(() => {\n          let stream;\n          for (let i = 0; i < this.playlistEditor.streams.length; i++) {\n            stream = this.playlistEditor.streams[i];\n            stream.modified = false;\n            stream.stream_is_removed = 0;\n            stream.stream_tvg_name = stream.source_stream_tvg_name;\n            stream.stream_tvg_id = stream.source_stream_tvg_id;\n            stream.stream_tvg_logo = stream.source_stream_tvg_logo;\n            stream.stream_tvg_chno = stream.source_stream_tvg_chno;\n            stream.stream_tvg_shift = stream.source_stream_tvg_shift;\n            stream.stream_parent_code = stream.source_stream_parent_code;\n            stream.stream_audio_track = stream.source_stream_audio_track;\n            stream.stream_aspect_ratio = stream.source_stream_aspect_ratio;\n            stream.stream_radio = stream.source_stream_radio;\n            stream.stream_order = stream.source_stream_order;\n            stream.stream_is_hidden = stream.source_stream_is_hidden;\n            if (\n              stream.movie_name !== undefined &&\n              stream.movie_year !== undefined\n            ) {\n              stream.movie_name = stream.source_movie_name;\n              stream.movie_year = stream.source_movie_year;\n            }\n            if (\n              stream.serie_name !== undefined &&\n              stream.serie_season !== undefined &&\n              stream.serie_episode !== undefined\n            ) {\n              stream.serie_name = stream.source_serie_name;\n              stream.serie_season = stream.source_serie_season;\n              stream.serie_episode = stream.source_serie_episode;\n            }\n          }\n          resolve();\n        });\n      });\n    },\n    toggleGroupVisibility() {\n      for (let i = 0; i < this.playlistEditor.groups.length; i++) {\n        if (this.activeGroups.includes(this.playlistEditor.groups[i].id)) {\n          this.playlistEditor.groups[i].group_is_hidden = !this.playlistEditor\n            .groups[i].group_is_hidden;\n          this.playlistEditor.groups[i].modified = true;\n        }\n      }\n      this.playlistEditor.changed = true;\n    },\n    toggleStreamVisibility() {\n      for (let i = 0; i < this.playlistEditor.streams.length; i++) {\n        if (this.activeStreams.includes(this.playlistEditor.streams[i].id)) {\n          this.playlistEditor.streams[i].stream_is_hidden = !this.playlistEditor\n            .streams[i].stream_is_hidden;\n          this.playlistEditor.streams[i].modified = true;\n        }\n      }\n      this.playlistEditor.changed = true;\n    },\n    toggleStreamRadio() {\n      for (let i = 0; i < this.playlistEditor.streams.length; i++) {\n        if (this.activeStreams.includes(this.playlistEditor.streams[i].id)) {\n          if (this.playlistEditor.streams[i].stream_radio == 0) {\n            this.playlistEditor.streams[i].stream_radio = 1;\n          } else {\n            this.playlistEditor.streams[i].stream_radio = 0;\n          }\n          this.playlistEditor.streams[i].modified = true;\n        }\n      }\n      this.playlistEditor.changed = true;\n    },\n    deleteSelectedGroups() {\n      for (let i = 0; i < this.playlistEditor.groups.length; i++) {\n        if (this.activeGroups.includes(this.playlistEditor.groups[i].id)) {\n          this.playlistEditor.groups[i].group_is_removed = 1;\n          this.playlistEditor.groups[i].modified = true;\n        }\n      }\n      this.playlistEditor.changed = true;\n    },\n    deleteSelectedStreams() {\n      for (let i = 0; i < this.playlistEditor.streams.length; i++) {\n        if (this.activeStreams.includes(this.playlistEditor.streams[i].id)) {\n          this.playlistEditor.streams[i].stream_is_removed = 1;\n          this.playlistEditor.streams[i].modified = true;\n        }\n      }\n      this.playlistEditor.changed = true;\n    },\n    loadPlaylist(val, group_index = undefined) {\n      this.isLoading = true;\n      if (this.playlistEditor.changed) {\n        this.doSave();\n      }\n      this.playlistEditor.id = val;\n      httpService\n        .get(`editor/groups/${val}`)\n        .then((res) => {\n          if (res.status === true) {\n            this.updateGroupOrder(res.data).then((groups) => {\n              this.playlistEditor.groups = groups.map((group) => {\n                const grp = Object.assign({}, group);\n                grp.source_group_parent_code = group.group_parent_code;\n                grp.source_group_is_hidden = group.group_is_hidden;\n                grp.source_group_name = group.group_name;\n                grp.source_group_type = group.group_type;\n                grp.group_is_removed = false;\n                grp.modified = false;\n                return grp;\n              });\n              if (groups.length) {\n                if (group_index === undefined) {\n                  this.activeGroup = this.playlistEditor.groups[0].id;\n                } else {\n                  this.activeGroup = this.playlistEditor.groups[group_index].id;\n                  this.loadStreams();\n                }\n              }\n            });\n          }\n          this.isLoading = false;\n        })\n        .catch(() => {\n          this.isLoading = false;\n        });\n    },\n    toggleGroupSelection(item) {\n      let idx = this.activeGroups.indexOf(item);\n      if (idx !== -1) {\n        this.activeGroups.splice(idx, 1);\n      } else {\n        this.activeGroups.push(item);\n      }\n    },\n    toggleStreamSelection(item) {\n      let idx = this.activeStreams.indexOf(item);\n      if (idx !== -1) {\n        this.activeStreams.splice(idx, 1);\n      } else {\n        this.activeStreams.push(item);\n      }\n    },\n    toggleRadiobrowserSelection(item) {\n      let idx = this.radioBrowser.active.indexOf(item);\n      if (idx !== -1) {\n        this.radioBrowser.active.splice(idx, 1);\n      } else {\n        this.radioBrowser.active.push(item);\n      }\n    },\n    indexOfGroup(group) {\n      return this.playlistEditor.groups.map((g) => g.id).indexOf(group);\n    },\n    selectGroupRangeSelection(item) {\n      const lastIndex = this.indexOfGroup(this.lastSelectedGroup);\n      const itemIndex = this.indexOfGroup(item);\n      const dir = itemIndex > lastIndex ? 1 : -1;\n      for (let i = lastIndex; i != itemIndex + dir; i += dir) {\n        if (!this.activeGroups.includes(this.playlistEditor.groups[i].id)) {\n          this.activeGroups.push(this.playlistEditor.groups[i].id);\n        }\n      }\n    },\n    indexOfStream(stream) {\n      return this.playlistEditor.streams.map((g) => g.id).indexOf(stream);\n    },\n    selectStreamRangeSelection(item) {\n      const lastIndex = this.indexOfStream(this.lastSelectedStream);\n      const itemIndex = this.indexOfStream(item);\n      const dir = itemIndex > lastIndex ? 1 : -1;\n      for (let i = lastIndex; i != itemIndex + dir; i += dir) {\n        if (!this.activeStreams.includes(this.playlistEditor.streams[i].id)) {\n          this.activeStreams.push(this.playlistEditor.streams[i].id);\n        }\n      }\n    },\n    selectRadiobrowserRangeSelection(index) {\n      const lastIndex = this.radioBrowser.active[\n        this.radioBrowser.active.length - 1\n      ];\n      const dir = index > lastIndex ? 1 : -1;\n      for (let i = lastIndex; i != index + dir; i += dir) {\n        if (!this.radioBrowser.active.includes(i)) {\n          this.radioBrowser.active.push(i);\n        }\n      }\n    },\n    selectGroupSelection(item) {\n      this.activeGroups.length = 0;\n      this.activeGroups.push(item);\n    },\n    selectStreamSelection(item) {\n      this.activeStreams.length = 0;\n      this.activeStreams.push(item);\n    },\n    selectRadiobrowserSelection(item) {\n      this.radioBrowser.active.length = 0;\n      this.radioBrowser.active.push(item);\n    },\n    findAndReplaceModal(show, type = 1) {\n      this.findReplace.type = type;\n      this.findReplace.modal = show;\n    },\n    findAndReplace() {\n      let options = \"\";\n      if (this.findReplace.replaceAll) {\n        options += \"g\";\n      }\n      if (this.findReplace.ignoreCase) {\n        options += \"i\";\n      }\n      let re = new RegExp(this.findReplace.from.replace(\"|\", \"\\\\|\"), options);\n      switch (parseInt(this.findReplace.type)) {\n        // Group\n        case 1:\n          if (parseInt(this.findReplace.selectedOnly) === 1) {\n            for (let i = 0; i < this.playlistEditor.groups.length; i++) {\n              if (\n                this.activeGroups.includes(this.playlistEditor.groups[i].id)\n              ) {\n                this.playlistEditor.groups[i].modified = true;\n                this.playlistEditor.groups[\n                  i\n                ].group_name = this.playlistEditor.groups[i].group_name.replace(\n                  re,\n                  this.findReplace.to\n                );\n              }\n            }\n          } else {\n            this.filteredGroups.map((group) => {\n              group.modified = true;\n              group.group_name = group.group_name.replace(\n                re,\n                this.findReplace.to\n              );\n            });\n          }\n          break;\n\n        // Streams\n        case 2:\n          if (parseInt(this.findReplace.selectedOnly) === 1) {\n            for (let i = 0; i < this.playlistEditor.streams.length; i++) {\n              if (\n                this.activeStreams.includes(this.playlistEditor.streams[i].id)\n              ) {\n                if (this.activeGroupType === 1) {\n                  this.playlistEditor.streams[i].modified = true;\n                  this.playlistEditor.streams[\n                    i\n                  ].stream_tvg_name = this.playlistEditor.streams[\n                    i\n                  ].stream_tvg_name.replace(re, this.findReplace.to);\n                }\n                if (this.activeGroupType === 2) {\n                  this.playlistEditor.streams[i].modified = true;\n                  this.playlistEditor.streams[\n                    i\n                  ].movie_name = this.playlistEditor.streams[\n                    i\n                  ].movie_name.replace(re, this.findReplace.to);\n                }\n                if (this.activeGroupType === 3) {\n                  this.playlistEditor.streams[i].modified = true;\n                  this.playlistEditor.streams[\n                    i\n                  ].serie_name = this.playlistEditor.streams[\n                    i\n                  ].serie_name.replace(re, this.findReplace.to);\n                }\n              }\n            }\n          } else {\n            this.filteredStreams.map((stream) => {\n              if (this.activeGroupType === 1) {\n                stream.modified = true;\n                stream.stream_tvg_name = stream.stream_tvg_name.replace(\n                  re,\n                  this.findReplace.to\n                );\n              }\n              if (this.activeGroupType === 2) {\n                stream.modified = true;\n                stream.movie_name = stream.movie_name.replace(\n                  re,\n                  this.findReplace.to\n                );\n              }\n              if (this.activeGroupType === 3) {\n                stream.modified = true;\n                stream.serie_name = stream.serie_name.replace(\n                  re,\n                  this.findReplace.to\n                );\n              }\n            });\n          }\n          break;\n      }\n      this.playlistEditor.changed = true;\n      this.findReplace.modal = false;\n    },\n    prefixSuffixModal(show, type = 1) {\n      this.prefixSuffix.type = type;\n      this.prefixSuffix.modal = show;\n    },\n    addPrefixSuffix() {\n      let prefix = this.prefixSuffix.prefix;\n      let suffix = this.prefixSuffix.suffix;\n      switch (parseInt(this.prefixSuffix.type)) {\n        // Group\n        case 1:\n          if (parseInt(this.prefixSuffix.selectedOnly) === 1) {\n            for (let i = 0; i < this.playlistEditor.groups.length; i++) {\n              if (\n                this.activeGroups.includes(this.playlistEditor.groups[i].id)\n              ) {\n                this.playlistEditor.groups[i].modified = true;\n                this.playlistEditor.groups[i].group_name =\n                  prefix + this.playlistEditor.groups[i].group_name + suffix;\n              }\n            }\n          } else {\n            this.filteredGroups.map((group) => {\n              group.modified = true;\n              group.group_name = prefix + group.group_name + suffix;\n            });\n          }\n          break;\n\n        // Stream\n        case 2:\n          if (parseInt(this.prefixSuffix.selectedOnly) === 1) {\n            for (let i = 0; i < this.playlistEditor.streams.length; i++) {\n              if (\n                this.activeStreams.includes(this.playlistEditor.streams[i].id)\n              ) {\n                if (this.activeGroupType === 1) {\n                  this.playlistEditor.streams[i].modified = true;\n                  this.playlistEditor.streams[i].stream_tvg_name =\n                    prefix +\n                    this.playlistEditor.streams[i].stream_tvg_name +\n                    suffix;\n                }\n                if (this.activeGroupType === 2) {\n                  this.playlistEditor.streams[i].modified = true;\n                  this.playlistEditor.streams[i].movie_name =\n                    prefix + this.playlistEditor.streams[i].movie_name + suffix;\n                }\n                if (this.activeGroupType === 3) {\n                  this.playlistEditor.streams[i].modified = true;\n                  this.playlistEditor.streams[i].serie_name =\n                    prefix + this.playlistEditor.streams[i].serie_name + suffix;\n                }\n              }\n            }\n          } else {\n            if (this.activeGroupType === 1) {\n              this.filteredStreams.map((stream) => {\n                stream.modified = true;\n                stream.stream_tvg_name =\n                  prefix + stream.stream_tvg_name + suffix;\n              });\n            }\n            if (this.activeGroupType === 2) {\n              this.filteredStreams.map((stream) => {\n                stream.modified = true;\n                stream.movie_name = prefix + stream.movie_name + suffix;\n              });\n            }\n            if (this.activeGroupType === 3) {\n              this.filteredStreams.map((stream) => {\n                stream.modified = true;\n                stream.serie_name = prefix + stream.serie_name + suffix;\n              });\n            }\n          }\n          break;\n      }\n      this.playlistEditor.changed = true;\n      this.prefixSuffix.modal = false;\n    },\n    convertCaseModal(show, type) {\n      this.convertCase.type = type;\n      this.convertCase.modal = show;\n    },\n    changeCase() {\n      let method = this.convertCase.method;\n      let groups;\n      let streams;\n      if (parseInt(this.convertCase.selectedOnly) === 1) {\n        groups = this.filteredGroups.filter((group) => {\n          return this.activeGroups.includes(group.id);\n        });\n        streams = this.filteredStreams.filter((stream) => {\n          return this.activeStreams.includes(stream.id);\n        });\n      } else {\n        groups = this.filteredGroups;\n        streams = this.filteredStreams;\n      }\n      switch (parseInt(this.convertCase.type)) {\n        // Categories\n        case 1:\n          groups.map((group) => {\n            switch (parseInt(method)) {\n              case 0:\n                group.modified = true;\n                group.group_name = group.group_name.titleCase();\n                break;\n              case 1:\n                group.modified = true;\n                group.group_name = group.group_name.toUpperCase();\n                break;\n              case 2:\n                group.modified = true;\n                group.group_name = group.group_name.toLowerCase();\n                break;\n            }\n          });\n          break;\n\n        // Streams\n        case 2:\n          streams.map((stream) => {\n            switch (parseInt(method)) {\n              case 0:\n                if (this.activeGroupType === 1) {\n                  stream.modified = true;\n                  stream.stream_tvg_name = stream.stream_tvg_name.titleCase();\n                }\n                if (this.activeGroupType === 2) {\n                  stream.modified = true;\n                  stream.movie_name = stream.movie_name.titleCase();\n                }\n                if (this.activeGroupType === 3) {\n                  stream.modified = true;\n                  stream.serie_name = stream.serie_name.titleCase();\n                }\n                break;\n              case 1:\n                if (this.activeGroupType === 1) {\n                  stream.modified = true;\n                  stream.stream_tvg_name = stream.stream_tvg_name.toUpperCase();\n                }\n                if (this.activeGroupType === 2) {\n                  stream.modified = true;\n                  stream.movie_name = stream.movie_name.toUpperCase();\n                }\n                if (this.activeGroupType === 3) {\n                  stream.modified = true;\n                  stream.serie_name = stream.serie_name.toUpperCase();\n                }\n                break;\n              case 2:\n                if (this.activeGroupType === 1) {\n                  stream.modified = true;\n                  stream.stream_tvg_name = stream.stream_tvg_name.toLowerCase();\n                }\n                if (this.activeGroupType === 2) {\n                  stream.modified = true;\n                  stream.movie_name = stream.movie_name.toLowerCase();\n                }\n                if (this.activeGroupType === 3) {\n                  stream.modified = true;\n                  stream.serie_name = stream.serie_name.toLowerCase();\n                }\n                break;\n            }\n          });\n          break;\n      }\n      this.playlistEditor.changed = true;\n      this.convertCase.modal = false;\n    },\n    editGroupModal(show) {\n      let index = this.playlistEditor.groups.findIndex(\n        (group) => group.id === this.activeGroups[0]\n      );\n      let group = this.playlistEditor.groups[index];\n      if (group) {\n        this.groupEditor.id = this.activeGroups[0];\n        this.groupEditor.group_type = group.group_type;\n        this.groupEditor.group_name = group.group_name;\n        this.groupEditor.group_is_hidden = group.group_is_hidden;\n        this.groupEditor.group_parent_code = group.group_parent_code;\n        this.groupEditor.modal = show;\n      }\n    },\n    editStreamModal(show) {\n      let index = this.playlistEditor.streams.findIndex(\n        (stream) => stream.id === this.activeStreams[0]\n      );\n      let stream = this.playlistEditor.streams[index];\n      if (stream) {\n        this.streamEditor.id = this.activeStreams[0];\n        this.streamEditor.stream_tvg_name = stream.stream_tvg_name;\n        this.streamEditor.stream_tvg_id = stream.stream_tvg_id;\n        this.streamEditor.stream_tvg_logo = stream.stream_tvg_logo;\n        this.streamEditor.stream_parent_code = stream.stream_parent_code;\n        this.streamEditor.stream_radio = stream.stream_radio;\n        this.streamEditor.stream_is_hidden = stream.stream_is_hidden;\n        if (\n          stream.movie_name !== undefined &&\n          stream.movie_year !== undefined &&\n          stream.tmdb_id !== undefined\n        ) {\n          this.streamEditor.movie_name = stream.movie_name;\n          this.streamEditor.movie_year = stream.movie_year;\n          this.streamEditor.tmdb_id = stream.tmdb_id;\n        }\n        if (\n          stream.serie_name !== undefined &&\n          stream.serie_season !== undefined &&\n          stream.serie_episode !== undefined\n        ) {\n          this.streamEditor.serie_name = stream.serie_name;\n          this.streamEditor.serie_season = stream.serie_season;\n          this.streamEditor.serie_episode = stream.serie_episode;\n        }\n        this.streamEditor.modal = show;\n      }\n    },\n    editGroup() {\n      let index = this.playlistEditor.groups.findIndex(\n        (group) => group.id === this.groupEditor.id\n      );\n      this.playlistEditor.groups[\n        index\n      ].group_type = this.groupEditor.group_type;\n      this.playlistEditor.groups[\n        index\n      ].group_name = this.groupEditor.group_name;\n      this.playlistEditor.groups[\n        index\n      ].group_is_hidden = this.groupEditor.group_is_hidden;\n      this.playlistEditor.groups[\n        index\n      ].group_parent_code = this.groupEditor.group_parent_code;\n      this.playlistEditor.groups[index].modified = true;\n      this.playlistEditor.changed = true;\n      this.groupEditor.modal = false;\n    },\n    editStream() {\n      let index = this.playlistEditor.streams.findIndex(\n        (stream) => stream.id === this.activeStreams[0]\n      );\n      this.playlistEditor.streams[\n        index\n      ].stream_tvg_name = this.streamEditor.stream_tvg_name;\n      this.playlistEditor.streams[\n        index\n      ].stream_tvg_id = this.streamEditor.stream_tvg_id;\n      this.playlistEditor.streams[\n        index\n      ].stream_tvg_logo = this.streamEditor.stream_tvg_logo;\n      this.playlistEditor.streams[\n        index\n      ].stream_parent_code = this.streamEditor.stream_parent_code;\n      this.playlistEditor.streams[\n        index\n      ].stream_is_hidden = this.streamEditor.stream_is_hidden;\n      this.playlistEditor.streams[\n        index\n      ].stream_radio = this.streamEditor.stream_radio;\n      if (\n        this.playlistEditor.streams[index].movie_name !== undefined &&\n        this.playlistEditor.streams[index].movie_year !== undefined &&\n        this.playlistEditor.streams[index].tmdb_id !== undefined\n      ) {\n        this.playlistEditor.streams[\n          index\n        ].movie_name = this.streamEditor.movie_name;\n        this.playlistEditor.streams[\n          index\n        ].movie_year = this.streamEditor.movie_year;\n        this.playlistEditor.streams[index].tmdb_id = this.streamEditor.tmdb_id;\n      }\n      if (\n        this.playlistEditor.streams[index].serie_name !== undefined &&\n        this.playlistEditor.streams[index].serie_season !== undefined &&\n        this.playlistEditor.streams[index].serie_episode !== undefined\n      ) {\n        this.playlistEditor.streams[\n          index\n        ].serie_name = this.streamEditor.serie_name;\n        this.playlistEditor.streams[\n          index\n        ].serie_season = this.streamEditor.serie_season;\n        this.playlistEditor.streams[\n          index\n        ].serie_episode = this.streamEditor.serie_episode;\n      }\n      this.playlistEditor.streams[index].modified = true;\n      this.playlistEditor.changed = true;\n      this.streamEditor.modal = false;\n    },\n    sortGroupAlphaUp() {\n      this.playlistEditor.groups = this.playlistEditor.groups.sort((a, b) =>\n        b.group_name > a.group_name ? 1 : a.group_name > b.group_name ? -1 : 0\n      );\n      this.playlistEditor.groups.map((group) => (group.modified = true));\n      this.playlistEditor.changed = true;\n    },\n    sortGroupAlphaDown() {\n      this.playlistEditor.groups = this.playlistEditor.groups.sort((a, b) =>\n        a.group_name > b.group_name ? 1 : b.group_name > a.group_name ? -1 : 0\n      );\n      this.playlistEditor.groups.map((group) => (group.modified = true));\n      this.playlistEditor.changed = true;\n    },\n    sortGroupTypeUp() {\n      this.playlistEditor.groups = this.playlistEditor.groups.sort((a, b) =>\n        b.group_type > a.group_type ? 1 : a.group_type > b.group_type ? -1 : 0\n      );\n      this.playlistEditor.groups.map((group) => (group.modified = true));\n      this.playlistEditor.changed = true;\n    },\n    sortGroupTypeDown() {\n      this.playlistEditor.groups = this.playlistEditor.groups.sort((a, b) =>\n        a.group_type > b.group_type ? 1 : b.group_type > a.group_type ? -1 : 0\n      );\n      this.playlistEditor.groups.map((group) => (group.modified = true));\n      this.playlistEditor.changed = true;\n    },\n    sortStreamAlphaUp() {\n      //ERNST HIER\n      this.playlistEditor.streams = this.playlistEditor.streams.sort((a, b) => {\n        switch (this.activeGroupType) {\n          case 1:\n            return b.stream_tvg_name > a.stream_tvg_name\n              ? 1\n              : a.stream_tvg_name > b.stream_tvg_name\n              ? -1\n              : 0;\n          case 2:\n            return b.movie_name > a.movie_name\n              ? 1\n              : a.movie_name > b.movie_name\n              ? -1\n              : 0;\n          case 3:\n            return b.serie_name > a.serie_name\n              ? 1\n              : a.serie_name > b.serie_name\n              ? -1\n              : 0;\n        }\n      });\n      this.playlistEditor.streams.map((stream) => (stream.modified = true));\n      this.playlistEditor.changed = true;\n    },\n    sortStreamAlphaDown() {\n      this.playlistEditor.streams = this.playlistEditor.streams.sort((a, b) => {\n        switch (this.activeGroupType) {\n          case 1:\n            return a.stream_tvg_name > b.stream_tvg_name\n              ? 1\n              : b.stream_tvg_name > a.stream_tvg_name\n              ? -1\n              : 0;\n          case 2:\n            return a.movie_name > b.movie_name\n              ? 1\n              : b.movie_name > a.movie_name\n              ? -1\n              : 0;\n          case 3:\n            return a.serie_name > b.serie_name\n              ? 1\n              : b.serie_name > a.serie_name\n              ? -1\n              : 0;\n        }\n      });\n      this.playlistEditor.streams.map((stream) => (stream.modified = true));\n      this.playlistEditor.changed = true;\n    },\n    sortStreamHiddenUp() {\n      this.playlistEditor.streams = this.playlistEditor.streams.sort((a, b) =>\n        b.stream_is_hidden > a.stream_is_hidden\n          ? 1\n          : a.stream_is_hidden > b.stream_is_hidden\n          ? -1\n          : 0\n      );\n      this.playlistEditor.streams.map((group) => (group.modified = true));\n      this.playlistEditor.changed = true;\n    },\n    sortStreamHiddenDown() {\n      this.playlistEditor.streams = this.playlistEditor.streams.sort((a, b) =>\n        a.stream_is_hidden > b.stream_is_hidden\n          ? 1\n          : b.stream_is_hidden > a.stream_is_hidden\n          ? -1\n          : 0\n      );\n      this.playlistEditor.streams.map((group) => (group.modified = true));\n      this.playlistEditor.changed = true;\n    },\n    addGroup() {\n      httpService\n        .post(\"editor/add-group\", { playlist_id: this.playlistEditor.id })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true && res.data) {\n            return new Promise((resolve) => {\n              this.playlistEditor.groups.push(res.data);\n              this.activeGroup = this.playlistEditor.groups[\n                this.playlistEditor.groups.length - 1\n              ].id;\n              this.activeGroups = [\n                this.playlistEditor.groups[\n                  this.playlistEditor.groups.length - 1\n                ].id,\n              ];\n              resolve();\n            }).then(() => {\n              this.editGroupModal(true);\n            });\n          }\n        })\n        .catch(() => {\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"editor.add-group-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    loadStreams() {\n      this.activeStream = -1;\n      this.activeStreams = [];\n      this.playlistEditor.streams = [];\n      let index = this.playlistEditor.groups.findIndex(\n        (group) => group.id === this.activeGroup\n      );\n      let group = this.playlistEditor.groups[index];\n      this.isLoading = true;\n      httpService\n        .get(\n          `editor/streams/${this.playlistEditor.id}/${group.id}/${group.group_type}`\n        )\n        .then((res) => {\n          document.body.scrollTop = 0;\n          document.documentElement.scrollTop = 0;\n          if (res.status === true) {\n            let streams = res.data.map((stream) => {\n              const str = Object.assign({}, stream);\n              str.source_stream_tvg_name = stream.stream_tvg_name;\n              str.source_stream_tvg_id = stream.stream_tvg_id;\n              str.source_stream_tvg_logo = stream.stream_tvg_logo;\n              str.source_stream_tvg_chno = stream.stream_tvg_chno;\n              str.source_stream_tvg_shift = stream.stream_tvg_shift;\n              str.source_stream_parent_code = stream.stream_parent_code;\n              str.source_stream_audio_track = stream.stream_audio_track;\n              str.source_stream_aspect_ratio = stream.stream_aspect_ratio;\n              str.source_stream_radio = stream.stream_radio;\n              str.source_stream_order = stream.stream_order;\n              str.source_stream_is_hidden = stream.stream_is_hidden;\n              str.modified = false;\n              str.stream_is_removed = 0;\n              if (group.group_type == 2) {\n                if (str.movie_name == \"\") {\n                  str.movie_name = str.stream_tvg_name;\n                  str.source_movie_name = str.stream_tvg_name;\n                } else {\n                  str.source_movie_name = stream.movie_name;\n                }\n                str.source_movie_year = stream.movie_year;\n                str.source_tmdb_id = stream.tmdb_id;\n              }\n              if (group.group_type == 3) {\n                if (str.serie_name == \"\") {\n                  str.serie_name = str.stream_tvg_name;\n                  str.source_serie_name = str.stream_tvg_name;\n                } else {\n                  str.source_serie_name = stream.serie_name;\n                }\n                str.source_serie_season = stream.serie_season;\n                str.source_serie_episode = stream.serie_episode;\n              }\n              return str;\n            });\n            streams.sort((a, b) =>\n              a.source_stream_order > b.source_stream_order\n                ? 1\n                : b.source_stream_order > a.source_stream_order\n                ? -1\n                : 0\n            );\n            this.playlistEditor.streams = streams;\n            this.isLoading = false;\n          } else {\n            this.isLoading = false;\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n        });\n    },\n    moveToSelectedGroup() {\n      this.isLoading = true;\n      let streams = this.activeStreams.join();\n      let index = this.playlistEditor.groups.findIndex((group) => {\n        return group.id == this.activeGroup;\n      });\n      httpService\n        .post(`editor/move-to-group/${this.activeGroupType}`, {\n          playlist_id: this.playlistEditor.id,\n          streams: streams,\n          group_id: this.activeGroups[0],\n        })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status && res.data) {\n            this.loadPlaylist(this.playlistEditor.id, index);\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n        });\n    },\n    saveChangesModal(show, save = false) {\n      this.saveChanges.modal = show;\n      if (save) {\n        this.doSave();\n      } else {\n        this.loadStreams();\n      }\n    },\n    radioBrowserModal(show, save = false) {\n      if (show) {\n        this.radioBrowser.search = \"\";\n        this.radioBrowser.results = [];\n        this.radioBrowser.active = [];\n      }\n      if (save) {\n        this.isLoading = true;\n        let groupIndex = this.playlistEditor.groups.findIndex((group) => {\n          return group.id == this.activeGroup;\n        });\n        let order = this.playlistEditor.streams.length;\n        const streams = this.radioBrowser.active.map((index) => {\n          let radio = this.radioBrowser.results[index];\n          return {\n            source_stream_url: radio.url,\n            stream_tvg_name: radio.name,\n            stream_tvg_id: \"\",\n            stream_tvg_logo: radio.favicon,\n            stream_radio: true,\n            stream_order: order++,\n          };\n        });\n        httpService\n          .post(`editor/add-streams/${this.activeGroupType}`, {\n            playlist_id: this.playlistEditor.id,\n            group_id: this.getGroupWithId(this.activeGroup).id,\n            streams: streams,\n          })\n          .then((res) => {\n            this.isLoading = false;\n            if (res.status) {\n              this.loadPlaylist(this.playlistEditor.id, groupIndex);\n            }\n          })\n          .catch(() => {\n            this.isLoading = false;\n          });\n      }\n      this.radioBrowser.modal = show;\n    },\n    findRadiobrowser(search) {\n      if (search.length === 0) {\n        this.radioBrowser.results = [];\n        this.radioBrowser.active = [];\n      } else {\n        httpService\n          .post(\"editor/find-radiobrowser\", {\n            search: search,\n          })\n          .then((res) => {\n            this.radioBrowser.active = [];\n            if (res.status) {\n              this.radioBrowser.results = res.data;\n            } else {\n              this.radioBrowser.results = [];\n            }\n          })\n          .catch(() => {\n            this.radioBrowser.active = [];\n            this.radioBrowser.results = [];\n          });\n      }\n    },\n    soundcloudModal(show, save = false) {\n      if (show) {\n        this.soundcloud.url = \"\";\n        this.soundcloud.track = null;\n      }\n      if (save) {\n        if (this.soundcloud.track) {\n          this.isLoading = true;\n          let groupIndex = this.playlistEditor.groups.findIndex((group) => {\n            return group.id == this.activeGroup;\n          });\n          let order = this.playlistEditor.streams.length;\n          const streams = [\n            {\n              source_stream_url: this.soundcloud.url,\n              stream_tvg_name: this.soundcloud.track.title,\n              stream_tvg_id: \"\",\n              stream_tvg_logo: this.soundcloud.track.artwork_url.replace(\n                \"large.jpg\",\n                \"t500x500.jpg\"\n              ),\n              stream_radio: true,\n              stream_order: order++,\n            },\n          ];\n          httpService\n            .post(`editor/add-streams/${this.activeGroupType}`, {\n              playlist_id: this.playlistEditor.id,\n              group_id: this.getGroupWithId(this.activeGroup).id,\n              streams: streams,\n            })\n            .then((res) => {\n              this.isLoading = false;\n              if (res.status) {\n                this.loadPlaylist(this.playlistEditor.id, groupIndex);\n              }\n            })\n            .catch(() => {\n              this.isLoading = false;\n            });\n        }\n      }\n      this.soundcloud.modal = show;\n    },\n    getSoundcloudTrack(url, client_id) {\n      if (url.length === 0 || !/soundcloud\\.com/.test(url)) {\n        this.soundcloud.url = \"\";\n        this.soundcloud.track = null;\n      } else {\n        httpService\n          .post(\"editor/soundcloud-track\", {\n            url: url,\n            client_id: client_id,\n          })\n          .then((res) => {\n            if (res.status && Object.keys(res.data).length) {\n              this.soundcloud.track = res.data;\n            } else {\n              this.soundcloud.track = null;\n            }\n          })\n          .catch(() => {\n            this.soundcloud.track = null;\n          });\n      }\n    },\n    groupDoubleClick() {\n      if (this.activeGroups.length === 1) {\n        this.editGroupModal(true);\n      }\n    },\n    streamDoubleClick() {\n      if (this.activeStreams.length === 1) {\n        this.editStreamModal(true);\n      }\n    },\n  },\n  beforeMount() {\n    document.body.classList.add(\"right-menu\");\n    EventBus.$on(\"search\", this.searchEditor);\n    EventBus.$on(\"print\", this.printEditor);\n    EventBus.$on(\"tab-change\", this.doTabChange);\n    EventBus.$on(\"save\", this.doSave);\n    EventBus.$on(\"cancel\", this.doCancel);\n    EventBus.$on(\"editor-playlist\", this.loadPlaylist);\n  },\n  beforeDestroy() {\n    document.body.classList.remove(\"right-menu\");\n    EventBus.$off(\"search\", this.searchEditor);\n    EventBus.$off(\"print\", this.printEditor);\n    EventBus.$off(\"tab-change\", this.doTabChange);\n    EventBus.$off(\"save\", this.doSave);\n    EventBus.$off(\"cancel\", this.doCancel);\n    EventBus.$off(\"editor-playlist\", this.loadPlaylist);\n  },\n  watch: {\n    dragStream: function (val) {\n      if (!val) {\n        this.playlistEditor.changed = true;\n      }\n    },\n    dragGroup: function (val) {\n      if (!val) {\n        this.playlistEditor.changed = true;\n      }\n    },\n    activeGroup: function (val) {\n      if (this.playlistEditor.changed) {\n        this.saveChangesModal(true);\n      } else {\n        this.loadStreams();\n      }\n    },\n    \"playlistEditor.changed\": function (val) {\n      EventBus.$emit(\"editor-changes\", val);\n    },\n    \"radioBrowser.search\": function (val) {\n      let vm = this;\n      clearTimeout(this.radioBrowser.bounce);\n      this.radioBrowser.bounce = setTimeout(function () {\n        vm.findRadiobrowser(val);\n      }, 500);\n    },\n    \"soundcloud.url\": function (val) {\n      let vm = this;\n      clearTimeout(this.radioBrowser.bounce);\n      this.radioBrowser.bounce = setTimeout(function () {\n        vm.getSoundcloudTrack(val, vm.soundcloudClientId);\n      }, 500);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.editor-stream,\n.editor-group {\n  margin-top: 0.1rem;\n  -webkit-user-select: none;\n  -webkit-touch-callout: none;\n  -khtml-user-select: none;\n  -ms-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n\n  &:focus,\n  &:focus-within {\n    &.selected {\n      background-color: $theme-color-1 !important;\n\n      a,\n      i,\n      span {\n        color: $button-text-color !important;\n      }\n    }\n\n    &.active {\n      border-color: rgba($theme-color-1, 0.6) !important;\n\n      a,\n      span {\n        font-weight: bold;\n      }\n      a,\n      i,\n      span {\n        color: $theme-color-1;\n      }\n    }\n  }\n\n  &.selected {\n    background-color: $theme-color-1 !important;\n    &.success {\n      background-color: $success-color !important;\n    }\n    &.danger {\n      background-color: $error-color !important;\n    }\n    &.info {\n      background-color: $info-color !important;\n    }\n\n    a,\n    i,\n    span {\n      color: $button-text-color !important;\n    }\n  }\n\n  &.active {\n    border-color: rgba($theme-color-1, 0.6) !important;\n\n    a,\n    span {\n      font-weight: bold;\n    }\n    a,\n    i,\n    span {\n      color: $theme-color-1;\n    }\n  }\n\n  &.hidden {\n    opacity: 0.5;\n  }\n}\n\n.editor-stream {\n  .stream-icon {\n    float: right;\n    max-height: 16px;\n  }\n}\n\n.editor-stream-icon {\n  max-width: 100%;\n  max-height: 250px;\n  height: auto !important;\n}\n\n.editor-movie-poster {\n  max-height: 250px;\n  width: auto !important;\n}\n\n.flip-list-move {\n  transition: transform 0.5s;\n}\n.no-move {\n  transition: transform 0s;\n}\n.ghost {\n  opacity: 0.5;\n}\n\n.handle {\n  cursor: move;\n  vertical-align: middle;\n\n  &.disabled {\n    cursor: not-allowed;\n  }\n}\n\n.radiobrowser-stations {\n  overflow: hidden;\n\n  .ps {\n    max-height: 300px;\n    padding-top: 0.25rem;\n    padding-bottom: 0.5rem;\n  }\n\n  .radiobrowser-station {\n    margin-top: 0.1rem;\n    -webkit-user-select: none;\n    -webkit-touch-callout: none;\n    -khtml-user-select: none;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n\n    &:focus,\n    &:focus-within {\n      &.selected {\n        background-color: $theme-color-1 !important;\n\n        a,\n        i,\n        span {\n          color: $button-text-color !important;\n        }\n      }\n\n      &.active {\n        border-color: rgba($theme-color-1, 0.6) !important;\n\n        a,\n        span {\n          font-weight: bold;\n        }\n        a,\n        i,\n        span {\n          color: $theme-color-1;\n        }\n      }\n    }\n\n    &.selected {\n      background-color: $theme-color-1 !important;\n      &.success {\n        background-color: $success-color !important;\n      }\n      &.danger {\n        background-color: $error-color !important;\n      }\n      &.info {\n        background-color: $info-color !important;\n      }\n\n      a,\n      i,\n      span {\n        color: $button-text-color !important;\n      }\n    }\n\n    &.active {\n      border-color: rgba($theme-color-1, 0.6) !important;\n\n      a,\n      span {\n        font-weight: bold;\n      }\n      a,\n      i,\n      span {\n        color: $theme-color-1;\n      }\n    }\n  }\n}\n\n.soundcloud-info {\n  width: max-content;\n\n  .cover {\n    max-height: 300px;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/app/xtream"}]}