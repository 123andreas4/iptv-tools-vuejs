{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"series\"],{\"0b63\":function(e,t,s){\"use strict\";s(\"4543\")},\"0ccb\":function(e,t,s){var r=s(\"50c4\"),a=s(\"1148\"),i=s(\"1d80\"),o=Math.ceil,n=function(e){return function(t,s,n){var l,d,c=String(i(t)),u=c.length,m=void 0===n?\" \":String(n),p=r(s);return p<=u||\"\"==m?c:(l=p-u,d=a.call(m,o(l/m.length)),d.length>l&&(d=d.slice(0,l)),e?c+d:d+c)}};e.exports={start:n(!1),end:n(!0)}},4543:function(e,t,s){},\"48fe\":function(e,t,s){\"use strict\";s(\"95e5\")},\"4d90\":function(e,t,s){\"use strict\";var r=s(\"23e7\"),a=s(\"0ccb\").start,i=s(\"9a0c\");r({target:\"String\",proto:!0,forced:i},{padStart:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},\"4dda\":function(e,t,s){\"use strict\";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"erd-row\",{staticClass:\"m-0 p-0\"},[s(\"erd-modal\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.xdPro.modal,expression:\"xdPro.modal\"}],staticClass:\"select-none\",attrs:{title:e.$t(\"xd-pro.xd-pro\"),small:\"\"},on:{close:function(t){return e.downloadModal(!1)}},scopedSlots:e._u([{key:\"footer\",fn:function(){return[s(\"erd-button\",{staticClass:\"mr-1\",attrs:{icon:\"la-times\",variant:\"danger\"},on:{click:function(t){return e.downloadModal(!1)}}},[e._v(e._s(e.$t(\"general.cancel\")))]),s(\"erd-button\",{attrs:{icon:\"la-check\",variant:\"success\",disabled:0==e.xdPro.xdpro_id||0==e.xdPro.downloads.length},on:{click:function(t){return e.downloadModal(!1,!0)}}},[e._v(e._s(e.$t(\"general.ok\")))])]},proxy:!0}])},[s(\"div\",{staticClass:\"px-2\"},[s(\"label\",{staticClass:\"w-100\"},[e._v(e._s(e.$t(\"xd-pro.xd-pro-instance\")))]),s(\"erd-select\",{staticClass:\"mt-1 mb-2 w-100\",attrs:{items:e.xdProInstanceItems},model:{value:e.xdPro.xdpro_id,callback:function(t){e.$set(e.xdPro,\"xdpro_id\",t)},expression:\"xdPro.xdpro_id\"}}),s(\"label\",{staticClass:\"w-100\"},[e._v(e._s(e.$t(\"xd-pro.download-folder\")))]),s(\"erd-input\",{staticClass:\"mt-1 mb-2 w-100\",model:{value:e.xdPro.download_folder,callback:function(t){e.$set(e.xdPro,\"download_folder\",t)},expression:\"xdPro.download_folder\"}}),s(\"label\",{staticClass:\"w-100 mb-2\"},[e._v(e._s(e.$t(\"xd-pro.select-episodes\")))]),s(\"div\",{staticClass:\"radiobrowser-stations\"},[s(\"perfect-scrollbar\",{attrs:{settings:{suppressScrollX:!0,wheelPropagation:!1}}},e._l(e.viewerEpisodes,(function(t,r){return s(\"div\",{key:\"xdpro-episode-\"+r,staticClass:\"form-control radiobrowser-station\",class:{selected:e.xdPro.downloads.includes(r)},on:{click:[function(t){return t.ctrlKey?e.toggleDownloadsSelection(r):null},function(t){return t.shiftKey?e.selectDownloadsRangeSelection(r):null},function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.selectDownloadsSelection(r)}]}},[s(\"span\",{staticClass:\"station-name mr-2\"},[e._v(e._s(e.$t(\"xd-pro.season-episode\").format(t.serie_season,t.serie_episode)))]),s(\"span\",{staticClass:\"station-name text-muted\"},[e._v(e._s(t.tmdb.name))])])})),0)],1)],1)]),e.isLoading?s(\"erd-spinner\",{attrs:{text:e.loadingText,size:\"lg\",overlay:\"\",absolute:\"\"}}):e._e(),e.viewer?s(\"erd-col\",{staticClass:\"m-0 p-0\",attrs:{xl:\"12\",id:\"series\"}},[s(\"erd-row\",{staticClass:\"m-0 p-0\"},[s(\"erd-col\",{attrs:{xl:\"4\",md:\"4\"}},[s(\"erd-card\",{staticClass:\"movie-details-poster\"},[s(\"img\",{staticClass:\"poster\",attrs:{src:\"https://www.themoviedb.org/t/p/original/\"+e.viewerSeries.tmdb.poster_path}}),s(\"erd-card-body\",[s(\"h3\",{staticClass:\"mt-0 mb-1\"},[e._v(\" \"+e._s(e.viewerSeries.tmdb.title)+\" \"),s(\"span\",{staticClass:\"float-right\"},[s(\"span\",{staticClass:\"color-theme-1\"},[e._v(e._s(e.viewerSeries.tmdb.vote_average))]),s(\"span\",[e._v(\"/10\")])])]),s(\"div\",{staticClass:\"genres\"},e._l(e.viewerSeries.tmdb.genres,(function(t,r){return s(\"span\",{key:\"genre-\"+e.viewerSeries.tmdb.title+\"-\"+r,staticClass:\"genre\"},[e._v(e._s(t.name))])})),0),s(\"p\",{staticClass:\"color-theme-1 mt-1\"},[e._v(\" \"+e._s(e.formatDate(e.viewerSeries.tmdb.first_air_date))+\" \")]),s(\"p\",[e._v(e._s(e.viewerSeries.tmdb.overview))]),e.viewerSeries.tmdb.homepage.length?s(\"a\",{staticClass:\"d-block mt-2 text-truncate\",attrs:{href:e.viewerSeries.tmdb.homepage,target:\"_blank\"}},[e._v(e._s(e.viewerSeries.tmdb.homepage))]):e._e(),s(\"a\",{staticClass:\"d-block text-truncate\",attrs:{href:\"https://www.themoviedb.org/tv/\"+e.viewerSeries.tmdb_id,target:\"_blank\"}},[e._v(e._s(\"https://www.themoviedb.org/tv/\"+e.viewerSeries.tmdb_id))]),e.canDownload?s(\"erd-button\",{staticClass:\"my-3\",attrs:{dense:\"\",icon:\"la-download\"},on:{click:function(t){return e.downloadModal(!0)}}},[e._v(e._s(e.$t(\"movies.download\")))]):e._e()],1)],1)],1),s(\"erd-col\",{staticClass:\"m-0 p-0\",attrs:{xl:\"8\",md:\"8\"}},[s(\"erd-row\",{staticClass:\"m-0 p-0\"},[e.filteredVideos.length?s(\"erd-col\",{staticClass:\"p-0 m-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"mt-2 mb-0 ml-3\"},[e._v(e._s(e.$t(\"series.videos-trailers\")))]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.filteredVideos,(function(e,t){return s(\"erd-col\",{key:\"video-\"+t,attrs:{xl:\"6\",md:\"6\",xs:\"12\"}},[s(\"div\",{staticClass:\"video-card\"},[s(\"vue-plyr\",[s(\"div\",{attrs:{\"data-plyr-provider\":\"youtube\",\"data-plyr-embed-id\":e.key}})])],1)])})),1)],1):e._e(),e._l(e.seasonsInSeries,(function(t,r){return s(\"erd-col\",{key:\"season-\"+r,staticClass:\"px-0 mx-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"my-0 ml-3\"},[e._v(\" \"+e._s(e.$t(\"series.season\").format(t))+\" \")]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.episodesInSeason(t),(function(t,a){return s(\"erd-col\",{key:\"season-\"+r+\"-episode-\"+a,attrs:{xl:\"6\",xs:\"6\"}},[s(\"erd-card\",{staticClass:\"movie-view-card\"},[s(\"vue-plyr\",[s(\"video\",{attrs:{controls:\"\",playsinline:\"\",\"data-poster\":\"https://www.themoviedb.org/t/p/original/\"+t.tmdb.still_path}},[s(\"source\",{attrs:{src:e.episodeURL(t),type:e.episodeVideoType(t)}})])]),s(\"erd-card-body\",[s(\"p\",{staticClass:\"py-0 my-0 color-theme-1\"},[e._v(\" \"+e._s(t.tmdb.name)+\" \")]),s(\"p\",{staticClass:\"py-0 my-0 text-muted\"},[e._v(\" \"+e._s(t.tmdb.overview)+\" \")])])],1)],1)})),1)],1)})),e.filteredCast&&e.filteredCast.length?s(\"erd-col\",{staticClass:\"p-0 m-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"mt-2 mb-0 ml-3\"},[e._v(e._s(e.$t(\"series.main-characters\")))]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.filteredCast,(function(t,r){return s(\"erd-col\",{key:\"cast-\"+r,attrs:{xl:\"3\",md:\"4\",sm:\"6\"}},[s(\"erd-card\",{staticClass:\"cast-card\"},[s(\"img\",{staticClass:\"profile\",attrs:{src:\"https://www.themoviedb.org/t/p/w300_and_h450_bestv2/\"+t.profile_path}}),s(\"erd-card-body\",{staticClass:\"py-1\"},[s(\"p\",[s(\"span\",{staticClass:\"color-theme-1\"},[e._v(e._s(t.character))]),s(\"br\"),s(\"span\",{staticClass:\"text-small text-muted\"},[e._v(e._s(t.name))])])])],1)],1)})),1)],1):e._e(),e.viewerSimilar.length?s(\"erd-col\",{staticClass:\"p-0 m-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"mt-3 mb-0 ml-3\"},[e._v(e._s(e.$t(\"series.similar-series\")))]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.filteredSimilar,(function(t,r){return s(\"erd-col\",{key:\"movie-\"+r,attrs:{xl:\"4\",md:\"6\",xs:\"12\"}},[s(\"erd-card\",{staticClass:\"movie-card depth-2\"},[s(\"div\",{staticClass:\"poster\"},[s(\"img\",{staticClass:\"movie-poster\",attrs:{src:\"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/\"+t.poster_path}}),s(\"span\",{staticClass:\"score\"},[e._v(e._s(t.vote_average))])]),s(\"erd-card-body\",{staticClass:\"py-3\"},[s(\"h5\",{staticClass:\"m-0\"},[e._v(e._s(t.name))]),s(\"p\",{staticClass:\"m-0 text-muted text-small\"},[e._v(\" \"+e._s(e.formatDate(t.first_air_date))+\" \")]),s(\"div\",{staticClass:\"genres mt-2\"},e._l(t.genres,(function(r,a){return s(\"span\",{key:\"genre-\"+t.name+\"-\"+a,staticClass:\"genre\"},[e._v(e._s(r.name))])})),0)])],1)],1)})),1)],1):e._e()],2)],1)],1)],1):s(\"erd-row\",{staticClass:\"m-0 p-0\",attrs:{id:\"series\"}},[0===e.filteredSeries.length?s(\"erd-col\",{attrs:{xl:\"12\",xs:\"12\"}},[s(\"p\",{staticClass:\"text-center text-muted\"},[e._v(\" \"+e._s(e.$t(\"series.no-series\"))+\" \")])]):e._e(),e._l(e.pagedSeries,(function(t,r){return s(\"erd-col\",{key:\"serie-\"+t.tmdb_id+\"-\"+r,attrs:{xl:\"3\",lg:\"4\",md:\"6\",xs:\"12\"}},[s(\"erd-card\",{staticClass:\"movie-card depth-2\"},[s(\"div\",{staticClass:\"poster\"},[s(\"button\",{staticClass:\"more-button\",on:{click:function(s){return e.viewDetails(t)}}},[s(\"erd-tooltip\",{attrs:{tooltip:e.$t(\"series.tooltip-show-more\"),enabled:e.showTooltips}},[s(\"i\",{staticClass:\"las la-ellipsis-h\"})])],1),s(\"img\",{staticClass:\"movie-poster\",attrs:{src:t.tmdb.poster_path&&t.tmdb.poster_path.length?\"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/\"+t.tmdb.poster_path:t.icon}}),s(\"span\",{staticClass:\"score\"},[e._v(e._s(t.tmdb.vote_average))])]),s(\"erd-card-body\",{staticClass:\"py-3\"},[s(\"h5\",{staticClass:\"m-0\"},[s(\"erd-tooltip\",{attrs:{tooltip:e.$t(\"series.tooltip-show-more\"),enabled:e.showTooltips}},[s(\"a\",{attrs:{href:\"#\"},on:{click:function(s){return s.preventDefault(),e.viewDetails(t)}}},[e._v(e._s(t.tmdb.name))])])],1),s(\"p\",{staticClass:\"m-0 text-muted text-small\"},[s(\"span\",[e._v(e._s(e.$t(\"series.episodes-seasons\").format(t.seasons,t.episodes)))])]),s(\"div\",{staticClass:\"genres mt-2\"},e._l(t.tmdb.genres,(function(r,a){return s(\"span\",{key:\"genre-\"+t.tmdb_id+\"-\"+a,staticClass:\"genre\"},[e._v(e._s(r.name))])})),0)])],1)],1)}))],2),e.viewer?e._e():s(\"b-pagination\",{staticClass:\"w-100 my-3\",attrs:{size:\"sm\",align:\"center\",\"total-rows\":e.total,\"per-page\":e.perPage},scopedSlots:e._u([{key:\"next-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-right\"})]},proxy:!0},{key:\"prev-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-left\"})]},proxy:!0},{key:\"first-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-double-left\"})]},proxy:!0},{key:\"last-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-double-right\"})]},proxy:!0}],null,!1,1414363887),model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:\"currentPage\"}})],1)},a=[],i=s(\"2909\"),o=s(\"b85c\"),n=s(\"5530\"),l=(s(\"4de4\"),s(\"ac1f\"),s(\"841c\"),s(\"4d63\"),s(\"25f0\"),s(\"466d\"),s(\"b0c0\"),s(\"fb6a\"),s(\"d81d\"),s(\"d3b7\"),s(\"3ca3\"),s(\"ddb0\"),s(\"159b\"),s(\"99af\"),s(\"4e82\"),s(\"a9e3\"),s(\"4d90\"),s(\"2b3d\"),s(\"1276\"),s(\"a434\"),s(\"caad\"),s(\"2532\"),s(\"7db0\"),s(\"2ebf\")),d=s(\"0dcc\"),c=s(\"2f62\"),u={data:function(){return{viewerSeries:null,viewerCredits:[],viewerKeywords:[],viewerSimilar:[],viewerVideos:[],viewerEpisodes:[],viewerSeasons:[],viewerGroup:\"\",viewerPlaylist:\"\",viewer:!1,search:null,isLoading:!1,loadingText:\"\",series:[],from:0,to:0,total:0,currentPage:0,xdPro:{modal:!1,xdpro_id:0,download_folder:\"\",downloads:[]}}},computed:Object(n[\"a\"])(Object(n[\"a\"])({},Object(c[\"c\"])([\"tmdbGenres\",\"tmdbFilteredGenres\",\"settings\",\"currentUser\",\"movieSeriePlaylist\",\"xdProInstances\"])),{},{showTooltips:function(){return this.settings.showTooltips},canDownload:function(){return this.xdProInstances&&this.xdProInstances.length>0},tmdbSeries:function(){return this.series.filter((function(e){return e.tmdb_id}))},filteredSeries:function(){var e=this;if(null===this.search)return this.tmdbSeries;var t=new RegExp(this.search,\"i\");return this.tmdbSeries.filter((function(s){return String(s.tmdb.name).match(t)||String(s.tmdb.original_name).match(t)||String(s.tmdb_id).match(t)||String(s.tmdb.overview).match(t)||e.formatDate(s.tmdb.release_date).match(t)}))},filteredCast:function(){return this.viewerCredits.filter((function(e){return e.profile_path&&e.profile_path.length})).slice(0,8)},filteredSimilar:function(){return this.viewerSimilar.slice(0,6)},filteredVideos:function(){return this.viewerVideos.slice(0,2)},seasonsInSeries:function(){var e=0;return this.viewerEpisodes.map((function(t){t.serie_season>e&&(e=t.serie_season)})),e},perPage:function(){return this.settings.perPage},pagedSeries:function(){return this.total=this.filteredSeries.length,this.from=(this.currentPage-1)*this.perPage||0,this.to=this.from+this.perPage>this.total?this.total:this.from+this.perPage,this.filteredSeries.slice(this.from,this.to)},xdProInstanceItems:function(){return this.xdProInstances.map((function(e){return{text:e.name,value:e.id}}))}}),methods:Object(n[\"a\"])(Object(n[\"a\"])({},Object(c[\"b\"])([\"updateTMDBGenres\",\"addxdProDownload\"])),{},{closeViewer:function(){this.viewer=!1},viewDetails:function(e){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.viewerCredits=[],this.viewerKeywords=[],this.viewerSimilar=[],this.viewerVideos=[],this.viewerEpisodes=[],this.viewerSeries=e,this.viewerGroup=\"\",this.viewerPlaylist=\"\",this.loadSeriesDetails(),this.viewer=!0},allProgress:function(e,t){var s=0;t(0);var r,a=Object(o[\"a\"])(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.then((function(){s++,t(100*s/e.length)}))}}catch(n){a.e(n)}finally{a.f()}return Promise.all(e)},loadSeries:function(){var e=this;this.isLoading=!0,this.allProgress([d[\"a\"].get(\"serie/top-rated/\".concat(this.movieSeriePlaylist,\"/0/50\")),d[\"a\"].get(\"serie/top-rated/\".concat(this.movieSeriePlaylist,\"/50/50\")),d[\"a\"].get(\"serie/top-rated/\".concat(this.movieSeriePlaylist,\"/100/50\")),d[\"a\"].get(\"serie/top-rated/\".concat(this.movieSeriePlaylist,\"/150/50\")),d[\"a\"].get(\"serie/top-rated/\".concat(this.movieSeriePlaylist,\"/200/50\"))],(function(t){e.loadingText=e.$t(\"series.browse-loading\").format(Math.round(t))})).then((function(t){var s=[];t.forEach((function(e){!0===e.status&&(s=[].concat(Object(i[\"a\"])(s),Object(i[\"a\"])(e.data)))})),s.sort((function(e,t){return new Date(t.tmdb.first_air_date)-new Date(e.tmdb.first_air_date)})),e.series=s,e.isLoading=!1}))},loadSeriesDetails:function(){var e=this;this.isLoading=!0,this.loadingText=\"\",d[\"a\"].get(\"serie/details/\".concat(this.movieSeriePlaylist,\"/\").concat(this.viewerSeries.tmdb_id)).then((function(t){e.isLoading=!1,!0===t.status&&(e.viewerCredits=t.data.credits.cast,e.viewerKeywords=t.data.keywords,e.viewerSimilar=t.data.similar,e.viewerVideos=t.data.videos,e.viewerGroup=t.data.group,e.viewerPlaylist=t.data.playlist,e.viewerEpisodes=t.data.episodes)})).catch((function(){e.isLoading=!1}))},pagePrint:function(){document.getElementById(\"series\").print()},searchSeries:function(e){0===e.length?this.search=null:this.search=e},formatDate:function(e){return new Date(e).toLocaleDateString(this.$t(\"date.locale\"),{year:\"numeric\",month:\"long\",day:\"numeric\"})},formatSeconds:function(e){var t=Number(e),s=Math.floor(t/3600),r=Math.floor(t%3600/60),a=Math.floor(t%3600%60),i=this.$t(\"general.hour\"),o=this.$t(\"general.hours\"),n=this.$t(\"general.minute\"),l=this.$t(\"general.minutes\"),d=this.$t(\"general.second\"),c=this.$t(\"general.seconds\"),u=s>0?s+\" \".concat(1==s?i:o,\" \"):\"\",m=r>0?r+\" \".concat(1==r?n:l,\" \"):\"\",p=a>0?a+\" \".concat(1==a?d:c,\" \"):\"\";return u+m+p},downloadEpisode:function(e){var t=document.createElement(\"a\");t.href=e,t.target=\"_blank\",t.click()},episodesInSeason:function(e){return this.viewerEpisodes.filter((function(t){return t.serie_season===e}))},episodeURL:function(e){return e.source_stream_url&&e.source_stream_url.length?e.source_stream_url:e.xtream_url},episodeVideoType:function(e){return\"mkv\"==e.source_container_extension.toLowerCase()?\"video/webm\":\"video/mp4\"},formatDownloadFolder:function(e){return\"/\"==this.xdPro.download_folder.slice(-1)?\"\".concat(this.xdPro.download_folder).concat(e):\"\".concat(this.xdPro.download_folder,\"/\").concat(e)},downloadModal:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&(this.xdPro.downloads.length=0),s){var r=[];this.xdPro.downloads.map((function(e){var s=t.viewerEpisodes[e],a=new Date(t.viewerSeries.tmdb.first_air_date).getFullYear(),i={user_id:t.currentUser.user.id,xdpro_id:t.xdPro.xdpro_id,filename:\"\".concat(t.viewerSeries.tmdb.original_name,\" (\").concat(a,\") S\").concat(String(s.serie_season).padStart(2,\"0\"),\"E\").concat(String(s.serie_episode).padStart(2,\"0\"),\".\").concat(s.source_container_extension),file_extension:s.source_container_extension,type:2,enabled:0,download_folder:t.formatDownloadFolder(\"\".concat(t.viewerSeries.tmdb.original_name,\" (\").concat(a,\")/Season \").concat(s.serie_season,\"/\"))};if(s.source_stream_url&&s.source_stream_url.length)i.download_url=s.source_stream_url,i.download_host=\"\",i.download_port=\"\",i.download_username=\"\",i.download_password=\"\";else{i.download_url=s.xtream_url;var o=new URL(s.xtream_url);i.download_host=o.hostname,i.download_port=o.port;var n=o.pathname.split(\"/\");i.download_username=n[2],i.download_password=n[3]}r.push(i)})),this.addxdProDownload(r).then((function(e){!0===e.status&&t.$notify(\"primary\",t.$t(\"profile.success\"),t.$t(\"xd-pro.download-save-success\"),\"la-user-shield\",{duration:5e3,permanent:!1})})).catch((function(){t.$notify(\"error\",t.$t(\"profile.failed\"),t.$t(\"xd-pro.download-save-error\"),\"la-user-shield\",{duration:5e3,permanent:!1})}))}this.xdPro.modal=e},toggleDownloadsSelection:function(e){var t=this.xdPro.downloads.indexOf(e);-1!==t?this.xdPro.downloads.splice(t,1):this.xdPro.downloads.push(e)},selectDownloadsRangeSelection:function(e){for(var t=this.xdPro.downloads[this.xdPro.downloads.length-1],s=e>t?1:-1,r=t;r!=e+s;r+=s)this.xdPro.downloads.includes(r)||this.xdPro.downloads.push(r)},selectDownloadsSelection:function(e){this.xdPro.downloads.length=0,this.xdPro.downloads.push(e)}}),beforeMount:function(){l[\"a\"].$on(\"print\",this.pagePrint),l[\"a\"].$on(\"search\",this.searchSeries),l[\"a\"].$on(\"close-viewer\",this.closeViewer),this.loadSeries()},beforeDestroy:function(){l[\"a\"].$off(\"print\",this.pagePrint),l[\"a\"].$off(\"search\",this.searchSeries),l[\"a\"].$off(\"close-viewer\",this.closeViewer)},watch:{viewer:function(e){l[\"a\"].$emit(\"update-viewer\",e)},from:function(e){l[\"a\"].$emit(\"update-from\",e),document.body.scrollTop=0,document.documentElement.scrollTop=0},to:function(e){l[\"a\"].$emit(\"update-to\",e)},total:function(e){l[\"a\"].$emit(\"update-total\",e)},\"xdPro.xdpro_id\":function(e){var t=this.xdProInstances.find((function(t){return t.id==e}));t&&(this.xdPro.download_folder=t.download_folder)},movieSeriePlaylist:function(){this.loadSeries()}}},m=u,p=(s(\"ed3b\"),s(\"2877\")),h=Object(p[\"a\"])(m,r,a,!1,null,\"d1f4bd6c\",null);t[\"default\"]=h.exports},\"624d\":function(e,t,s){},\"64d4\":function(e,t,s){\"use strict\";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"erd-row\",{staticClass:\"m-0 p-0\"},[s(\"erd-modal\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.xdPro.modal,expression:\"xdPro.modal\"}],staticClass:\"select-none\",attrs:{title:e.$t(\"xd-pro.xd-pro\"),small:\"\"},on:{close:function(t){return e.downloadModal(!1)}},scopedSlots:e._u([{key:\"footer\",fn:function(){return[s(\"erd-button\",{staticClass:\"mr-1\",attrs:{icon:\"la-times\",variant:\"danger\"},on:{click:function(t){return e.downloadModal(!1)}}},[e._v(e._s(e.$t(\"general.cancel\")))]),s(\"erd-button\",{attrs:{icon:\"la-check\",variant:\"success\",disabled:0==e.xdPro.xdpro_id||0==e.xdPro.downloads.length},on:{click:function(t){return e.downloadModal(!1,!0)}}},[e._v(e._s(e.$t(\"general.ok\")))])]},proxy:!0}])},[s(\"div\",{staticClass:\"px-2\"},[s(\"label\",{staticClass:\"w-100\"},[e._v(e._s(e.$t(\"xd-pro.xd-pro-instance\")))]),s(\"erd-select\",{staticClass:\"mt-1 mb-2 w-100\",attrs:{items:e.xdProInstanceItems},model:{value:e.xdPro.xdpro_id,callback:function(t){e.$set(e.xdPro,\"xdpro_id\",t)},expression:\"xdPro.xdpro_id\"}}),s(\"label\",{staticClass:\"w-100\"},[e._v(e._s(e.$t(\"xd-pro.download-folder\")))]),s(\"erd-input\",{staticClass:\"mt-1 mb-2 w-100\",model:{value:e.xdPro.download_folder,callback:function(t){e.$set(e.xdPro,\"download_folder\",t)},expression:\"xdPro.download_folder\"}}),s(\"label\",{staticClass:\"w-100 mb-2\"},[e._v(e._s(e.$t(\"xd-pro.select-episodes\")))]),s(\"div\",{staticClass:\"radiobrowser-stations\"},[s(\"perfect-scrollbar\",{attrs:{settings:{suppressScrollX:!0,wheelPropagation:!1}}},e._l(e.viewerEpisodes,(function(t,r){return s(\"div\",{key:\"xdpro-episode-\"+r,staticClass:\"form-control radiobrowser-station\",class:{selected:e.xdPro.downloads.includes(r)},on:{click:[function(t){return t.ctrlKey?e.toggleDownloadsSelection(r):null},function(t){return t.shiftKey?e.selectDownloadsRangeSelection(r):null},function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.selectDownloadsSelection(r)}]}},[s(\"span\",{staticClass:\"station-name mr-2\"},[e._v(e._s(e.$t(\"xd-pro.season-episode\").format(t.serie_season,t.serie_episode)))]),s(\"span\",{staticClass:\"station-name text-muted\"},[e._v(e._s(t.tmdb.name))])])})),0)],1)],1)]),e.isLoading?s(\"erd-spinner\",{attrs:{text:e.loadingText,size:\"lg\",overlay:\"\",absolute:\"\"}}):e._e(),e.viewer?s(\"erd-col\",{staticClass:\"m-0 p-0\",attrs:{xl:\"12\",id:\"series\"}},[s(\"erd-row\",{staticClass:\"m-0 p-0\"},[s(\"erd-col\",{attrs:{xl:\"4\",md:\"4\"}},[s(\"erd-card\",{staticClass:\"movie-details-poster\"},[s(\"img\",{staticClass:\"poster\",attrs:{src:\"https://www.themoviedb.org/t/p/original/\"+e.viewerSeries.tmdb.poster_path}}),s(\"erd-card-body\",[s(\"h3\",{staticClass:\"mt-0 mb-1\"},[e._v(\" \"+e._s(e.viewerSeries.tmdb.title)+\" \"),s(\"span\",{staticClass:\"float-right\"},[s(\"span\",{staticClass:\"color-theme-1\"},[e._v(e._s(e.viewerSeries.tmdb.vote_average))]),s(\"span\",[e._v(\"/10\")])])]),s(\"div\",{staticClass:\"genres\"},e._l(e.viewerSeries.tmdb.genres,(function(t,r){return s(\"span\",{key:\"genre-\"+e.viewerSeries.tmdb.title+\"-\"+r,staticClass:\"genre\"},[e._v(e._s(t.name))])})),0),s(\"p\",{staticClass:\"color-theme-1 mt-1\"},[e._v(\" \"+e._s(e.formatDate(e.viewerSeries.tmdb.first_air_date))+\" \")]),s(\"p\",[e._v(e._s(e.viewerSeries.tmdb.overview))]),e.viewerSeries.tmdb.homepage.length?s(\"a\",{staticClass:\"d-block mt-2 text-truncate\",attrs:{href:e.viewerSeries.tmdb.homepage,target:\"_blank\"}},[e._v(e._s(e.viewerSeries.tmdb.homepage))]):e._e(),s(\"a\",{staticClass:\"d-block text-truncate\",attrs:{href:\"https://www.themoviedb.org/tv/\"+e.viewerSeries.tmdb_id,target:\"_blank\"}},[e._v(e._s(\"https://www.themoviedb.org/tv/\"+e.viewerSeries.tmdb_id))]),e.canDownload?s(\"erd-button\",{staticClass:\"my-3\",attrs:{dense:\"\",icon:\"la-download\"},on:{click:function(t){return e.downloadModal(!0)}}},[e._v(e._s(e.$t(\"movies.download\")))]):e._e()],1)],1)],1),s(\"erd-col\",{staticClass:\"m-0 p-0\",attrs:{xl:\"8\",md:\"8\"}},[s(\"erd-row\",{staticClass:\"m-0 p-0\"},[e.filteredVideos.length?s(\"erd-col\",{staticClass:\"p-0 m-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"mt-2 mb-0 ml-3\"},[e._v(e._s(e.$t(\"series.videos-trailers\")))]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.filteredVideos,(function(e,t){return s(\"erd-col\",{key:\"video-\"+t,attrs:{xl:\"6\",md:\"6\",xs:\"12\"}},[s(\"div\",{staticClass:\"video-card\"},[s(\"vue-plyr\",[s(\"div\",{attrs:{\"data-plyr-provider\":\"youtube\",\"data-plyr-embed-id\":e.key}})])],1)])})),1)],1):e._e(),e._l(e.seasonsInSeries,(function(t,r){return s(\"erd-col\",{key:\"season-\"+r,staticClass:\"px-0 mx-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"my-0 ml-3\"},[e._v(\" \"+e._s(e.$t(\"series.season\").format(t))+\" \")]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.episodesInSeason(t),(function(t,a){return s(\"erd-col\",{key:\"season-\"+r+\"-episode-\"+a,attrs:{xl:\"6\",xs:\"6\"}},[s(\"erd-card\",{staticClass:\"movie-view-card\"},[s(\"vue-plyr\",[s(\"video\",{attrs:{controls:\"\",playsinline:\"\",\"data-poster\":\"https://www.themoviedb.org/t/p/original/\"+t.tmdb.still_path}},[s(\"source\",{attrs:{src:e.episodeURL(t),type:e.episodeVideoType(t)}})])]),s(\"erd-card-body\",[s(\"p\",{staticClass:\"py-0 my-0 color-theme-1\"},[e._v(\" \"+e._s(t.tmdb.name)+\" \")]),s(\"p\",{staticClass:\"py-0 my-0 text-muted\"},[e._v(\" \"+e._s(t.tmdb.overview)+\" \")])])],1)],1)})),1)],1)})),e.filteredCast&&e.filteredCast.length?s(\"erd-col\",{staticClass:\"p-0 m-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"mt-2 mb-0 ml-3\"},[e._v(e._s(e.$t(\"series.main-characters\")))]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.filteredCast,(function(t,r){return s(\"erd-col\",{key:\"cast-\"+r,attrs:{xl:\"3\",md:\"4\",sm:\"6\"}},[s(\"erd-card\",{staticClass:\"cast-card\"},[s(\"img\",{staticClass:\"profile\",attrs:{src:\"https://www.themoviedb.org/t/p/w300_and_h450_bestv2/\"+t.profile_path}}),s(\"erd-card-body\",{staticClass:\"py-1\"},[s(\"p\",[s(\"span\",{staticClass:\"color-theme-1\"},[e._v(e._s(t.character))]),s(\"br\"),s(\"span\",{staticClass:\"text-small text-muted\"},[e._v(e._s(t.name))])])])],1)],1)})),1)],1):e._e(),e.viewerSimilar.length?s(\"erd-col\",{staticClass:\"p-0 m-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"mt-3 mb-0 ml-3\"},[e._v(e._s(e.$t(\"series.similar-series\")))]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.filteredSimilar,(function(t,r){return s(\"erd-col\",{key:\"movie-\"+r,attrs:{xl:\"4\",md:\"6\",xs:\"12\"}},[s(\"erd-card\",{staticClass:\"movie-card depth-2\"},[s(\"div\",{staticClass:\"poster\"},[s(\"img\",{staticClass:\"movie-poster\",attrs:{src:\"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/\"+t.poster_path}}),s(\"span\",{staticClass:\"score\"},[e._v(e._s(t.vote_average))])]),s(\"erd-card-body\",{staticClass:\"py-3\"},[s(\"h5\",{staticClass:\"m-0\"},[e._v(e._s(t.name))]),s(\"p\",{staticClass:\"m-0 text-muted text-small\"},[e._v(\" \"+e._s(e.formatDate(t.first_air_date))+\" \")]),s(\"div\",{staticClass:\"genres mt-2\"},e._l(t.genres,(function(r,a){return s(\"span\",{key:\"genre-\"+t.name+\"-\"+a,staticClass:\"genre\"},[e._v(e._s(r.name))])})),0)])],1)],1)})),1)],1):e._e()],2)],1)],1)],1):s(\"erd-row\",{staticClass:\"m-0 p-0\",attrs:{id:\"series\"}},[0===e.filteredSeries.length?s(\"erd-col\",{attrs:{xl:\"12\",xs:\"12\"}},[s(\"p\",{staticClass:\"text-center text-muted\"},[e._v(\" \"+e._s(e.$t(\"series.no-series\"))+\" \")])]):e._e(),e._l(e.pagedSeries,(function(t,r){return s(\"erd-col\",{key:\"serie-\"+t.tmdb_id+\"-\"+r,attrs:{xl:\"3\",lg:\"4\",md:\"6\",xs:\"12\"}},[s(\"erd-card\",{staticClass:\"movie-card depth-2\"},[s(\"div\",{staticClass:\"poster\"},[s(\"button\",{staticClass:\"more-button\",on:{click:function(s){return e.viewDetails(t)}}},[s(\"erd-tooltip\",{attrs:{tooltip:e.$t(\"series.tooltip-show-more\"),enabled:e.showTooltips}},[s(\"i\",{staticClass:\"las la-ellipsis-h\"})])],1),s(\"img\",{staticClass:\"movie-poster\",attrs:{src:t.tmdb.poster_path&&t.tmdb.poster_path.length?\"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/\"+t.tmdb.poster_path:t.icon}}),s(\"span\",{staticClass:\"score\"},[e._v(e._s(t.tmdb.vote_average))])]),s(\"erd-card-body\",{staticClass:\"py-3\"},[s(\"h5\",{staticClass:\"m-0\"},[s(\"erd-tooltip\",{attrs:{tooltip:e.$t(\"series.tooltip-show-more\"),enabled:e.showTooltips}},[s(\"a\",{attrs:{href:\"#\"},on:{click:function(s){return s.preventDefault(),e.viewDetails(t)}}},[e._v(e._s(t.tmdb.name))])])],1),s(\"p\",{staticClass:\"m-0 text-muted text-small\"},[s(\"span\",[e._v(e._s(e.$t(\"series.episodes-seasons\").format(t.seasons,t.episodes)))])]),s(\"div\",{staticClass:\"genres mt-2\"},e._l(t.tmdb.genres,(function(r,a){return s(\"span\",{key:\"genre-\"+t.tmdb_id+\"-\"+a,staticClass:\"genre\"},[e._v(e._s(r.name))])})),0)])],1)],1)}))],2),e.viewer?e._e():s(\"b-pagination\",{staticClass:\"w-100 my-3\",attrs:{size:\"sm\",align:\"center\",\"total-rows\":e.total,\"per-page\":e.perPage},scopedSlots:e._u([{key:\"next-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-right\"})]},proxy:!0},{key:\"prev-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-left\"})]},proxy:!0},{key:\"first-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-double-left\"})]},proxy:!0},{key:\"last-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-double-right\"})]},proxy:!0}],null,!1,1414363887),model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:\"currentPage\"}})],1)},a=[],i=s(\"2909\"),o=s(\"b85c\"),n=s(\"5530\"),l=(s(\"4de4\"),s(\"ac1f\"),s(\"841c\"),s(\"4d63\"),s(\"25f0\"),s(\"466d\"),s(\"b0c0\"),s(\"fb6a\"),s(\"d81d\"),s(\"d3b7\"),s(\"3ca3\"),s(\"ddb0\"),s(\"159b\"),s(\"99af\"),s(\"4e82\"),s(\"a9e3\"),s(\"4d90\"),s(\"2b3d\"),s(\"1276\"),s(\"a434\"),s(\"caad\"),s(\"2532\"),s(\"7db0\"),s(\"2ebf\")),d=s(\"0dcc\"),c=s(\"2f62\"),u={data:function(){return{viewerSeries:null,viewerCredits:[],viewerKeywords:[],viewerSimilar:[],viewerVideos:[],viewerEpisodes:[],viewerSeasons:[],viewerGroup:\"\",viewerPlaylist:\"\",viewer:!1,search:null,isLoading:!1,loadingText:\"\",series:[],from:0,to:0,total:0,currentPage:0,xdPro:{modal:!1,xdpro_id:0,download_folder:\"\",downloads:[]}}},computed:Object(n[\"a\"])(Object(n[\"a\"])({},Object(c[\"c\"])([\"tmdbGenres\",\"tmdbFilteredGenres\",\"settings\",\"currentUser\",\"movieSeriePlaylist\",\"xdProInstances\"])),{},{showTooltips:function(){return this.settings.showTooltips},canDownload:function(){return this.xdProInstances&&this.xdProInstances.length>0},tmdbSeries:function(){return this.series.filter((function(e){return e.tmdb_id}))},filteredSeries:function(){var e=this;if(null===this.search)return this.tmdbSeries;var t=new RegExp(this.search,\"i\");return this.tmdbSeries.filter((function(s){return String(s.tmdb.name).match(t)||String(s.tmdb.original_name).match(t)||String(s.tmdb_id).match(t)||String(s.tmdb.overview).match(t)||e.formatDate(s.tmdb.release_date).match(t)}))},filteredCast:function(){return this.viewerCredits.filter((function(e){return e.profile_path&&e.profile_path.length})).slice(0,8)},filteredSimilar:function(){return this.viewerSimilar.slice(0,6)},filteredVideos:function(){return this.viewerVideos.slice(0,2)},seasonsInSeries:function(){var e=0;return this.viewerEpisodes.map((function(t){t.serie_season>e&&(e=t.serie_season)})),e},perPage:function(){return this.settings.perPage},pagedSeries:function(){return this.total=this.filteredSeries.length,this.from=(this.currentPage-1)*this.perPage||0,this.to=this.from+this.perPage>this.total?this.total:this.from+this.perPage,this.filteredSeries.slice(this.from,this.to)},xdProInstanceItems:function(){return this.xdProInstances.map((function(e){return{text:e.name,value:e.id}}))}}),methods:Object(n[\"a\"])(Object(n[\"a\"])({},Object(c[\"b\"])([\"updateTMDBGenres\",\"addxdProDownload\"])),{},{closeViewer:function(){this.viewer=!1},viewDetails:function(e){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.viewerCredits=[],this.viewerKeywords=[],this.viewerSimilar=[],this.viewerVideos=[],this.viewerEpisodes=[],this.viewerSeries=e,this.viewerGroup=\"\",this.viewerPlaylist=\"\",this.loadSeriesDetails(),this.viewer=!0},allProgress:function(e,t){var s=0;t(0);var r,a=Object(o[\"a\"])(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.then((function(){s++,t(100*s/e.length)}))}}catch(n){a.e(n)}finally{a.f()}return Promise.all(e)},loadSeries:function(){var e=this;this.isLoading=!0,this.allProgress([d[\"a\"].get(\"serie/on-the-air/\".concat(this.movieSeriePlaylist,\"/0/50\")),d[\"a\"].get(\"serie/on-the-air/\".concat(this.movieSeriePlaylist,\"/50/50\")),d[\"a\"].get(\"serie/on-the-air/\".concat(this.movieSeriePlaylist,\"/100/50\")),d[\"a\"].get(\"serie/on-the-air/\".concat(this.movieSeriePlaylist,\"/150/50\")),d[\"a\"].get(\"serie/on-the-air/\".concat(this.movieSeriePlaylist,\"/200/50\"))],(function(t){e.loadingText=e.$t(\"series.browse-loading\").format(Math.round(t))})).then((function(t){var s=[];t.forEach((function(e){!0===e.status&&(s=[].concat(Object(i[\"a\"])(s),Object(i[\"a\"])(e.data)))})),s.sort((function(e,t){return new Date(t.tmdb.first_air_date)-new Date(e.tmdb.first_air_date)})),e.series=s,e.isLoading=!1}))},loadSeriesDetails:function(){var e=this;this.isLoading=!0,d[\"a\"].get(\"serie/details/\".concat(this.movieSeriePlaylist,\"/\").concat(this.viewerSeries.tmdb_id)).then((function(t){e.isLoading=!1,!0===t.status&&(e.viewerCredits=t.data.credits.cast,e.viewerKeywords=t.data.keywords,e.viewerSimilar=t.data.similar,e.viewerVideos=t.data.videos,e.viewerGroup=t.data.group,e.viewerPlaylist=t.data.playlist,e.viewerEpisodes=t.data.episodes)})).catch((function(){e.isLoading=!1}))},pagePrint:function(){document.getElementById(\"series\").print()},searchSeries:function(e){0===e.length?this.search=null:this.search=e},formatDate:function(e){return new Date(e).toLocaleDateString(this.$t(\"date.locale\"),{year:\"numeric\",month:\"long\",day:\"numeric\"})},formatSeconds:function(e){var t=Number(e),s=Math.floor(t/3600),r=Math.floor(t%3600/60),a=Math.floor(t%3600%60),i=this.$t(\"general.hour\"),o=this.$t(\"general.hours\"),n=this.$t(\"general.minute\"),l=this.$t(\"general.minutes\"),d=this.$t(\"general.second\"),c=this.$t(\"general.seconds\"),u=s>0?s+\" \".concat(1==s?i:o,\" \"):\"\",m=r>0?r+\" \".concat(1==r?n:l,\" \"):\"\",p=a>0?a+\" \".concat(1==a?d:c,\" \"):\"\";return u+m+p},downloadEpisode:function(e){var t=document.createElement(\"a\");t.href=e,t.target=\"_blank\",t.click()},episodesInSeason:function(e){return this.viewerEpisodes.filter((function(t){return t.serie_season===e}))},episodeURL:function(e){return e.source_stream_url&&e.source_stream_url.length?e.source_stream_url:e.xtream_url},episodeVideoType:function(e){return\"mkv\"==e.source_container_extension.toLowerCase()?\"video/webm\":\"video/mp4\"},formatDownloadFolder:function(e){return\"/\"==this.xdPro.download_folder.slice(-1)?\"\".concat(this.xdPro.download_folder).concat(e):\"\".concat(this.xdPro.download_folder,\"/\").concat(e)},downloadModal:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&(this.xdPro.downloads.length=0),s){var r=[];this.xdPro.downloads.map((function(e){var s=t.viewerEpisodes[e],a=new Date(t.viewerSeries.tmdb.first_air_date).getFullYear(),i={user_id:t.currentUser.user.id,xdpro_id:t.xdPro.xdpro_id,filename:\"\".concat(t.viewerSeries.tmdb.original_name,\" (\").concat(a,\") S\").concat(String(s.serie_season).padStart(2,\"0\"),\"E\").concat(String(s.serie_episode).padStart(2,\"0\"),\".\").concat(s.source_container_extension),file_extension:s.source_container_extension,type:2,enabled:0,download_folder:t.formatDownloadFolder(\"\".concat(t.viewerSeries.tmdb.original_name,\" (\").concat(a,\")/Season \").concat(s.serie_season,\"/\"))};if(s.source_stream_url&&s.source_stream_url.length)i.download_url=s.source_stream_url,i.download_host=\"\",i.download_port=\"\",i.download_username=\"\",i.download_password=\"\";else{i.download_url=s.xtream_url;var o=new URL(s.xtream_url);i.download_host=o.hostname,i.download_port=o.port;var n=o.pathname.split(\"/\");i.download_username=n[2],i.download_password=n[3]}r.push(i)})),this.addxdProDownload(r).then((function(e){!0===e.status&&t.$notify(\"primary\",t.$t(\"profile.success\"),t.$t(\"xd-pro.download-save-success\"),\"la-user-shield\",{duration:5e3,permanent:!1})})).catch((function(){t.$notify(\"error\",t.$t(\"profile.failed\"),t.$t(\"xd-pro.download-save-error\"),\"la-user-shield\",{duration:5e3,permanent:!1})}))}this.xdPro.modal=e},toggleDownloadsSelection:function(e){var t=this.xdPro.downloads.indexOf(e);-1!==t?this.xdPro.downloads.splice(t,1):this.xdPro.downloads.push(e)},selectDownloadsRangeSelection:function(e){for(var t=this.xdPro.downloads[this.xdPro.downloads.length-1],s=e>t?1:-1,r=t;r!=e+s;r+=s)this.xdPro.downloads.includes(r)||this.xdPro.downloads.push(r)},selectDownloadsSelection:function(e){this.xdPro.downloads.length=0,this.xdPro.downloads.push(e)}}),beforeMount:function(){l[\"a\"].$on(\"print\",this.pagePrint),l[\"a\"].$on(\"search\",this.searchSeries),l[\"a\"].$on(\"close-viewer\",this.closeViewer),this.loadSeries()},beforeDestroy:function(){l[\"a\"].$off(\"print\",this.pagePrint),l[\"a\"].$off(\"search\",this.searchSeries),l[\"a\"].$off(\"close-viewer\",this.closeViewer)},watch:{viewer:function(e){l[\"a\"].$emit(\"update-viewer\",e)},from:function(e){l[\"a\"].$emit(\"update-from\",e),document.body.scrollTop=0,document.documentElement.scrollTop=0},to:function(e){l[\"a\"].$emit(\"update-to\",e)},total:function(e){l[\"a\"].$emit(\"update-total\",e)},\"xdPro.xdpro_id\":function(e){var t=this.xdProInstances.find((function(t){return t.id==e}));t&&(this.xdPro.download_folder=t.download_folder)},movieSeriePlaylist:function(){this.loadSeries()}}},m=u,p=(s(\"d06e\"),s(\"2877\")),h=Object(p[\"a\"])(m,r,a,!1,null,\"6f1f2aab\",null);t[\"default\"]=h.exports},7483:function(e,t,s){\"use strict\";s(\"c016\")},7800:function(e,t,s){\"use strict\";s(\"b481\")},\"8ad1\":function(e,t,s){\"use strict\";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"erd-row\",{staticClass:\"m-0 p-0\"},[s(\"erd-modal\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.xdPro.modal,expression:\"xdPro.modal\"}],staticClass:\"select-none\",attrs:{title:e.$t(\"xd-pro.xd-pro\"),small:\"\"},on:{close:function(t){return e.downloadModal(!1)}},scopedSlots:e._u([{key:\"footer\",fn:function(){return[s(\"erd-button\",{staticClass:\"mr-1\",attrs:{icon:\"la-times\",variant:\"danger\"},on:{click:function(t){return e.downloadModal(!1)}}},[e._v(e._s(e.$t(\"general.cancel\")))]),s(\"erd-button\",{attrs:{icon:\"la-check\",variant:\"success\",disabled:0==e.xdPro.xdpro_id||0==e.xdPro.downloads.length},on:{click:function(t){return e.downloadModal(!1,!0)}}},[e._v(e._s(e.$t(\"general.ok\")))])]},proxy:!0}])},[s(\"div\",{staticClass:\"px-2\"},[s(\"label\",{staticClass:\"w-100\"},[e._v(e._s(e.$t(\"xd-pro.xd-pro-instance\")))]),s(\"erd-select\",{staticClass:\"mt-1 mb-2 w-100\",attrs:{items:e.xdProInstanceItems},model:{value:e.xdPro.xdpro_id,callback:function(t){e.$set(e.xdPro,\"xdpro_id\",t)},expression:\"xdPro.xdpro_id\"}}),s(\"label\",{staticClass:\"w-100\"},[e._v(e._s(e.$t(\"xd-pro.download-folder\")))]),s(\"erd-input\",{staticClass:\"mt-1 mb-2 w-100\",model:{value:e.xdPro.download_folder,callback:function(t){e.$set(e.xdPro,\"download_folder\",t)},expression:\"xdPro.download_folder\"}}),s(\"label\",{staticClass:\"w-100 mb-2\"},[e._v(e._s(e.$t(\"xd-pro.select-episodes\")))]),s(\"div\",{staticClass:\"radiobrowser-stations\"},[s(\"perfect-scrollbar\",{attrs:{settings:{suppressScrollX:!0,wheelPropagation:!1}}},e._l(e.viewerEpisodes,(function(t,r){return s(\"div\",{key:\"xdpro-episode-\"+r,staticClass:\"form-control radiobrowser-station\",class:{selected:e.xdPro.downloads.includes(r)},on:{click:[function(t){return t.ctrlKey?e.toggleDownloadsSelection(r):null},function(t){return t.shiftKey?e.selectDownloadsRangeSelection(r):null},function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.selectDownloadsSelection(r)}]}},[s(\"span\",{staticClass:\"station-name mr-2\"},[e._v(e._s(e.$t(\"xd-pro.season-episode\").format(t.serie_season,t.serie_episode)))]),s(\"span\",{staticClass:\"station-name text-muted\"},[e._v(e._s(t.tmdb.name))])])})),0)],1)],1)]),e.isLoading?s(\"erd-spinner\",{attrs:{text:e.loadingText,size:\"lg\",overlay:\"\",absolute:\"\"}}):e._e(),e.viewer?s(\"erd-col\",{staticClass:\"m-0 p-0\",attrs:{xl:\"12\",id:\"series\"}},[s(\"erd-row\",{staticClass:\"m-0 p-0\"},[s(\"erd-col\",{attrs:{xl:\"4\",md:\"4\"}},[s(\"erd-card\",{staticClass:\"movie-details-poster\"},[s(\"img\",{staticClass:\"poster\",attrs:{src:\"https://www.themoviedb.org/t/p/original/\"+e.viewerSeries.tmdb.poster_path}}),s(\"erd-card-body\",[s(\"h3\",{staticClass:\"mt-0 mb-1\"},[e._v(\" \"+e._s(e.viewerSeries.tmdb.title)+\" \"),s(\"span\",{staticClass:\"float-right\"},[s(\"span\",{staticClass:\"color-theme-1\"},[e._v(e._s(e.viewerSeries.tmdb.vote_average))]),s(\"span\",[e._v(\"/10\")])])]),s(\"div\",{staticClass:\"genres\"},e._l(e.viewerSeries.tmdb.genres,(function(t,r){return s(\"span\",{key:\"genre-\"+e.viewerSeries.tmdb.title+\"-\"+r,staticClass:\"genre\"},[e._v(e._s(t.name))])})),0),s(\"p\",{staticClass:\"color-theme-1 mt-1\"},[e._v(\" \"+e._s(e.formatDate(e.viewerSeries.tmdb.first_air_date))+\" \")]),s(\"p\",[e._v(e._s(e.viewerSeries.tmdb.overview))]),e.viewerSeries.tmdb.homepage.length?s(\"a\",{staticClass:\"d-block mt-2 text-truncate\",attrs:{href:e.viewerSeries.tmdb.homepage,target:\"_blank\"}},[e._v(e._s(e.viewerSeries.tmdb.homepage))]):e._e(),s(\"a\",{staticClass:\"d-block text-truncate\",attrs:{href:\"https://www.themoviedb.org/tv/\"+e.viewerSeries.tmdb_id,target:\"_blank\"}},[e._v(e._s(\"https://www.themoviedb.org/tv/\"+e.viewerSeries.tmdb_id))]),e.canDownload?s(\"erd-button\",{staticClass:\"my-3\",attrs:{dense:\"\",icon:\"la-download\"},on:{click:function(t){return e.downloadModal(!0)}}},[e._v(e._s(e.$t(\"movies.download\")))]):e._e()],1)],1)],1),s(\"erd-col\",{staticClass:\"m-0 p-0\",attrs:{xl:\"8\",md:\"8\"}},[s(\"erd-row\",{staticClass:\"m-0 p-0\"},[e.filteredVideos.length?s(\"erd-col\",{staticClass:\"p-0 m-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"mt-2 mb-0 ml-3\"},[e._v(e._s(e.$t(\"series.videos-trailers\")))]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.filteredVideos,(function(e,t){return s(\"erd-col\",{key:\"video-\"+t,attrs:{xl:\"6\",md:\"6\",xs:\"12\"}},[s(\"div\",{staticClass:\"video-card\"},[s(\"vue-plyr\",[s(\"div\",{attrs:{\"data-plyr-provider\":\"youtube\",\"data-plyr-embed-id\":e.key}})])],1)])})),1)],1):e._e(),e._l(e.seasonsInSeries,(function(t,r){return s(\"erd-col\",{key:\"season-\"+r,staticClass:\"px-0 mx-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"my-0 ml-3\"},[e._v(\" \"+e._s(e.$t(\"series.season\").format(t))+\" \")]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.episodesInSeason(t),(function(t,a){return s(\"erd-col\",{key:\"season-\"+r+\"-episode-\"+a,attrs:{xl:\"6\",xs:\"6\"}},[s(\"erd-card\",{staticClass:\"movie-view-card\"},[s(\"vue-plyr\",[s(\"video\",{attrs:{controls:\"\",playsinline:\"\",\"data-poster\":\"https://www.themoviedb.org/t/p/original/\"+t.tmdb.still_path}},[s(\"source\",{attrs:{src:e.episodeURL(t),type:e.episodeVideoType(t)}})])]),s(\"erd-card-body\",[s(\"p\",{staticClass:\"py-0 my-0 color-theme-1\"},[e._v(\" \"+e._s(t.tmdb.name)+\" \")]),s(\"p\",{staticClass:\"py-0 my-0 text-muted\"},[e._v(\" \"+e._s(t.tmdb.overview)+\" \")])])],1)],1)})),1)],1)})),e.filteredCast&&e.filteredCast.length?s(\"erd-col\",{staticClass:\"p-0 m-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"mt-2 mb-0 ml-3\"},[e._v(e._s(e.$t(\"series.main-characters\")))]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.filteredCast,(function(t,r){return s(\"erd-col\",{key:\"cast-\"+r,attrs:{xl:\"3\",md:\"4\",sm:\"6\"}},[s(\"erd-card\",{staticClass:\"cast-card\"},[s(\"img\",{staticClass:\"profile\",attrs:{src:\"https://www.themoviedb.org/t/p/w300_and_h450_bestv2/\"+t.profile_path}}),s(\"erd-card-body\",{staticClass:\"py-1\"},[s(\"p\",[s(\"span\",{staticClass:\"color-theme-1\"},[e._v(e._s(t.character))]),s(\"br\"),s(\"span\",{staticClass:\"text-small text-muted\"},[e._v(e._s(t.name))])])])],1)],1)})),1)],1):e._e(),e.viewerSimilar.length?s(\"erd-col\",{staticClass:\"p-0 m-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"mt-3 mb-0 ml-3\"},[e._v(e._s(e.$t(\"series.similar-series\")))]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.filteredSimilar,(function(t,r){return s(\"erd-col\",{key:\"movie-\"+r,attrs:{xl:\"4\",md:\"6\",xs:\"12\"}},[s(\"erd-card\",{staticClass:\"movie-card depth-2\"},[s(\"div\",{staticClass:\"poster\"},[s(\"img\",{staticClass:\"movie-poster\",attrs:{src:\"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/\"+t.poster_path}}),s(\"span\",{staticClass:\"score\"},[e._v(e._s(t.vote_average))])]),s(\"erd-card-body\",{staticClass:\"py-3\"},[s(\"h5\",{staticClass:\"m-0\"},[e._v(e._s(t.name))]),s(\"p\",{staticClass:\"m-0 text-muted text-small\"},[e._v(\" \"+e._s(e.formatDate(t.first_air_date))+\" \")]),s(\"div\",{staticClass:\"genres mt-2\"},e._l(t.genres,(function(r,a){return s(\"span\",{key:\"genre-\"+t.name+\"-\"+a,staticClass:\"genre\"},[e._v(e._s(r.name))])})),0)])],1)],1)})),1)],1):e._e()],2)],1)],1)],1):s(\"erd-row\",{staticClass:\"m-0 p-0\",attrs:{id:\"series\"}},[0===e.filteredSeries.length?s(\"erd-col\",{attrs:{xl:\"12\",xs:\"12\"}},[s(\"p\",{staticClass:\"text-center text-muted\"},[e._v(\" \"+e._s(e.$t(\"series.no-series\"))+\" \")])]):e._e(),e._l(e.pagedSeries,(function(t,r){return s(\"erd-col\",{key:\"serie-\"+t.tmdb_id+\"-\"+r,attrs:{xl:\"3\",lg:\"4\",md:\"6\",xs:\"12\"}},[s(\"erd-card\",{staticClass:\"movie-card depth-2\"},[s(\"div\",{staticClass:\"poster\"},[s(\"button\",{staticClass:\"more-button\",on:{click:function(s){return e.viewDetails(t)}}},[s(\"erd-tooltip\",{attrs:{tooltip:e.$t(\"series.tooltip-show-more\"),enabled:e.showTooltips}},[s(\"i\",{staticClass:\"las la-ellipsis-h\"})])],1),s(\"img\",{staticClass:\"movie-poster\",attrs:{src:t.tmdb.poster_path&&t.tmdb.poster_path.length?\"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/\"+t.tmdb.poster_path:t.icon}}),s(\"span\",{staticClass:\"score\"},[e._v(e._s(t.tmdb.vote_average))])]),s(\"erd-card-body\",{staticClass:\"py-3\"},[s(\"h5\",{staticClass:\"m-0\"},[s(\"erd-tooltip\",{attrs:{tooltip:e.$t(\"series.tooltip-show-more\"),enabled:e.showTooltips}},[s(\"a\",{attrs:{href:\"#\"},on:{click:function(s){return s.preventDefault(),e.viewDetails(t)}}},[e._v(e._s(t.tmdb.name))])])],1),s(\"p\",{staticClass:\"m-0 text-muted text-small\"},[s(\"span\",[e._v(e._s(e.$t(\"series.episodes-seasons\").format(t.seasons,t.episodes)))])]),s(\"div\",{staticClass:\"genres mt-2\"},e._l(t.tmdb.genres,(function(r,a){return s(\"span\",{key:\"genre-\"+t.tmdb_id+\"-\"+a,staticClass:\"genre\"},[e._v(e._s(r.name))])})),0)])],1)],1)}))],2),e.viewer?e._e():s(\"b-pagination\",{staticClass:\"w-100 my-3\",attrs:{size:\"sm\",align:\"center\",\"total-rows\":e.total,\"per-page\":e.perPage},scopedSlots:e._u([{key:\"next-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-right\"})]},proxy:!0},{key:\"prev-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-left\"})]},proxy:!0},{key:\"first-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-double-left\"})]},proxy:!0},{key:\"last-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-double-right\"})]},proxy:!0}],null,!1,1414363887),model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:\"currentPage\"}})],1)},a=[],i=s(\"2909\"),o=s(\"b85c\"),n=s(\"5530\"),l=(s(\"4de4\"),s(\"ac1f\"),s(\"841c\"),s(\"4d63\"),s(\"25f0\"),s(\"466d\"),s(\"b0c0\"),s(\"fb6a\"),s(\"d81d\"),s(\"d3b7\"),s(\"3ca3\"),s(\"ddb0\"),s(\"159b\"),s(\"99af\"),s(\"4e82\"),s(\"a9e3\"),s(\"4d90\"),s(\"2b3d\"),s(\"1276\"),s(\"a434\"),s(\"caad\"),s(\"2532\"),s(\"7db0\"),s(\"2ebf\")),d=s(\"0dcc\"),c=s(\"2f62\"),u={data:function(){return{viewerSeries:null,viewerCredits:[],viewerKeywords:[],viewerSimilar:[],viewerVideos:[],viewerEpisodes:[],viewerSeasons:[],viewerGroup:\"\",viewerPlaylist:\"\",viewer:!1,search:null,isLoading:!1,loadingText:\"\",series:[],from:0,to:0,total:0,currentPage:0,xdPro:{modal:!1,xdpro_id:0,download_folder:\"\",downloads:[]}}},computed:Object(n[\"a\"])(Object(n[\"a\"])({},Object(c[\"c\"])([\"tmdbGenres\",\"tmdbFilteredGenres\",\"settings\",\"currentUser\",\"movieSeriePlaylist\",\"xdProInstances\"])),{},{showTooltips:function(){return this.settings.showTooltips},canDownload:function(){return this.xdProInstances&&this.xdProInstances.length>0},tmdbSeries:function(){return this.series.filter((function(e){return e.tmdb_id}))},filteredSeries:function(){var e=this;if(null===this.search)return this.tmdbSeries;var t=new RegExp(this.search,\"i\");return this.tmdbSeries.filter((function(s){return String(s.tmdb.name).match(t)||String(s.tmdb.original_name).match(t)||String(s.tmdb_id).match(t)||String(s.tmdb.overview).match(t)||e.formatDate(s.tmdb.release_date).match(t)}))},filteredCast:function(){return this.viewerCredits.filter((function(e){return e.profile_path&&e.profile_path.length})).slice(0,8)},filteredSimilar:function(){return this.viewerSimilar.slice(0,6)},filteredVideos:function(){return this.viewerVideos.slice(0,2)},seasonsInSeries:function(){var e=0;return this.viewerEpisodes.map((function(t){t.serie_season>e&&(e=t.serie_season)})),e},perPage:function(){return this.settings.perPage},pagedSeries:function(){return this.total=this.filteredSeries.length,this.from=(this.currentPage-1)*this.perPage||0,this.to=this.from+this.perPage>this.total?this.total:this.from+this.perPage,this.filteredSeries.slice(this.from,this.to)},xdProInstanceItems:function(){return this.xdProInstances.map((function(e){return{text:e.name,value:e.id}}))}}),methods:Object(n[\"a\"])(Object(n[\"a\"])({},Object(c[\"b\"])([\"updateTMDBGenres\",\"addxdProDownload\"])),{},{closeViewer:function(){this.viewer=!1},viewDetails:function(e){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.viewerCredits=[],this.viewerKeywords=[],this.viewerSimilar=[],this.viewerVideos=[],this.viewerEpisodes=[],this.viewerSeries=e,this.viewerGroup=\"\",this.viewerPlaylist=\"\",this.loadSeriesDetails(),this.viewer=!0},allProgress:function(e,t){var s=0;t(0);var r,a=Object(o[\"a\"])(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.then((function(){s++,t(100*s/e.length)}))}}catch(n){a.e(n)}finally{a.f()}return Promise.all(e)},loadSeries:function(){var e=this;this.isLoading=!0,this.allProgress([d[\"a\"].get(\"serie/popular/\".concat(this.movieSeriePlaylist,\"/0/50\")),d[\"a\"].get(\"serie/popular/\".concat(this.movieSeriePlaylist,\"/50/50\")),d[\"a\"].get(\"serie/popular/\".concat(this.movieSeriePlaylist,\"/100/50\")),d[\"a\"].get(\"serie/popular/\".concat(this.movieSeriePlaylist,\"/150/50\")),d[\"a\"].get(\"serie/popular/\".concat(this.movieSeriePlaylist,\"/200/50\"))],(function(t){e.loadingText=e.$t(\"series.browse-loading\").format(Math.round(t))})).then((function(t){var s=[];t.forEach((function(e){!0===e.status&&(s=[].concat(Object(i[\"a\"])(s),Object(i[\"a\"])(e.data)))})),s.sort((function(e,t){return new Date(t.tmdb.first_air_date)-new Date(e.tmdb.first_air_date)})),e.series=s,e.isLoading=!1}))},loadSeriesDetails:function(){var e=this;this.isLoading=!0,this.loadingText=\"\",d[\"a\"].get(\"serie/details/\".concat(this.movieSeriePlaylist,\"/\").concat(this.viewerSeries.tmdb_id)).then((function(t){e.isLoading=!1,!0===t.status&&(e.viewerCredits=t.data.credits.cast,e.viewerKeywords=t.data.keywords,e.viewerSimilar=t.data.similar,e.viewerVideos=t.data.videos,e.viewerGroup=t.data.group,e.viewerPlaylist=t.data.playlist,e.viewerEpisodes=t.data.episodes)})).catch((function(){e.isLoading=!1}))},pagePrint:function(){document.getElementById(\"series\").print()},searchSeries:function(e){0===e.length?this.search=null:this.search=e},formatDate:function(e){return new Date(e).toLocaleDateString(this.$t(\"date.locale\"),{year:\"numeric\",month:\"long\",day:\"numeric\"})},formatSeconds:function(e){var t=Number(e),s=Math.floor(t/3600),r=Math.floor(t%3600/60),a=Math.floor(t%3600%60),i=this.$t(\"general.hour\"),o=this.$t(\"general.hours\"),n=this.$t(\"general.minute\"),l=this.$t(\"general.minutes\"),d=this.$t(\"general.second\"),c=this.$t(\"general.seconds\"),u=s>0?s+\" \".concat(1==s?i:o,\" \"):\"\",m=r>0?r+\" \".concat(1==r?n:l,\" \"):\"\",p=a>0?a+\" \".concat(1==a?d:c,\" \"):\"\";return u+m+p},downloadEpisode:function(e){var t=document.createElement(\"a\");t.href=e,t.target=\"_blank\",t.click()},episodesInSeason:function(e){return this.viewerEpisodes.filter((function(t){return t.serie_season===e}))},episodeURL:function(e){return e.source_stream_url&&e.source_stream_url.length?e.source_stream_url:e.xtream_url},episodeVideoType:function(e){return\"mkv\"==e.source_container_extension.toLowerCase()?\"video/webm\":\"video/mp4\"},formatDownloadFolder:function(e){return\"/\"==this.xdPro.download_folder.slice(-1)?\"\".concat(this.xdPro.download_folder).concat(e):\"\".concat(this.xdPro.download_folder,\"/\").concat(e)},downloadModal:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&(this.xdPro.downloads.length=0),s){var r=[];this.xdPro.downloads.map((function(e){var s=t.viewerEpisodes[e],a=new Date(t.viewerSeries.tmdb.first_air_date).getFullYear(),i={user_id:t.currentUser.user.id,xdpro_id:t.xdPro.xdpro_id,filename:\"\".concat(t.viewerSeries.tmdb.original_name,\" (\").concat(a,\") S\").concat(String(s.serie_season).padStart(2,\"0\"),\"E\").concat(String(s.serie_episode).padStart(2,\"0\"),\".\").concat(s.source_container_extension),file_extension:s.source_container_extension,type:2,enabled:0,download_folder:t.formatDownloadFolder(\"\".concat(t.viewerSeries.tmdb.original_name,\" (\").concat(a,\")/Season \").concat(s.serie_season,\"/\"))};if(s.source_stream_url&&s.source_stream_url.length)i.download_url=s.source_stream_url,i.download_host=\"\",i.download_port=\"\",i.download_username=\"\",i.download_password=\"\";else{i.download_url=s.xtream_url;var o=new URL(s.xtream_url);i.download_host=o.hostname,i.download_port=o.port;var n=o.pathname.split(\"/\");i.download_username=n[2],i.download_password=n[3]}r.push(i)})),this.addxdProDownload(r).then((function(e){!0===e.status&&t.$notify(\"primary\",t.$t(\"profile.success\"),t.$t(\"xd-pro.download-save-success\"),\"la-user-shield\",{duration:5e3,permanent:!1})})).catch((function(){t.$notify(\"error\",t.$t(\"profile.failed\"),t.$t(\"xd-pro.download-save-error\"),\"la-user-shield\",{duration:5e3,permanent:!1})}))}this.xdPro.modal=e},toggleDownloadsSelection:function(e){var t=this.xdPro.downloads.indexOf(e);-1!==t?this.xdPro.downloads.splice(t,1):this.xdPro.downloads.push(e)},selectDownloadsRangeSelection:function(e){for(var t=this.xdPro.downloads[this.xdPro.downloads.length-1],s=e>t?1:-1,r=t;r!=e+s;r+=s)this.xdPro.downloads.includes(r)||this.xdPro.downloads.push(r)},selectDownloadsSelection:function(e){this.xdPro.downloads.length=0,this.xdPro.downloads.push(e)}}),beforeMount:function(){l[\"a\"].$on(\"print\",this.pagePrint),l[\"a\"].$on(\"search\",this.searchSeries),l[\"a\"].$on(\"close-viewer\",this.closeViewer),this.loadSeries()},beforeDestroy:function(){l[\"a\"].$off(\"print\",this.pagePrint),l[\"a\"].$off(\"search\",this.searchSeries),l[\"a\"].$off(\"close-viewer\",this.closeViewer)},watch:{viewer:function(e){l[\"a\"].$emit(\"update-viewer\",e)},from:function(e){l[\"a\"].$emit(\"update-from\",e),document.body.scrollTop=0,document.documentElement.scrollTop=0},to:function(e){l[\"a\"].$emit(\"update-to\",e)},total:function(e){l[\"a\"].$emit(\"update-total\",e)},\"xdPro.xdpro_id\":function(e){var t=this.xdProInstances.find((function(t){return t.id==e}));t&&(this.xdPro.download_folder=t.download_folder)},movieSeriePlaylist:function(){this.loadSeries()}}},m=u,p=(s(\"0b63\"),s(\"2877\")),h=Object(p[\"a\"])(m,r,a,!1,null,\"76d2e9b0\",null);t[\"default\"]=h.exports},\"8c47\":function(e,t,s){\"use strict\";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"erd-row\",[s(\"erd-breadcrumb\",{attrs:{items:e.breadcrumb,heading:e.heading}},[e.viewer?s(\"erd-button\",{staticClass:\"float-right\",attrs:{icon:\"la-angle-left\"},on:{click:e.doBack}},[e._v(e._s(e.$t(\"general.back\")))]):e._e(),e.viewer?e._e():s(\"span\",{staticClass:\"text-muted\"},[e._v(e._s(e.$t(\"general.from-to-total\").format(this.total>0?this.from+1:this.from,this.to,this.total)))])],1),s(\"div\",{staticClass:\"seperator page\"}),s(\"router-view\",{staticClass:\"px-0 mt-0\"})],1)},a=[],i=s(\"5530\"),o=(s(\"d81d\"),s(\"b0c0\"),s(\"2ebf\")),n=s(\"2f62\"),l={data:function(){return{viewer:!1,from:0,to:0,total:0}},computed:{breadcrumb:function(){var e=this,t=[];return this.$route.matched.map((function(s){t.push({text:e.$t(\"menu.\".concat(s.name.toLowerCase())),to:\"\"!==s.path?s.path:\"/\"})})),t},heading:function(){var e=this.breadcrumb;return e[e.length-1].text}},methods:Object(i[\"a\"])(Object(i[\"a\"])({},Object(n[\"b\"])([\"loadxdProInstances\",\"loadMovieSeriePlaylists\"])),{},{doBack:function(){o[\"a\"].$emit(\"close-viewer\")},updateFrom:function(e){this.from=e},updateTo:function(e){this.to=e},updateTotal:function(e){this.total=e},updateViewer:function(e){this.viewer=e}}),watch:{$route:function(){this.loadxdProInstances(),this.to=0,this.from=0,this.total=0,this.activeTab=0,this.editorPlaylist=void 0,this.viewer=!1,!0!==this.$route.params.editor&&(this.editor=!1)},activeTab:function(e){o[\"a\"].$emit(\"tab-change\",e)}},beforeMount:function(){this.loadxdProInstances(),this.loadMovieSeriePlaylists(),o[\"a\"].$on(\"update-from\",this.updateFrom),o[\"a\"].$on(\"update-to\",this.updateTo),o[\"a\"].$on(\"update-total\",this.updateTotal),o[\"a\"].$on(\"update-viewer\",this.updateViewer)},beforeDestroy:function(){o[\"a\"].$off(\"update-from\",this.updateFrom),o[\"a\"].$off(\"update-to\",this.updateTo),o[\"a\"].$off(\"update-total\",this.updateTotal),o[\"a\"].$off(\"update-viewer\",this.updateViewer)}},d=l,c=(s(\"7483\"),s(\"2877\")),u=Object(c[\"a\"])(d,r,a,!1,null,\"108c67f8\",null);t[\"default\"]=u.exports},\"92bb\":function(e,t,s){\"use strict\";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"erd-row\",{staticClass:\"m-0 p-0\"},[s(\"erd-modal\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.xdPro.modal,expression:\"xdPro.modal\"}],staticClass:\"select-none\",attrs:{title:e.$t(\"xd-pro.xd-pro\"),small:\"\"},on:{close:function(t){return e.downloadModal(!1)}},scopedSlots:e._u([{key:\"footer\",fn:function(){return[s(\"erd-button\",{staticClass:\"mr-1\",attrs:{icon:\"la-times\",variant:\"danger\"},on:{click:function(t){return e.downloadModal(!1)}}},[e._v(e._s(e.$t(\"general.cancel\")))]),s(\"erd-button\",{attrs:{icon:\"la-check\",variant:\"success\",disabled:0==e.xdPro.xdpro_id||0==e.xdPro.downloads.length},on:{click:function(t){return e.downloadModal(!1,!0)}}},[e._v(e._s(e.$t(\"general.ok\")))])]},proxy:!0}])},[s(\"div\",{staticClass:\"px-2\"},[s(\"label\",{staticClass:\"w-100\"},[e._v(e._s(e.$t(\"xd-pro.xd-pro-instance\")))]),s(\"erd-select\",{staticClass:\"mt-1 mb-2 w-100\",attrs:{items:e.xdProInstanceItems},model:{value:e.xdPro.xdpro_id,callback:function(t){e.$set(e.xdPro,\"xdpro_id\",t)},expression:\"xdPro.xdpro_id\"}}),s(\"label\",{staticClass:\"w-100\"},[e._v(e._s(e.$t(\"xd-pro.download-folder\")))]),s(\"erd-input\",{staticClass:\"mt-1 mb-2 w-100\",model:{value:e.xdPro.download_folder,callback:function(t){e.$set(e.xdPro,\"download_folder\",t)},expression:\"xdPro.download_folder\"}}),s(\"label\",{staticClass:\"w-100 mb-2\"},[e._v(e._s(e.$t(\"xd-pro.select-episodes\")))]),s(\"div\",{staticClass:\"radiobrowser-stations\"},[s(\"perfect-scrollbar\",{attrs:{settings:{suppressScrollX:!0,wheelPropagation:!1}}},e._l(e.viewerEpisodes,(function(t,r){return s(\"div\",{key:\"xdpro-episode-\"+r,staticClass:\"form-control radiobrowser-station\",class:{selected:e.xdPro.downloads.includes(r)},on:{click:[function(t){return t.ctrlKey?e.toggleDownloadsSelection(r):null},function(t){return t.shiftKey?e.selectDownloadsRangeSelection(r):null},function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.selectDownloadsSelection(r)}]}},[s(\"span\",{staticClass:\"station-name mr-2\"},[e._v(e._s(e.$t(\"xd-pro.season-episode\").format(t.serie_season,t.serie_episode)))]),s(\"span\",{staticClass:\"station-name text-muted\"},[e._v(e._s(t.tmdb.name))])])})),0)],1)],1)]),e.isLoading?s(\"erd-spinner\",{attrs:{text:e.loadingText,size:\"lg\",overlay:\"\",absolute:\"\"}}):e._e(),e.viewer?s(\"erd-col\",{staticClass:\"m-0 p-0\",attrs:{xl:\"12\",id:\"series\"}},[s(\"erd-row\",{staticClass:\"m-0 p-0\"},[s(\"erd-col\",{attrs:{xl:\"4\",md:\"4\"}},[s(\"erd-card\",{staticClass:\"movie-details-poster\"},[s(\"img\",{staticClass:\"poster\",attrs:{src:\"https://www.themoviedb.org/t/p/original/\"+e.viewerSeries.tmdb.poster_path}}),s(\"erd-card-body\",[s(\"h3\",{staticClass:\"mt-0 mb-1\"},[e._v(\" \"+e._s(e.viewerSeries.tmdb.title)+\" \"),s(\"span\",{staticClass:\"float-right\"},[s(\"span\",{staticClass:\"color-theme-1\"},[e._v(e._s(e.viewerSeries.tmdb.vote_average))]),s(\"span\",[e._v(\"/10\")])])]),s(\"div\",{staticClass:\"genres\"},e._l(e.viewerSeries.tmdb.genres,(function(t,r){return s(\"span\",{key:\"genre-\"+e.viewerSeries.tmdb.title+\"-\"+r,staticClass:\"genre\"},[e._v(e._s(t.name))])})),0),s(\"p\",{staticClass:\"color-theme-1 mt-1\"},[e._v(\" \"+e._s(e.formatDate(e.viewerSeries.tmdb.first_air_date))+\" \")]),s(\"p\",[e._v(e._s(e.viewerSeries.tmdb.overview))]),e.viewerSeries.tmdb.homepage.length?s(\"a\",{staticClass:\"d-block mt-2 text-truncate\",attrs:{href:e.viewerSeries.tmdb.homepage,target:\"_blank\"}},[e._v(e._s(e.viewerSeries.tmdb.homepage))]):e._e(),s(\"a\",{staticClass:\"d-block text-truncate\",attrs:{href:\"https://www.themoviedb.org/tv/\"+e.viewerSeries.tmdb_id,target:\"_blank\"}},[e._v(e._s(\"https://www.themoviedb.org/tv/\"+e.viewerSeries.tmdb_id))]),e.canDownload?s(\"erd-button\",{staticClass:\"my-3\",attrs:{dense:\"\",icon:\"la-download\"},on:{click:function(t){return e.downloadModal(!0)}}},[e._v(e._s(e.$t(\"movies.download\")))]):e._e()],1)],1)],1),s(\"erd-col\",{staticClass:\"m-0 p-0\",attrs:{xl:\"8\",md:\"8\"}},[s(\"erd-row\",{staticClass:\"m-0 p-0\"},[e.filteredVideos.length?s(\"erd-col\",{staticClass:\"p-0 m-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"mt-2 mb-0 ml-3\"},[e._v(e._s(e.$t(\"series.videos-trailers\")))]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.filteredVideos,(function(e,t){return s(\"erd-col\",{key:\"video-\"+t,attrs:{xl:\"6\",md:\"6\",xs:\"12\"}},[s(\"div\",{staticClass:\"video-card\"},[s(\"vue-plyr\",[s(\"div\",{attrs:{\"data-plyr-provider\":\"youtube\",\"data-plyr-embed-id\":e.key}})])],1)])})),1)],1):e._e(),e._l(e.seasonsInSeries,(function(t,r){return s(\"erd-col\",{key:\"season-\"+r,staticClass:\"px-0 mx-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"my-0 ml-3\"},[e._v(\" \"+e._s(e.$t(\"series.season\").format(t))+\" \")]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.episodesInSeason(t),(function(t,a){return s(\"erd-col\",{key:\"season-\"+r+\"-episode-\"+a,attrs:{xl:\"6\",xs:\"6\"}},[s(\"erd-card\",{staticClass:\"movie-view-card\"},[s(\"vue-plyr\",[s(\"video\",{attrs:{controls:\"\",playsinline:\"\",\"data-poster\":\"https://www.themoviedb.org/t/p/original/\"+t.tmdb.still_path}},[s(\"source\",{attrs:{src:e.episodeURL(t),type:e.episodeVideoType(t)}})])]),s(\"erd-card-body\",[s(\"p\",{staticClass:\"py-0 my-0 color-theme-1\"},[e._v(\" \"+e._s(t.tmdb.name)+\" \")]),s(\"p\",{staticClass:\"py-0 my-0 text-muted\"},[e._v(\" \"+e._s(t.tmdb.overview)+\" \")])])],1)],1)})),1)],1)})),e.filteredCast&&e.filteredCast.length?s(\"erd-col\",{staticClass:\"p-0 m-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"mt-2 mb-0 ml-3\"},[e._v(e._s(e.$t(\"series.main-characters\")))]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.filteredCast,(function(t,r){return s(\"erd-col\",{key:\"cast-\"+r,attrs:{xl:\"3\",md:\"4\",sm:\"6\"}},[s(\"erd-card\",{staticClass:\"cast-card\"},[s(\"img\",{staticClass:\"profile\",attrs:{src:\"https://www.themoviedb.org/t/p/w300_and_h450_bestv2/\"+t.profile_path}}),s(\"erd-card-body\",{staticClass:\"py-1\"},[s(\"p\",[s(\"span\",{staticClass:\"color-theme-1\"},[e._v(e._s(t.character))]),s(\"br\"),s(\"span\",{staticClass:\"text-small text-muted\"},[e._v(e._s(t.name))])])])],1)],1)})),1)],1):e._e(),e.viewerSimilar.length?s(\"erd-col\",{staticClass:\"p-0 m-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"mt-3 mb-0 ml-3\"},[e._v(e._s(e.$t(\"series.similar-series\")))]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.filteredSimilar,(function(t,r){return s(\"erd-col\",{key:\"movie-\"+r,attrs:{xl:\"4\",md:\"6\",xs:\"12\"}},[s(\"erd-card\",{staticClass:\"movie-card depth-2\"},[s(\"div\",{staticClass:\"poster\"},[s(\"img\",{staticClass:\"movie-poster\",attrs:{src:\"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/\"+t.poster_path}}),s(\"span\",{staticClass:\"score\"},[e._v(e._s(t.vote_average))])]),s(\"erd-card-body\",{staticClass:\"py-3\"},[s(\"h5\",{staticClass:\"m-0\"},[e._v(e._s(t.name))]),s(\"p\",{staticClass:\"m-0 text-muted text-small\"},[e._v(\" \"+e._s(e.formatDate(t.first_air_date))+\" \")]),s(\"div\",{staticClass:\"genres mt-2\"},e._l(t.genres,(function(r,a){return s(\"span\",{key:\"genre-\"+t.name+\"-\"+a,staticClass:\"genre\"},[e._v(e._s(r.name))])})),0)])],1)],1)})),1)],1):e._e()],2)],1)],1)],1):s(\"erd-row\",{staticClass:\"m-0 p-0\",attrs:{id:\"series\"}},[s(\"erd-col\",{attrs:{xl:\"12\",xs:\"12\"}},[s(\"erd-genre-select\",{attrs:{genres:e.tmdbFilteredGenres},model:{value:e.genre,callback:function(t){e.genre=t},expression:\"genre\"}})],1),0===e.filteredSeries.length?s(\"erd-col\",{attrs:{xl:\"12\",xs:\"12\"}},[s(\"p\",{staticClass:\"text-center text-muted\"},[e._v(\" \"+e._s(e.$t(\"series.no-series\"))+\" \")])]):e._e(),e._l(e.pagedSeries,(function(t,r){return s(\"erd-col\",{key:\"serie-\"+t.tmdb_id+\"-\"+r,attrs:{xl:\"3\",lg:\"4\",md:\"6\",xs:\"12\"}},[s(\"erd-card\",{staticClass:\"movie-card depth-2\"},[s(\"div\",{staticClass:\"poster\"},[s(\"button\",{staticClass:\"more-button\",on:{click:function(s){return e.viewDetails(t)}}},[s(\"erd-tooltip\",{attrs:{tooltip:e.$t(\"series.tooltip-show-more\"),enabled:e.showTooltips}},[s(\"i\",{staticClass:\"las la-ellipsis-h\"})])],1),s(\"img\",{staticClass:\"movie-poster\",attrs:{src:t.tmdb.poster_path&&t.tmdb.poster_path.length?\"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/\"+t.tmdb.poster_path:t.icon}}),s(\"span\",{staticClass:\"score\"},[e._v(e._s(t.tmdb.vote_average))])]),s(\"erd-card-body\",{staticClass:\"py-3\"},[s(\"h5\",{staticClass:\"m-0\"},[s(\"erd-tooltip\",{attrs:{tooltip:e.$t(\"series.tooltip-show-more\"),enabled:e.showTooltips}},[s(\"a\",{attrs:{href:\"#\"},on:{click:function(s){return s.preventDefault(),e.viewDetails(t)}}},[e._v(e._s(t.tmdb.name))])])],1),s(\"p\",{staticClass:\"m-0 text-muted text-small\"},[s(\"span\",[e._v(e._s(e.$t(\"series.episodes-seasons\").format(t.seasons,t.episodes)))])]),s(\"div\",{staticClass:\"genres mt-2\"},e._l(t.tmdb.genres,(function(r,a){return s(\"span\",{key:\"genre-\"+t.tmdb_id+\"-\"+a,staticClass:\"genre\"},[e._v(e._s(r.name))])})),0)])],1)],1)}))],2),e.viewer?e._e():s(\"b-pagination\",{staticClass:\"w-100 my-3\",attrs:{size:\"sm\",align:\"center\",\"total-rows\":e.total,\"per-page\":e.perPage},scopedSlots:e._u([{key:\"next-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-right\"})]},proxy:!0},{key:\"prev-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-left\"})]},proxy:!0},{key:\"first-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-double-left\"})]},proxy:!0},{key:\"last-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-double-right\"})]},proxy:!0}],null,!1,1414363887),model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:\"currentPage\"}})],1)},a=[],i=s(\"2909\"),o=s(\"b85c\"),n=s(\"5530\"),l=(s(\"4de4\"),s(\"c740\"),s(\"ac1f\"),s(\"841c\"),s(\"4d63\"),s(\"25f0\"),s(\"466d\"),s(\"b0c0\"),s(\"fb6a\"),s(\"d81d\"),s(\"d3b7\"),s(\"3ca3\"),s(\"ddb0\"),s(\"99af\"),s(\"159b\"),s(\"4e82\"),s(\"a9e3\"),s(\"4d90\"),s(\"2b3d\"),s(\"1276\"),s(\"a434\"),s(\"caad\"),s(\"2532\"),s(\"7db0\"),s(\"2ebf\")),d=s(\"0dcc\"),c=s(\"2f62\"),u={data:function(){return{viewerSeries:null,viewerCredits:[],viewerKeywords:[],viewerSimilar:[],viewerVideos:[],viewerEpisodes:[],viewerSeasons:[],viewerGroup:\"\",viewerPlaylist:\"\",viewer:!1,search:null,isLoading:!1,loadingText:\"\",series:[],from:0,to:0,total:0,currentPage:0,genre:10759,xdPro:{modal:!1,xdpro_id:0,download_folder:\"\",downloads:[]}}},computed:Object(n[\"a\"])(Object(n[\"a\"])({},Object(c[\"c\"])([\"tmdbGenres\",\"tmdbFilteredGenres\",\"settings\",\"currentUser\",\"movieSeriePlaylist\",\"xdProInstances\"])),{},{showTooltips:function(){return this.settings.showTooltips},canDownload:function(){return this.xdProInstances&&this.xdProInstances.length>0},tmdbSeries:function(){return this.series.filter((function(e){return e.tmdb_id}))},filteredByGenre:function(){var e=this.genre;return this.tmdbSeries.filter((function(t){return!(!t.tmdb||!t.tmdb.genres)&&t.tmdb.genres.findIndex((function(t){return t.id===e}))>-1}))},filteredSeries:function(){var e=this;if(null===this.search)return this.filteredByGenre;var t=new RegExp(this.search,\"i\");return this.filteredByGenre.filter((function(s){return String(s.tmdb.name).match(t)||String(s.tmdb.original_name).match(t)||String(s.tmdb_id).match(t)||String(s.tmdb.overview).match(t)||e.formatDate(s.tmdb.release_date).match(t)}))},filteredCast:function(){return this.viewerCredits.filter((function(e){return e.profile_path&&e.profile_path.length})).slice(0,8)},filteredSimilar:function(){return this.viewerSimilar.slice(0,6)},filteredVideos:function(){return this.viewerVideos.slice(0,2)},seasonsInSeries:function(){var e=0;return this.viewerEpisodes.map((function(t){t.serie_season>e&&(e=t.serie_season)})),e},perPage:function(){return this.settings.perPage},pagedSeries:function(){return this.total=this.filteredSeries.length,this.from=(this.currentPage-1)*this.perPage||0,this.to=this.from+this.perPage>this.total?this.total:this.from+this.perPage,this.filteredSeries.slice(this.from,this.to)},xdProInstanceItems:function(){return this.xdProInstances.map((function(e){return{text:e.name,value:e.id}}))}}),methods:Object(n[\"a\"])(Object(n[\"a\"])({},Object(c[\"b\"])([\"updateTMDBGenres\",\"addxdProDownload\"])),{},{closeViewer:function(){this.viewer=!1},viewDetails:function(e){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.viewerCredits=[],this.viewerKeywords=[],this.viewerSimilar=[],this.viewerVideos=[],this.viewerEpisodes=[],this.viewerSeries=e,this.viewerGroup=\"\",this.viewerPlaylist=\"\",this.loadSeriesDetails(),this.viewer=!0},allProgress:function(e,t){var s=0;t(0);var r,a=Object(o[\"a\"])(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.then((function(){s++,t(100*s/e.length)}))}}catch(n){a.e(n)}finally{a.f()}return Promise.all(e)},loadSeries:function(){var e=this;this.isLoading=!0,d[\"a\"].get(\"serie/total/\".concat(this.movieSeriePlaylist)).then((function(t){if(!0===t.status){for(var s=[],r=0;r<t.data;r+=50)s.push(d[\"a\"].get(\"serie/browse/\".concat(e.movieSeriePlaylist,\"/\").concat(r,\"/50\")));e.allProgress(s,(function(t){e.loadingText=e.$t(\"series.browse-loading\").format(Math.round(t))})).then((function(t){var s=[];t.forEach((function(e){!0===e.status&&(s=[].concat(Object(i[\"a\"])(s),Object(i[\"a\"])(e.data)))})),s.sort((function(e,t){return new Date(t.tmdb.first_air_date)-new Date(e.tmdb.first_air_date)})),e.series=s,e.isLoading=!1}))}}))},loadSeriesDetails:function(){var e=this;this.isLoading=!0,this.loadingText=\"\",d[\"a\"].get(\"serie/details/\".concat(this.movieSeriePlaylist,\"/\").concat(this.viewerSeries.tmdb_id)).then((function(t){e.isLoading=!1,!0===t.status&&(e.viewerCredits=t.data.credits.cast,e.viewerKeywords=t.data.keywords,e.viewerSimilar=t.data.similar,e.viewerVideos=t.data.videos,e.viewerGroup=t.data.group,e.viewerPlaylist=t.data.playlist,e.viewerEpisodes=t.data.episodes)})).catch((function(){e.isLoading=!1}))},pagePrint:function(){document.getElementById(\"series\").print()},searchSeries:function(e){0===e.length?this.search=null:this.search=e},formatDate:function(e){return new Date(e).toLocaleDateString(this.$t(\"date.locale\"),{year:\"numeric\",month:\"long\",day:\"numeric\"})},formatSeconds:function(e){var t=Number(e),s=Math.floor(t/3600),r=Math.floor(t%3600/60),a=Math.floor(t%3600%60),i=this.$t(\"general.hour\"),o=this.$t(\"general.hours\"),n=this.$t(\"general.minute\"),l=this.$t(\"general.minutes\"),d=this.$t(\"general.second\"),c=this.$t(\"general.seconds\"),u=s>0?s+\" \".concat(1==s?i:o,\" \"):\"\",m=r>0?r+\" \".concat(1==r?n:l,\" \"):\"\",p=a>0?a+\" \".concat(1==a?d:c,\" \"):\"\";return u+m+p},downloadEpisode:function(e){var t=document.createElement(\"a\");t.href=e,t.target=\"_blank\",t.click()},episodesInSeason:function(e){return this.viewerEpisodes.filter((function(t){return t.serie_season===e}))},episodeURL:function(e){return e.source_stream_url&&e.source_stream_url.length?e.source_stream_url:e.xtream_url},episodeVideoType:function(e){return\"mkv\"==e.source_container_extension.toLowerCase()?\"video/webm\":\"video/mp4\"},formatDownloadFolder:function(e){return\"/\"==this.xdPro.download_folder.slice(-1)?\"\".concat(this.xdPro.download_folder).concat(e):\"\".concat(this.xdPro.download_folder,\"/\").concat(e)},downloadModal:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&(this.xdPro.downloads.length=0),s){var r=[];this.xdPro.downloads.map((function(e){var s=t.viewerEpisodes[e],a=new Date(t.viewerSeries.tmdb.first_air_date).getFullYear(),i={user_id:t.currentUser.user.id,xdpro_id:t.xdPro.xdpro_id,filename:\"\".concat(t.viewerSeries.tmdb.original_name,\" (\").concat(a,\") S\").concat(String(s.serie_season).padStart(2,\"0\"),\"E\").concat(String(s.serie_episode).padStart(2,\"0\"),\".\").concat(s.source_container_extension),file_extension:s.source_container_extension,type:2,enabled:0,download_folder:t.formatDownloadFolder(\"\".concat(t.viewerSeries.tmdb.original_name,\" (\").concat(a,\")/Season \").concat(s.serie_season,\"/\"))};if(s.source_stream_url&&s.source_stream_url.length)i.download_url=s.source_stream_url,i.download_host=\"\",i.download_port=\"\",i.download_username=\"\",i.download_password=\"\";else{i.download_url=s.xtream_url;var o=new URL(s.xtream_url);i.download_host=o.hostname,i.download_port=o.port;var n=o.pathname.split(\"/\");i.download_username=n[2],i.download_password=n[3]}r.push(i)})),this.addxdProDownload(r).then((function(e){!0===e.status&&t.$notify(\"primary\",t.$t(\"profile.success\"),t.$t(\"xd-pro.download-save-success\"),\"la-user-shield\",{duration:5e3,permanent:!1})})).catch((function(){t.$notify(\"error\",t.$t(\"profile.failed\"),t.$t(\"xd-pro.download-save-error\"),\"la-user-shield\",{duration:5e3,permanent:!1})}))}this.xdPro.modal=e},toggleDownloadsSelection:function(e){var t=this.xdPro.downloads.indexOf(e);-1!==t?this.xdPro.downloads.splice(t,1):this.xdPro.downloads.push(e)},selectDownloadsRangeSelection:function(e){for(var t=this.xdPro.downloads[this.xdPro.downloads.length-1],s=e>t?1:-1,r=t;r!=e+s;r+=s)this.xdPro.downloads.includes(r)||this.xdPro.downloads.push(r)},selectDownloadsSelection:function(e){this.xdPro.downloads.length=0,this.xdPro.downloads.push(e)}}),beforeMount:function(){this.updateTMDBGenres({source:\"tv\",language:this.$t(\"date.tmdb\")}),l[\"a\"].$on(\"print\",this.pagePrint),l[\"a\"].$on(\"search\",this.searchSeries),l[\"a\"].$on(\"close-viewer\",this.closeViewer),this.loadSeries()},beforeDestroy:function(){l[\"a\"].$off(\"print\",this.pagePrint),l[\"a\"].$off(\"search\",this.searchSeries),l[\"a\"].$off(\"close-viewer\",this.closeViewer)},watch:{viewer:function(e){l[\"a\"].$emit(\"update-viewer\",e)},from:function(e){l[\"a\"].$emit(\"update-from\",e),document.body.scrollTop=0,document.documentElement.scrollTop=0},to:function(e){l[\"a\"].$emit(\"update-to\",e)},total:function(e){l[\"a\"].$emit(\"update-total\",e)},\"xdPro.xdpro_id\":function(e){var t=this.xdProInstances.find((function(t){return t.id==e}));t&&(this.xdPro.download_folder=t.download_folder)},movieSeriePlaylist:function(){this.loadSeries()}}},m=u,p=(s(\"48fe\"),s(\"2877\")),h=Object(p[\"a\"])(m,r,a,!1,null,\"b33390c6\",null);t[\"default\"]=h.exports},\"95e5\":function(e,t,s){},\"99e3\":function(e,t,s){\"use strict\";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"erd-row\",{staticClass:\"m-0 p-0\"},[s(\"erd-modal\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.xdPro.modal,expression:\"xdPro.modal\"}],staticClass:\"select-none\",attrs:{title:e.$t(\"xd-pro.xd-pro\"),small:\"\"},on:{close:function(t){return e.downloadModal(!1)}},scopedSlots:e._u([{key:\"footer\",fn:function(){return[s(\"erd-button\",{staticClass:\"mr-1\",attrs:{icon:\"la-times\",variant:\"danger\"},on:{click:function(t){return e.downloadModal(!1)}}},[e._v(e._s(e.$t(\"general.cancel\")))]),s(\"erd-button\",{attrs:{icon:\"la-check\",variant:\"success\",disabled:0==e.xdPro.xdpro_id||0==e.xdPro.downloads.length},on:{click:function(t){return e.downloadModal(!1,!0)}}},[e._v(e._s(e.$t(\"general.ok\")))])]},proxy:!0}])},[s(\"div\",{staticClass:\"px-2\"},[s(\"label\",{staticClass:\"w-100\"},[e._v(e._s(e.$t(\"xd-pro.xd-pro-instance\")))]),s(\"erd-select\",{staticClass:\"mt-1 mb-2 w-100\",attrs:{items:e.xdProInstanceItems},model:{value:e.xdPro.xdpro_id,callback:function(t){e.$set(e.xdPro,\"xdpro_id\",t)},expression:\"xdPro.xdpro_id\"}}),s(\"label\",{staticClass:\"w-100\"},[e._v(e._s(e.$t(\"xd-pro.download-folder\")))]),s(\"erd-input\",{staticClass:\"mt-1 mb-2 w-100\",model:{value:e.xdPro.download_folder,callback:function(t){e.$set(e.xdPro,\"download_folder\",t)},expression:\"xdPro.download_folder\"}}),s(\"label\",{staticClass:\"w-100 mb-2\"},[e._v(e._s(e.$t(\"xd-pro.select-episodes\")))]),s(\"div\",{staticClass:\"radiobrowser-stations\"},[s(\"perfect-scrollbar\",{attrs:{settings:{suppressScrollX:!0,wheelPropagation:!1}}},e._l(e.viewerEpisodes,(function(t,r){return s(\"div\",{key:\"xdpro-episode-\"+r,staticClass:\"form-control radiobrowser-station\",class:{selected:e.xdPro.downloads.includes(r)},on:{click:[function(t){return t.ctrlKey?e.toggleDownloadsSelection(r):null},function(t){return t.shiftKey?e.selectDownloadsRangeSelection(r):null},function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.selectDownloadsSelection(r)}]}},[s(\"span\",{staticClass:\"station-name mr-2\"},[e._v(e._s(e.$t(\"xd-pro.season-episode\").format(t.serie_season,t.serie_episode)))]),s(\"span\",{staticClass:\"station-name text-muted\"},[e._v(e._s(t.tmdb.name))])])})),0)],1)],1)]),e.isLoading?s(\"erd-spinner\",{attrs:{text:e.loadingText,size:\"lg\",overlay:\"\",absolute:\"\"}}):e._e(),e.viewer?e._e():s(\"erd-col\",{attrs:{xl:\"12\"}},[s(\"label\",{staticClass:\"d-block\",attrs:{for:\"search-series\"}},[e._v(e._s(e.$t(\"menu.search\")))]),s(\"erd-input\",{staticClass:\"mt-1 mb-2 w-100\",attrs:{id:\"search-series\",placeholder:e.$t(\"menu.search\")},model:{value:e.serieSearch,callback:function(t){e.serieSearch=t},expression:\"serieSearch\"}})],1),e.viewer?s(\"erd-col\",{staticClass:\"m-0 p-0\",attrs:{xl:\"12\",id:\"series\"}},[s(\"erd-row\",{staticClass:\"m-0 p-0\"},[s(\"erd-col\",{attrs:{xl:\"4\",md:\"4\"}},[s(\"erd-card\",{staticClass:\"movie-details-poster\"},[s(\"img\",{staticClass:\"poster\",attrs:{src:\"https://www.themoviedb.org/t/p/original/\"+e.viewerSeries.tmdb.poster_path}}),s(\"erd-card-body\",[s(\"h3\",{staticClass:\"mt-0 mb-1\"},[e._v(\" \"+e._s(e.viewerSeries.tmdb.title)+\" \"),s(\"span\",{staticClass:\"float-right\"},[s(\"span\",{staticClass:\"color-theme-1\"},[e._v(e._s(e.viewerSeries.tmdb.vote_average))]),s(\"span\",[e._v(\"/10\")])])]),s(\"div\",{staticClass:\"genres\"},e._l(e.viewerSeries.tmdb.genres,(function(t,r){return s(\"span\",{key:\"genre-\"+e.viewerSeries.tmdb.title+\"-\"+r,staticClass:\"genre\"},[e._v(e._s(t.name))])})),0),s(\"p\",{staticClass:\"color-theme-1 mt-1\"},[e._v(\" \"+e._s(e.formatDate(e.viewerSeries.tmdb.first_air_date))+\" \")]),s(\"p\",[e._v(e._s(e.viewerSeries.tmdb.overview))]),e.viewerSeries.tmdb.homepage.length?s(\"a\",{staticClass:\"d-block mt-2 text-truncate\",attrs:{href:e.viewerSeries.tmdb.homepage,target:\"_blank\"}},[e._v(e._s(e.viewerSeries.tmdb.homepage))]):e._e(),s(\"a\",{staticClass:\"d-block text-truncate\",attrs:{href:\"https://www.themoviedb.org/tv/\"+e.viewerSeries.tmdb_id,target:\"_blank\"}},[e._v(e._s(\"https://www.themoviedb.org/tv/\"+e.viewerSeries.tmdb_id))]),e.canDownload?s(\"erd-button\",{staticClass:\"my-3\",attrs:{dense:\"\",icon:\"la-download\"},on:{click:function(t){return e.downloadModal(!0)}}},[e._v(e._s(e.$t(\"movies.download\")))]):e._e()],1)],1)],1),s(\"erd-col\",{staticClass:\"m-0 p-0\",attrs:{xl:\"8\",md:\"8\"}},[s(\"erd-row\",{staticClass:\"m-0 p-0\"},[e.filteredVideos.length?s(\"erd-col\",{staticClass:\"p-0 m-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"mt-2 mb-0 ml-3\"},[e._v(e._s(e.$t(\"series.videos-trailers\")))]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.filteredVideos,(function(e,t){return s(\"erd-col\",{key:\"video-\"+t,attrs:{xl:\"6\",md:\"6\",xs:\"12\"}},[s(\"div\",{staticClass:\"video-card\"},[s(\"vue-plyr\",[s(\"div\",{attrs:{\"data-plyr-provider\":\"youtube\",\"data-plyr-embed-id\":e.key}})])],1)])})),1)],1):e._e(),e._l(e.seasonsInSeries,(function(t,r){return s(\"erd-col\",{key:\"season-\"+r,staticClass:\"px-0 mx-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"my-0 ml-3\"},[e._v(\" \"+e._s(e.$t(\"series.season\").format(t))+\" \")]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.episodesInSeason(t),(function(t,a){return s(\"erd-col\",{key:\"season-\"+r+\"-episode-\"+a,attrs:{xl:\"6\",xs:\"6\"}},[s(\"erd-card\",{staticClass:\"movie-view-card\"},[s(\"vue-plyr\",[s(\"video\",{attrs:{controls:\"\",playsinline:\"\",\"data-poster\":\"https://www.themoviedb.org/t/p/original/\"+t.tmdb.still_path}},[s(\"source\",{attrs:{src:e.episodeURL(t),type:e.episodeVideoType(t)}})])]),s(\"erd-card-body\",[s(\"p\",{staticClass:\"py-0 my-0 color-theme-1\"},[e._v(\" \"+e._s(t.tmdb.name)+\" \")]),s(\"p\",{staticClass:\"py-0 my-0 text-muted\"},[e._v(\" \"+e._s(t.tmdb.overview)+\" \")])])],1)],1)})),1)],1)})),e.filteredCast&&e.filteredCast.length?s(\"erd-col\",{staticClass:\"p-0 m-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"mt-2 mb-0 ml-3\"},[e._v(e._s(e.$t(\"series.main-characters\")))]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.filteredCast,(function(t,r){return s(\"erd-col\",{key:\"cast-\"+r,attrs:{xl:\"3\",md:\"4\",sm:\"6\"}},[s(\"erd-card\",{staticClass:\"cast-card\"},[s(\"img\",{staticClass:\"profile\",attrs:{src:\"https://www.themoviedb.org/t/p/w300_and_h450_bestv2/\"+t.profile_path}}),s(\"erd-card-body\",{staticClass:\"py-1\"},[s(\"p\",[s(\"span\",{staticClass:\"color-theme-1\"},[e._v(e._s(t.character))]),s(\"br\"),s(\"span\",{staticClass:\"text-small text-muted\"},[e._v(e._s(t.name))])])])],1)],1)})),1)],1):e._e(),e.viewerSimilar.length?s(\"erd-col\",{staticClass:\"p-0 m-0\",attrs:{xl:\"12\"}},[s(\"h5\",{staticClass:\"mt-3 mb-0 ml-3\"},[e._v(e._s(e.$t(\"series.similar-series\")))]),s(\"erd-row\",{staticClass:\"p-0 m-0\"},e._l(e.filteredSimilar,(function(t,r){return s(\"erd-col\",{key:\"movie-\"+r,attrs:{xl:\"4\",md:\"6\",xs:\"12\"}},[s(\"erd-card\",{staticClass:\"movie-card depth-2\"},[s(\"div\",{staticClass:\"poster\"},[s(\"img\",{staticClass:\"movie-poster\",attrs:{src:\"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/\"+t.poster_path}}),s(\"span\",{staticClass:\"score\"},[e._v(e._s(t.vote_average))])]),s(\"erd-card-body\",{staticClass:\"py-3\"},[s(\"h5\",{staticClass:\"m-0\"},[e._v(e._s(t.name))]),s(\"p\",{staticClass:\"m-0 text-muted text-small\"},[e._v(\" \"+e._s(e.formatDate(t.first_air_date))+\" \")]),s(\"div\",{staticClass:\"genres mt-2\"},e._l(t.genres,(function(r,a){return s(\"span\",{key:\"genre-\"+t.name+\"-\"+a,staticClass:\"genre\"},[e._v(e._s(r.name))])})),0)])],1)],1)})),1)],1):e._e()],2)],1)],1)],1):s(\"erd-row\",{staticClass:\"m-0 p-0\",attrs:{id:\"series\"}},[0===e.filteredSeries.length?s(\"erd-col\",{attrs:{xl:\"12\",xs:\"12\"}},[s(\"p\",{staticClass:\"text-center text-muted\"},[e._v(\" \"+e._s(e.$t(\"series.no-series\"))+\" \")])]):e._e(),e._l(e.pagedSeries,(function(t,r){return s(\"erd-col\",{key:\"serie-\"+t.tmdb_id+\"-\"+r,attrs:{xl:\"3\",lg:\"4\",md:\"6\",xs:\"12\"}},[s(\"erd-card\",{staticClass:\"movie-card depth-2\"},[s(\"div\",{staticClass:\"poster\"},[s(\"button\",{staticClass:\"more-button\",on:{click:function(s){return e.viewDetails(t)}}},[s(\"erd-tooltip\",{attrs:{tooltip:e.$t(\"series.tooltip-show-more\"),enabled:e.showTooltips}},[s(\"i\",{staticClass:\"las la-ellipsis-h\"})])],1),s(\"img\",{staticClass:\"movie-poster\",attrs:{src:t.tmdb.poster_path&&t.tmdb.poster_path.length?\"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/\"+t.tmdb.poster_path:t.icon}}),s(\"span\",{staticClass:\"score\"},[e._v(e._s(t.tmdb.vote_average))])]),s(\"erd-card-body\",{staticClass:\"py-3\"},[s(\"h5\",{staticClass:\"m-0\"},[s(\"erd-tooltip\",{attrs:{tooltip:e.$t(\"series.tooltip-show-more\"),enabled:e.showTooltips}},[s(\"a\",{attrs:{href:\"#\"},on:{click:function(s){return s.preventDefault(),e.viewDetails(t)}}},[e._v(e._s(t.tmdb.name))])])],1),s(\"p\",{staticClass:\"m-0 text-muted text-small\"},[s(\"span\",[e._v(e._s(e.$t(\"series.episodes-seasons\").format(t.seasons,t.episodes)))])]),s(\"div\",{staticClass:\"genres mt-2\"},e._l(t.tmdb.genres,(function(r,a){return s(\"span\",{key:\"genre-\"+t.tmdb_id+\"-\"+a,staticClass:\"genre\"},[e._v(e._s(r.name))])})),0)])],1)],1)}))],2),e.viewer?e._e():s(\"b-pagination\",{staticClass:\"w-100 my-3\",attrs:{size:\"sm\",align:\"center\",\"total-rows\":e.total,\"per-page\":e.perPage},scopedSlots:e._u([{key:\"next-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-right\"})]},proxy:!0},{key:\"prev-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-left\"})]},proxy:!0},{key:\"first-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-double-left\"})]},proxy:!0},{key:\"last-text\",fn:function(){return[s(\"i\",{staticClass:\"las la-angle-double-right\"})]},proxy:!0}],null,!1,1414363887),model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:\"currentPage\"}})],1)},a=[],i=s(\"2909\"),o=s(\"b85c\"),n=s(\"5530\"),l=(s(\"4de4\"),s(\"ac1f\"),s(\"841c\"),s(\"4d63\"),s(\"25f0\"),s(\"466d\"),s(\"b0c0\"),s(\"fb6a\"),s(\"d81d\"),s(\"d3b7\"),s(\"3ca3\"),s(\"ddb0\"),s(\"99af\"),s(\"4e82\"),s(\"a9e3\"),s(\"4d90\"),s(\"2b3d\"),s(\"1276\"),s(\"a434\"),s(\"caad\"),s(\"2532\"),s(\"7db0\"),s(\"2ebf\")),d=s(\"0dcc\"),c=s(\"2f62\"),u={data:function(){return{viewerSeries:null,viewerCredits:[],viewerKeywords:[],viewerSimilar:[],viewerVideos:[],viewerEpisodes:[],viewerSeasons:[],viewerGroup:\"\",viewerPlaylist:\"\",viewer:!1,search:null,isLoading:!1,loadingText:\"\",series:[],from:0,to:0,total:0,currentPage:0,xdPro:{modal:!1,xdpro_id:0,download_folder:\"\",downloads:[]},serieSearch:\"\",bounce:null}},computed:Object(n[\"a\"])(Object(n[\"a\"])({},Object(c[\"c\"])([\"tmdbGenres\",\"tmdbFilteredGenres\",\"settings\",\"currentUser\",\"movieSeriePlaylist\",\"xdProInstances\"])),{},{showTooltips:function(){return this.settings.showTooltips},canDownload:function(){return this.xdProInstances&&this.xdProInstances.length>0},tmdbSeries:function(){return this.series.filter((function(e){return e.tmdb_id}))},filteredSeries:function(){var e=this;if(null===this.search)return this.tmdbSeries;var t=new RegExp(this.search,\"i\");return this.tmdbSeries.filter((function(s){return String(s.tmdb.name).match(t)||String(s.tmdb.original_name).match(t)||String(s.tmdb_id).match(t)||String(s.tmdb.overview).match(t)||e.formatDate(s.tmdb.release_date).match(t)}))},filteredCast:function(){return this.viewerCredits.filter((function(e){return e.profile_path&&e.profile_path.length})).slice(0,8)},filteredSimilar:function(){return this.viewerSimilar.slice(0,6)},filteredVideos:function(){return this.viewerVideos.slice(0,2)},seasonsInSeries:function(){var e=0;return this.viewerEpisodes.map((function(t){t.serie_season>e&&(e=t.serie_season)})),e},perPage:function(){return this.settings.perPage},pagedSeries:function(){return this.total=this.filteredSeries.length,this.from=(this.currentPage-1)*this.perPage||0,this.to=this.from+this.perPage>this.total?this.total:this.from+this.perPage,this.filteredSeries.slice(this.from,this.to)},xdProInstanceItems:function(){return this.xdProInstances.map((function(e){return{text:e.name,value:e.id}}))}}),methods:Object(n[\"a\"])(Object(n[\"a\"])({},Object(c[\"b\"])([\"updateTMDBGenres\",\"addxdProDownload\"])),{},{closeViewer:function(){this.viewer=!1},viewDetails:function(e){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.viewerCredits=[],this.viewerKeywords=[],this.viewerSimilar=[],this.viewerVideos=[],this.viewerEpisodes=[],this.viewerSeries=e,this.viewerGroup=\"\",this.viewerPlaylist=\"\",this.loadSeriesDetails(),this.viewer=!0},allProgress:function(e,t){var s=0;t(0);var r,a=Object(o[\"a\"])(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.then((function(){s++,t(100*s/e.length)}))}}catch(n){a.e(n)}finally{a.f()}return Promise.all(e)},loadSeries:function(e){var t=this;this.movieSeriePlaylist&&(null!=e&&e.length?(this.isLoading=!0,this.isLoading=!0,d[\"a\"].get(\"serie/search/\".concat(this.movieSeriePlaylist,\"/\").concat(encodeURI(e))).then((function(e){if(!0===e.status){var s=Object(i[\"a\"])(e.data);s.sort((function(e,t){return new Date(t.tmdb.first_air_date)-new Date(e.tmdb.first_air_date)})),t.series=s}t.isLoading=!1}))):this.series=[])},loadSeriesDetails:function(){var e=this;this.isLoading=!0,this.loadingText=\"\",d[\"a\"].get(\"serie/details/\".concat(this.movieSeriePlaylist,\"/\").concat(this.viewerSeries.tmdb_id)).then((function(t){e.isLoading=!1,!0===t.status&&(e.viewerCredits=t.data.credits.cast,e.viewerKeywords=t.data.keywords,e.viewerSimilar=t.data.similar,e.viewerVideos=t.data.videos,e.viewerGroup=t.data.group,e.viewerPlaylist=t.data.playlist,e.viewerEpisodes=t.data.episodes)})).catch((function(){e.isLoading=!1}))},pagePrint:function(){document.getElementById(\"series\").print()},searchSeries:function(e){0===e.length?this.search=null:this.search=e},formatDate:function(e){return new Date(e).toLocaleDateString(this.$t(\"date.locale\"),{year:\"numeric\",month:\"long\",day:\"numeric\"})},formatSeconds:function(e){var t=Number(e),s=Math.floor(t/3600),r=Math.floor(t%3600/60),a=Math.floor(t%3600%60),i=this.$t(\"general.hour\"),o=this.$t(\"general.hours\"),n=this.$t(\"general.minute\"),l=this.$t(\"general.minutes\"),d=this.$t(\"general.second\"),c=this.$t(\"general.seconds\"),u=s>0?s+\" \".concat(1==s?i:o,\" \"):\"\",m=r>0?r+\" \".concat(1==r?n:l,\" \"):\"\",p=a>0?a+\" \".concat(1==a?d:c,\" \"):\"\";return u+m+p},downloadEpisode:function(e){var t=document.createElement(\"a\");t.href=e,t.target=\"_blank\",t.click()},episodesInSeason:function(e){return this.viewerEpisodes.filter((function(t){return t.serie_season===e}))},episodeURL:function(e){return e.source_stream_url&&e.source_stream_url.length?e.source_stream_url:e.xtream_url},episodeVideoType:function(e){return\"mkv\"==e.source_container_extension.toLowerCase()?\"video/webm\":\"video/mp4\"},formatDownloadFolder:function(e){return\"/\"==this.xdPro.download_folder.slice(-1)?\"\".concat(this.xdPro.download_folder).concat(e):\"\".concat(this.xdPro.download_folder,\"/\").concat(e)},downloadModal:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&(this.xdPro.downloads.length=0),s){var r=[];this.xdPro.downloads.map((function(e){var s=t.viewerEpisodes[e],a=new Date(t.viewerSeries.tmdb.first_air_date).getFullYear(),i={user_id:t.currentUser.user.id,xdpro_id:t.xdPro.xdpro_id,filename:\"\".concat(t.viewerSeries.tmdb.original_name,\" (\").concat(a,\") S\").concat(String(s.serie_season).padStart(2,\"0\"),\"E\").concat(String(s.serie_episode).padStart(2,\"0\"),\".\").concat(s.source_container_extension),file_extension:s.source_container_extension,type:2,enabled:0,download_folder:t.formatDownloadFolder(\"\".concat(t.viewerSeries.tmdb.original_name,\" (\").concat(a,\")/Season \").concat(s.serie_season,\"/\"))};if(s.source_stream_url&&s.source_stream_url.length)i.download_url=s.source_stream_url,i.download_host=\"\",i.download_port=\"\",i.download_username=\"\",i.download_password=\"\";else{i.download_url=s.xtream_url;var o=new URL(s.xtream_url);i.download_host=o.hostname,i.download_port=o.port;var n=o.pathname.split(\"/\");i.download_username=n[2],i.download_password=n[3]}r.push(i)})),this.addxdProDownload(r).then((function(e){!0===e.status&&t.$notify(\"primary\",t.$t(\"profile.success\"),t.$t(\"xd-pro.download-save-success\"),\"la-user-shield\",{duration:5e3,permanent:!1})})).catch((function(){t.$notify(\"error\",t.$t(\"profile.failed\"),t.$t(\"xd-pro.download-save-error\"),\"la-user-shield\",{duration:5e3,permanent:!1})}))}this.xdPro.modal=e},toggleDownloadsSelection:function(e){var t=this.xdPro.downloads.indexOf(e);-1!==t?this.xdPro.downloads.splice(t,1):this.xdPro.downloads.push(e)},selectDownloadsRangeSelection:function(e){for(var t=this.xdPro.downloads[this.xdPro.downloads.length-1],s=e>t?1:-1,r=t;r!=e+s;r+=s)this.xdPro.downloads.includes(r)||this.xdPro.downloads.push(r)},selectDownloadsSelection:function(e){this.xdPro.downloads.length=0,this.xdPro.downloads.push(e)}}),beforeMount:function(){l[\"a\"].$on(\"print\",this.pagePrint),l[\"a\"].$on(\"search\",this.searchSeries),l[\"a\"].$on(\"close-viewer\",this.closeViewer)},beforeDestroy:function(){l[\"a\"].$off(\"print\",this.pagePrint),l[\"a\"].$off(\"search\",this.searchSeries),l[\"a\"].$off(\"close-viewer\",this.closeViewer)},watch:{viewer:function(e){l[\"a\"].$emit(\"update-viewer\",e)},from:function(e){l[\"a\"].$emit(\"update-from\",e),document.body.scrollTop=0,document.documentElement.scrollTop=0},to:function(e){l[\"a\"].$emit(\"update-to\",e)},total:function(e){l[\"a\"].$emit(\"update-total\",e)},serieSearch:function(e){var t=this;clearTimeout(this.bounce),this.bounce=setTimeout((function(){t.loadSeries(e)}),500)},\"xdPro.xdpro_id\":function(e){var t=this.xdProInstances.find((function(t){return t.id==e}));t&&(this.xdPro.download_folder=t.download_folder)}}},m=u,p=(s(\"7800\"),s(\"2877\")),h=Object(p[\"a\"])(m,r,a,!1,null,\"68db81d2\",null);t[\"default\"]=h.exports},\"9a0c\":function(e,t,s){var r=s(\"342f\");e.exports=/Version\\/10(?:\\.\\d+){1,2}(?: [\\w./]+)?(?: Mobile\\/\\w+)? Safari\\//.test(r)},b3f2:function(e,t,s){},b481:function(e,t,s){},b85c:function(e,t,s){\"use strict\";s.d(t,\"a\",(function(){return a}));s(\"a4d3\"),s(\"e01a\"),s(\"d3b7\"),s(\"d28b\"),s(\"3ca3\"),s(\"ddb0\");var r=s(\"06c5\");function a(e,t){var s=\"undefined\"!==typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!s){if(Array.isArray(e)||(s=Object(r[\"a\"])(e))||t&&e&&\"number\"===typeof e.length){s&&(e=s);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,n=!0,l=!1;return{s:function(){s=s.call(e)},n:function(){var e=s.next();return n=e.done,e},e:function(e){l=!0,o=e},f:function(){try{n||null==s[\"return\"]||s[\"return\"]()}finally{if(l)throw o}}}}},c016:function(e,t,s){},d06e:function(e,t,s){\"use strict\";s(\"b3f2\")},ed3b:function(e,t,s){\"use strict\";s(\"624d\")}}]);","extractedComments":[]}