{"version":3,"sources":["webpack:///./src/views/app/tickets/closed.vue?4f9c","webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./src/views/app/tickets/answered.vue?aea9","webpack:///src/views/app/tickets/answered.vue","webpack:///./src/views/app/tickets/answered.vue?a20f","webpack:///./src/views/app/tickets/answered.vue","webpack:///./src/views/app/tickets/open.vue?9200","webpack:///src/views/app/tickets/open.vue","webpack:///./src/views/app/tickets/open.vue?c17e","webpack:///./src/views/app/tickets/open.vue","webpack:///./node_modules/core-js/modules/es.regexp.constructor.js","webpack:///./src/views/app/tickets/open.vue?6a8d","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./src/views/app/tickets/closed.vue?a862","webpack:///src/views/app/tickets/closed.vue","webpack:///./src/views/app/tickets/closed.vue?cc99","webpack:///./src/views/app/tickets/closed.vue","webpack:///./node_modules/core-js/modules/es.string.search.js","webpack:///./src/views/app/tickets/answered.vue?39cd","webpack:///./src/views/app/tickets/archived.vue?48cd","webpack:///./src/views/app/tickets/archived.vue?9cd2","webpack:///src/views/app/tickets/archived.vue","webpack:///./src/views/app/tickets/archived.vue?46ef","webpack:///./src/views/app/tickets/archived.vue","webpack:///./src/views/app/tickets/index.vue?e6f1","webpack:///src/views/app/tickets/index.vue","webpack:///./src/views/app/tickets/index.vue?f442","webpack:///./src/views/app/tickets/index.vue","webpack:///./src/views/app/tickets/index.vue?ad00"],"names":["module","exports","Object","is","x","y","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_e","editor","paged","fields","scopedSlots","_u","key","fn","row","name","params","id","item","user_id","_v","_s","priorityVariant","priority","$t","formatDate","created","last_updated","_l","tag","index","languages","lang","on","$event","replyTicket","closeTicket","deleteTicket","total","perPage","proxy","model","value","callback","$$v","currentPage","expression","priorities","editorTicket","$set","departements","editorMessage","conversation","class","user","icon","title","roleVariant","role","date","domProps","message","staticRenderFns","data","search","isLoading","from","to","tickets","computed","settings","searchFiltered","re","RegExp","filter","length","slice","userTitle","currentUser","profile","methods","Date","toLocaleString","loadTickets","http","assign","ticket","cancelTicket","saveTicket","ticket_status","unshift","searchTicket","printTickets","document","getElementById","print","beforeMount","beforeDestroy","watch","component","DESCRIPTORS","global","isForced","inheritIfRequired","defineProperty","f","getOwnPropertyNames","isRegExp","getFlags","stickyHelpers","redefine","fails","enforceInternalState","enforce","setSpecies","wellKnownSymbol","MATCH","NativeRegExp","RegExpPrototype","prototype","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","FORCED","RegExpWrapper","pattern","flags","sticky","thisIsRegExp","patternIsRegExp","flagsAreUndefined","undefined","constructor","source","call","indexOf","replace","result","state","configurable","get","set","it","keys","isObject","setPrototypeOf","$this","dummy","Wrapper","NewTarget","NewTargetPrototype","fixRegExpWellKnownSymbolLogic","anObject","requireObjectCoercible","sameValue","regExpExec","SEARCH","nativeSearch","maybeCallNative","regexp","O","searcher","String","res","done","rx","S","previousLastIndex","lastIndex","breadcrumb","heading","doSave","doCancel","doRefresh","format","$route","matched","map","push","text","path","br","updateFrom","updateTo","updateTotal","updateEditor"],"mappings":"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","file":"assets/js/tickets.f2e49f19.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./closed.vue?vue&type=style&index=0&id=9490d414&lang=scss&scoped=true&\"","// `SameValue` abstract operation\n// https://tc39.es/ecma262/#sec-samevalue\n// eslint-disable-next-line es/no-object-is -- safe\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('erd-row',{staticClass:\"m-0 p-0\"},[(_vm.isLoading)?_c('erd-spinner',{attrs:{\"size\":\"lg\",\"overlay\":\"\",\"absolute\":\"\"}}):_vm._e(),(!_vm.editor)?_c('erd-col',{attrs:{\"xl\":\"12\",\"id\":\"answered-tickets\"}},[_c('b-table',{attrs:{\"items\":_vm.paged,\"fields\":_vm.fields,\"striped\":\"\",\"small\":\"\"},scopedSlots:_vm._u([{key:\"cell(user_id)\",fn:function(row){return [_c('router-link',{attrs:{\"to\":{\n            name: 'users',\n            params: { editor: true, id: row.item.user_id },\n          }}},[_vm._v(_vm._s(row.item.user_id))])]}},{key:\"cell(priority)\",fn:function(row){return [_c('erd-badge',{attrs:{\"variant\":_vm.priorityVariant(row.item.priority)}},[_vm._v(_vm._s(_vm.$t((\"priority.\" + (row.item.priority)))))])]}},{key:\"cell(departement)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.$t((\"departement.\" + (row.item.departement))))+\" \")]}},{key:\"cell(created)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.formatDate(row.item.created))+\" \")]}},{key:\"cell(last_updated)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.formatDate(row.item.last_updated))+\" \")]}},{key:\"cell(tags)\",fn:function(row){return _vm._l((row.item.tags),function(tag,index){return _c('erd-badge',{key:(\"tag-\" + (row.item.id) + \"-\" + index)},[_vm._v(_vm._s(tag))])})}},{key:\"cell(lang)\",fn:function(row){return [_c('span',{staticClass:\"text-capitalize\"},[_vm._v(_vm._s(_vm.languages[row.item.lang].name))])]}},{key:\"cell(actions)\",fn:function(row){return [_c('erd-button',{staticClass:\"btn-table\",attrs:{\"variant\":\"info\"},on:{\"click\":function($event){return _vm.replyTicket(row.item)}}},[_c('i',{staticClass:\"las la-reply\"})]),_c('erd-button',{staticClass:\"btn-table\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.closeTicket(row.item.id)}}},[_c('i',{staticClass:\"las la-times\"})]),_c('erd-button',{staticClass:\"btn-table\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteTicket(row.item.id)}}},[_c('i',{staticClass:\"las la-trash\"})])]}}],null,false,2498508787)}),_c('b-pagination',{staticClass:\"w-100 my-3\",attrs:{\"size\":\"sm\",\"align\":\"center\",\"total-rows\":_vm.total,\"per-page\":_vm.perPage},scopedSlots:_vm._u([{key:\"next-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-right\"})]},proxy:true},{key:\"prev-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-left\"})]},proxy:true},{key:\"first-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-double-left\"})]},proxy:true},{key:\"last-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-double-right\"})]},proxy:true}],null,false,1414363887),model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1):_vm._e(),(_vm.editor)?_c('erd-row',{staticClass:\"m-0 p-0\"},[_c('erd-col',{attrs:{\"xl\":\"3\",\"lg\":\"4\",\"md\":\"5\"}},[_c('label',{attrs:{\"for\":\"priority\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.priority\")))]),_c('erd-select',{staticClass:\"w-100 mb-2\",attrs:{\"items\":_vm.priorities,\"id\":\"priority\"},model:{value:(_vm.editorTicket.priority),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"priority\", $$v)},expression:\"editorTicket.priority\"}}),_c('label',{attrs:{\"for\":\"departement\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.departement\")))]),_c('erd-select',{staticClass:\"w-100 mb-2\",attrs:{\"items\":_vm.departements,\"id\":\"departement\"},model:{value:(_vm.editorTicket.departement),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"departement\", $$v)},expression:\"editorTicket.departement\"}}),_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.tags\")))]),_c('erd-tag-input',{staticClass:\"mb-2 w-100\",model:{value:(_vm.editorTicket.tags),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"tags\", $$v)},expression:\"editorTicket.tags\"}}),_c('label',[_vm._v(_vm._s(_vm.$t(\"tickets.notes\")))]),_c('erd-textarea',{staticClass:\"mb-2 w-100\",model:{value:(_vm.editorTicket.notes),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"notes\", $$v)},expression:\"editorTicket.notes\"}})],1),_c('erd-col',{attrs:{\"xl\":\"9\",\"lg\":\"8\",\"md\":\"7\"}},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.title\")))]),_c('erd-input',{staticClass:\"w-100 mb-2\",attrs:{\"id\":\"title\"},model:{value:(_vm.editorTicket.title),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"title\", $$v)},expression:\"editorTicket.title\"}}),_c('label',[_vm._v(_vm._s(_vm.$t(\"tickets.message\")))]),_c('wysiwyg',{staticClass:\"mb-2\",model:{value:(_vm.editorMessage),callback:function ($$v) {_vm.editorMessage=$$v},expression:\"editorMessage\"}})],1)],1):_vm._e(),(_vm.editor)?_c('erd-row',{staticClass:\"m-0 p-0\"},[_c('erd-col',{staticClass:\"mt-0\",attrs:{\"xl\":\"12\",\"sm\":\"12\"}},_vm._l((_vm.editorTicket.conversation),function(conversation,index){return _c('div',{key:(\"conversation-\" + index),staticClass:\"ticket-conversation reader\",attrs:{\"id\":\"ticket\"}},[_c('div',{staticClass:\"ticket-title\"},[_c('span',{staticClass:\"sender\"},[_c('i',{staticClass:\"las la-2x\",class:conversation.user.icon}),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(conversation.user.title))]),_c('erd-badge',{staticClass:\"ml-2 pb-1\",attrs:{\"variant\":_vm.roleVariant(conversation.user.role)}},[_vm._v(_vm._s(_vm.$t((\"roles.\" + (conversation.user.role)))))])],1),_c('span',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.formatDate(conversation.date)))])]),_c('div',{staticClass:\"ticket-body\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(conversation.message)}})])])}),0)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <erd-row class=\"m-0 p-0\">\n    <erd-spinner v-if=\"isLoading\" size=\"lg\" overlay absolute></erd-spinner>\n    <erd-col xl=\"12\" id=\"answered-tickets\" v-if=\"!editor\">\n      <b-table :items=\"paged\" :fields=\"fields\" striped small>\n        <template v-slot:cell(user_id)=\"row\">\n          <router-link\n            :to=\"{\n              name: 'users',\n              params: { editor: true, id: row.item.user_id },\n            }\"\n            >{{ row.item.user_id }}</router-link\n          >\n        </template>\n        <template v-slot:cell(priority)=\"row\">\n          <erd-badge :variant=\"priorityVariant(row.item.priority)\">{{\n            $t(`priority.${row.item.priority}`)\n          }}</erd-badge>\n        </template>\n        <template v-slot:cell(departement)=\"row\">\n          {{ $t(`departement.${row.item.departement}`) }}\n        </template>\n        <template v-slot:cell(created)=\"row\">\n          {{ formatDate(row.item.created) }}\n        </template>\n        <template v-slot:cell(last_updated)=\"row\">\n          {{ formatDate(row.item.last_updated) }}\n        </template>\n        <template v-slot:cell(tags)=\"row\">\n          <erd-badge\n            v-for=\"(tag, index) in row.item.tags\"\n            :key=\"`tag-${row.item.id}-${index}`\"\n            >{{ tag }}</erd-badge\n          >\n        </template>\n        <template v-slot:cell(lang)=\"row\">\n          <span class=\"text-capitalize\">{{\n            languages[row.item.lang].name\n          }}</span>\n        </template>\n        <template v-slot:cell(actions)=\"row\">\n          <erd-button\n            variant=\"info\"\n            class=\"btn-table\"\n            @click=\"replyTicket(row.item)\"\n            ><i class=\"las la-reply\"></i\n          ></erd-button>\n          <erd-button\n            variant=\"primary\"\n            class=\"btn-table\"\n            @click=\"closeTicket(row.item.id)\"\n            ><i class=\"las la-times\"></i\n          ></erd-button>\n          <erd-button\n            variant=\"danger\"\n            class=\"btn-table\"\n            @click=\"deleteTicket(row.item.id)\"\n            ><i class=\"las la-trash\"></i\n          ></erd-button>\n        </template>\n      </b-table>\n      <b-pagination\n        class=\"w-100 my-3\"\n        size=\"sm\"\n        align=\"center\"\n        :total-rows=\"total\"\n        :per-page=\"perPage\"\n        v-model=\"currentPage\"\n      >\n        <template v-slot:next-text>\n          <i class=\"las la-angle-right\" />\n        </template>\n        <template v-slot:prev-text>\n          <i class=\"las la-angle-left\" />\n        </template>\n        <template v-slot:first-text>\n          <i class=\"las la-angle-double-left\" />\n        </template>\n        <template v-slot:last-text>\n          <i class=\"las la-angle-double-right\" />\n        </template>\n      </b-pagination>\n    </erd-col>\n    <erd-row v-if=\"editor\" class=\"m-0 p-0\">\n      <erd-col xl=\"3\" lg=\"4\" md=\"5\">\n        <label for=\"priority\">{{ $t(\"tickets.priority\") }}</label>\n        <erd-select\n          :items=\"priorities\"\n          v-model=\"editorTicket.priority\"\n          class=\"w-100 mb-2\"\n          id=\"priority\"\n        ></erd-select>\n        <label for=\"departement\">{{ $t(\"tickets.departement\") }}</label>\n        <erd-select\n          :items=\"departements\"\n          v-model=\"editorTicket.departement\"\n          class=\"w-100 mb-2\"\n          id=\"departement\"\n        ></erd-select>\n        <label for=\"title\">{{ $t(\"tickets.tags\") }}</label>\n        <erd-tag-input\n          class=\"mb-2 w-100\"\n          v-model=\"editorTicket.tags\"\n        ></erd-tag-input>\n        <label>{{ $t(\"tickets.notes\") }}</label>\n        <erd-textarea\n          class=\"mb-2 w-100\"\n          v-model=\"editorTicket.notes\"\n        ></erd-textarea>\n      </erd-col>\n      <erd-col xl=\"9\" lg=\"8\" md=\"7\">\n        <label for=\"title\">{{ $t(\"tickets.title\") }}</label>\n        <erd-input\n          v-model=\"editorTicket.title\"\n          class=\"w-100 mb-2\"\n          id=\"title\"\n        ></erd-input>\n        <label>{{ $t(\"tickets.message\") }}</label>\n        <wysiwyg class=\"mb-2\" v-model=\"editorMessage\" />\n      </erd-col>\n    </erd-row>\n    <erd-row class=\"m-0 p-0\" v-if=\"editor\">\n      <erd-col xl=\"12\" sm=\"12\" class=\"mt-0\">\n        <div\n          class=\"ticket-conversation reader\"\n          v-for=\"(conversation, index) in editorTicket.conversation\"\n          :key=\"`conversation-${index}`\"\n          id=\"ticket\"\n        >\n          <div class=\"ticket-title\">\n            <span class=\"sender\">\n              <i class=\"las la-2x\" :class=\"conversation.user.icon\"></i>\n              <span class=\"font-weight-bold\">{{\n                conversation.user.title\n              }}</span>\n              <erd-badge\n                :variant=\"roleVariant(conversation.user.role)\"\n                class=\"ml-2 pb-1\"\n                >{{ $t(`roles.${conversation.user.role}`) }}</erd-badge\n              >\n            </span>\n            <span class=\"date\">{{ formatDate(conversation.date) }}</span>\n          </div>\n          <div class=\"ticket-body\">\n            <div v-html=\"conversation.message\"></div>\n          </div>\n        </div>\n      </erd-col>\n    </erd-row>\n  </erd-row>\n</template>\n\n<script>\n/* eslint-disable vue/no-side-effects-in-computed-properties */\nimport { EventBus } from \"../../../services/ebus\";\nimport { httpService } from \"../../../services/http\";\nimport { mapGetters } from \"vuex\";\nimport { languages } from \"../../../helpers\";\n\nexport default {\n  data() {\n    return {\n      search: null,\n      isLoading: false,\n      from: 0,\n      to: 0,\n      total: 0,\n      currentPage: 1,\n      editor: false,\n      editorTicket: null,\n      editorMessage: \"\",\n      tickets: [],\n      languages,\n      fields: [\n        { key: \"user_id\", label: this.$t(\"users.id\"), sortable: true },\n        { key: \"priority\", label: this.$t(\"tickets.priority\"), sortable: true },\n        {\n          key: \"departement\",\n          label: this.$t(\"tickets.departement\"),\n          sortable: true,\n        },\n        { key: \"title\", label: this.$t(\"tickets.title\"), sortable: true },\n        { key: \"created\", label: this.$t(\"users.created\"), sortable: true },\n        {\n          key: \"last_updated\",\n          label: this.$t(\"users.last-updated\"),\n          sortable: true,\n        },\n        { key: \"notes\", label: this.$t(\"tickets.notes\"), sortable: true },\n        { key: \"tags\", label: this.$t(\"tickets.tags\"), sortable: true },\n        { key: \"lang\", label: this.$t(\"tickets.lang\"), sortable: true },\n        {\n          key: \"actions\",\n          label: this.$t(\"users.actions\"),\n          sortable: false,\n          thClass: \"text-right\",\n          tdClass: \"text-right\",\n        },\n      ],\n      priorities: [\n        { text: this.$t(\"priority.0\"), value: 0 },\n        { text: this.$t(\"priority.1\"), value: 1 },\n        { text: this.$t(\"priority.2\"), value: 2 },\n        { text: this.$t(\"priority.3\"), value: 3 },\n      ],\n      departements: [\n        { text: this.$t(\"departement.0\"), value: 0 },\n        { text: this.$t(\"departement.1\"), value: 1 },\n        { text: this.$t(\"departement.2\"), value: 2 },\n        { text: this.$t(\"departement.3\"), value: 3 },\n        { text: this.$t(\"departement.4\"), value: 4 },\n        { text: this.$t(\"departement.5\"), value: 5 },\n      ],\n    };\n  },\n  computed: {\n    ...mapGetters([\"currentUser\", \"settings\"]),\n    perPage() {\n      return this.settings.perPage;\n    },\n    searchFiltered() {\n      if (this.search === null) {\n        return this.tickets;\n      } else {\n        var re = new RegExp(this.search, \"i\");\n        return this.tickets.filter((ticket) => {\n          return (\n            String(ticket.user_id).match(re) ||\n            String(ticket.title).match(re) ||\n            this.formatDate(ticket.created).match(re) ||\n            this.formatDate(ticket.last_updated).match(re) ||\n            JSON.stringify(ticket.conversation).match(re) ||\n            String(ticket.attachments).match(re) ||\n            String(ticket.notes).match(re) ||\n            JSON.stringify(ticket.tags).match(re) ||\n            this.$t(`priority.${ticket.priority}`).match(re) ||\n            this.$t(`departement.${ticket.departement}`).match(re)\n          );\n        });\n      }\n    },\n    paged() {\n      this.total = this.searchFiltered.length;\n      this.from = (this.currentPage - 1) * this.perPage;\n      this.to =\n        this.from + this.perPage > this.total\n          ? this.total\n          : this.from + this.perPage;\n      return this.searchFiltered.slice(this.from, this.to);\n    },\n    userTitle() {\n      return this.currentUser.profile &&\n        this.currentUser.profile.name_first.length > 0 &&\n        this.currentUser.profile.name_last.length > 0\n        ? `${this.currentUser.profile.name_first} ${this.currentUser.profile.name_last}`\n        : this.currentUser.user.username;\n    },\n  },\n  methods: {\n    formatDate(date) {\n      return new Date(date).toLocaleString(\n        this.$t(\"date.locale\"),\n        this.dateOptions\n      );\n    },\n    priorityVariant(priority) {\n      switch (priority) {\n        case 0:\n          return \"success\";\n        case 1:\n          return \"info\";\n        case 2:\n          return \"warning\";\n        case 3:\n          return \"danger\";\n      }\n    },\n    roleVariant(role) {\n      switch (role) {\n        case 1:\n        case 1985:\n          return \"danger\";\n\n        case 2:\n        case 4:\n        case 5:\n          return \"info\";\n\n        case 3:\n          return \"primary\";\n      }\n    },\n    loadTickets() {\n      this.isLoading = true;\n      httpService\n        .get(\"administration/tickets/1\")\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.tickets = res.data;\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"tickets.load-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    deleteTicket(id) {\n      httpService\n        .post(\"administration/ticket/delete\", { id: id })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.$notify(\n              \"primary\",\n              this.$t(\"profile.success\"),\n              this.$t(\"tickets.delete-success\"),\n              \"la-user-shield\",\n              { duration: 5000, permanent: false }\n            );\n            this.loadTickets();\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"tickets.delete-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    closeTicket(id) {\n      httpService\n        .post(\"administration/ticket/close\", { id: id })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.$notify(\n              \"primary\",\n              this.$t(\"profile.success\"),\n              this.$t(\"tickets.save-success\"),\n              \"la-user-shield\",\n              { duration: 5000, permanent: false }\n            );\n            this.loadTickets();\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"tickets.save-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    replyTicket(ticket) {\n      this.editorTicket = Object.assign({}, ticket);\n      this.editorMessage = \"\";\n      this.editor = true;\n    },\n    cancelTicket() {\n      this.editor = false;\n    },\n    saveTicket() {\n      let ticket = Object.assign({}, this.editorTicket);\n      delete ticket.id;\n      ticket.ticket_status = 1;\n      ticket.last_updated = new Date();\n\n      if (this.editorMessage.length) {\n        ticket.conversation.unshift({\n          date: new Date(),\n          message: this.editorMessage,\n          user: {\n            icon: \"la-user-tie\",\n            role: this.currentUser.user.role,\n            title: this.userTitle,\n          },\n        });\n      }\n\n      let id = this.editorTicket.id;\n\n      httpService\n        .post(\"administration/ticket/update\", {\n          id: id,\n          ticket: ticket,\n        })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.$notify(\n              \"primary\",\n              this.$t(\"profile.success\"),\n              this.$t(\"tickets.save-success\"),\n              \"la-user-shield\",\n              { duration: 5000, permanent: false }\n            );\n            this.editor = false;\n            this.loadTickets();\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"tickets.save-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    searchTicket(search) {\n      if (search.length === 0) {\n        this.search = null;\n      } else {\n        this.search = search;\n      }\n    },\n    printTickets() {\n      if (this.editor) {\n        document.getElementById(\"ticket\").print();\n      } else {\n        document.getElementById(\"answered-tickets\").print();\n      }\n    },\n  },\n  beforeMount() {\n    this.loadTickets();\n    EventBus.$on(\"refresh\", this.loadTickets);\n    EventBus.$on(\"search\", this.searchTicket);\n    EventBus.$on(\"print\", this.printTickets);\n    EventBus.$on(\"save\", this.saveTicket);\n    EventBus.$on(\"cancel\", this.cancelTicket);\n  },\n  beforeDestroy() {\n    EventBus.$off(\"refresh\", this.loadTickets);\n    EventBus.$off(\"search\", this.searchTicket);\n    EventBus.$off(\"print\", this.printTickets);\n    EventBus.$off(\"save\", this.saveTicket);\n    EventBus.$off(\"cancel\", this.cancelTicket);\n  },\n  watch: {\n    from: function (val) {\n      EventBus.$emit(\"update-from\", val);\n    },\n    to: function (val) {\n      EventBus.$emit(\"update-to\", val);\n    },\n    total: function (val) {\n      EventBus.$emit(\"update-total\", val);\n    },\n    editor: function (val) {\n      EventBus.$emit(\"update-editor\", val);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.ticket-conversation {\n  background-color: $background-color;\n  border-radius: 10px;\n  padding: 1rem 1rem;\n  border: 1px solid $separator-color;\n  margin-bottom: 0.5rem;\n\n  img {\n    max-width: 50%;\n    max-height: 50%;\n  }\n\n  .ticket-title {\n    display: flex;\n    justify-content: space-between;\n    line-height: 30px;\n  }\n\n  .ticket-body {\n    margin-top: 1rem;\n  }\n\n  &.reader {\n    background-color: $foreground-color;\n    margin-bottom: 0;\n    margin-top: 0.5rem;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./answered.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./answered.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./answered.vue?vue&type=template&id=6b24bf0b&scoped=true&\"\nimport script from \"./answered.vue?vue&type=script&lang=js&\"\nexport * from \"./answered.vue?vue&type=script&lang=js&\"\nimport style0 from \"./answered.vue?vue&type=style&index=0&id=6b24bf0b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b24bf0b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('erd-row',{staticClass:\"m-0 p-0\"},[(_vm.isLoading)?_c('erd-spinner',{attrs:{\"size\":\"lg\",\"overlay\":\"\",\"absolute\":\"\"}}):_vm._e(),(!_vm.editor)?_c('erd-col',{attrs:{\"xl\":\"12\",\"id\":\"open-tickets\"}},[_c('b-table',{attrs:{\"items\":_vm.paged,\"fields\":_vm.fields,\"striped\":\"\",\"small\":\"\"},scopedSlots:_vm._u([{key:\"cell(user_id)\",fn:function(row){return [_c('router-link',{attrs:{\"to\":{\n            name: 'users',\n            params: { editor: true, id: row.item.user_id },\n          }}},[_vm._v(_vm._s(row.item.user_id))])]}},{key:\"cell(priority)\",fn:function(row){return [_c('erd-badge',{attrs:{\"variant\":_vm.priorityVariant(row.item.priority)}},[_vm._v(_vm._s(_vm.$t((\"priority.\" + (row.item.priority)))))])]}},{key:\"cell(departement)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.$t((\"departement.\" + (row.item.departement))))+\" \")]}},{key:\"cell(created)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.formatDate(row.item.created))+\" \")]}},{key:\"cell(last_updated)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.formatDate(row.item.last_updated))+\" \")]}},{key:\"cell(tags)\",fn:function(row){return _vm._l((row.item.tags),function(tag,index){return _c('erd-badge',{key:(\"tag-\" + (row.item.id) + \"-\" + index)},[_vm._v(_vm._s(tag))])})}},{key:\"cell(lang)\",fn:function(row){return [_c('span',{staticClass:\"text-capitalize\"},[_vm._v(_vm._s(_vm.languages[row.item.lang].name))])]}},{key:\"cell(actions)\",fn:function(row){return [_c('erd-button',{staticClass:\"btn-table\",attrs:{\"variant\":\"info\"},on:{\"click\":function($event){return _vm.replyTicket(row.item)}}},[_c('i',{staticClass:\"las la-reply\"})]),_c('erd-button',{staticClass:\"btn-table\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.closeTicket(row.item.id)}}},[_c('i',{staticClass:\"las la-times\"})]),_c('erd-button',{staticClass:\"btn-table\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteTicket(row.item.id)}}},[_c('i',{staticClass:\"las la-trash\"})])]}}],null,false,2498508787)}),_c('b-pagination',{staticClass:\"w-100 my-3\",attrs:{\"size\":\"sm\",\"align\":\"center\",\"total-rows\":_vm.total,\"per-page\":_vm.perPage},scopedSlots:_vm._u([{key:\"next-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-right\"})]},proxy:true},{key:\"prev-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-left\"})]},proxy:true},{key:\"first-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-double-left\"})]},proxy:true},{key:\"last-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-double-right\"})]},proxy:true}],null,false,1414363887),model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1):_vm._e(),(_vm.editor)?_c('erd-row',{staticClass:\"m-0 p-0\"},[_c('erd-col',{attrs:{\"xl\":\"3\",\"lg\":\"4\",\"md\":\"5\"}},[_c('label',{attrs:{\"for\":\"priority\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.priority\")))]),_c('erd-select',{staticClass:\"w-100 mb-2\",attrs:{\"items\":_vm.priorities,\"id\":\"priority\"},model:{value:(_vm.editorTicket.priority),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"priority\", $$v)},expression:\"editorTicket.priority\"}}),_c('label',{attrs:{\"for\":\"departement\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.departement\")))]),_c('erd-select',{staticClass:\"w-100 mb-2\",attrs:{\"items\":_vm.departements,\"id\":\"departement\"},model:{value:(_vm.editorTicket.departement),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"departement\", $$v)},expression:\"editorTicket.departement\"}}),_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.tags\")))]),_c('erd-tag-input',{staticClass:\"mb-2 w-100\",model:{value:(_vm.editorTicket.tags),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"tags\", $$v)},expression:\"editorTicket.tags\"}}),_c('label',[_vm._v(_vm._s(_vm.$t(\"tickets.notes\")))]),_c('erd-textarea',{staticClass:\"mb-2 w-100\",model:{value:(_vm.editorTicket.notes),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"notes\", $$v)},expression:\"editorTicket.notes\"}})],1),_c('erd-col',{attrs:{\"xl\":\"9\",\"lg\":\"8\",\"md\":\"7\"}},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.title\")))]),_c('erd-input',{staticClass:\"w-100 mb-2\",attrs:{\"id\":\"title\"},model:{value:(_vm.editorTicket.title),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"title\", $$v)},expression:\"editorTicket.title\"}}),_c('label',[_vm._v(_vm._s(_vm.$t(\"tickets.message\")))]),_c('wysiwyg',{staticClass:\"mb-2\",model:{value:(_vm.editorMessage),callback:function ($$v) {_vm.editorMessage=$$v},expression:\"editorMessage\"}})],1)],1):_vm._e(),(_vm.editor)?_c('erd-row',{staticClass:\"m-0 p-0\"},[_c('erd-col',{staticClass:\"mt-0\",attrs:{\"xl\":\"12\",\"sm\":\"12\"}},_vm._l((_vm.editorTicket.conversation),function(conversation,index){return _c('div',{key:(\"conversation-\" + index),staticClass:\"ticket-conversation reader\",attrs:{\"id\":\"ticket\"}},[_c('div',{staticClass:\"ticket-title\"},[_c('span',{staticClass:\"sender\"},[_c('i',{staticClass:\"las la-2x\",class:conversation.user.icon}),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(conversation.user.title))]),_c('erd-badge',{staticClass:\"ml-2 pb-1\",attrs:{\"variant\":_vm.roleVariant(conversation.user.role)}},[_vm._v(_vm._s(_vm.$t((\"roles.\" + (conversation.user.role)))))])],1),_c('span',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.formatDate(conversation.date)))])]),_c('div',{staticClass:\"ticket-body\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(conversation.message)}})])])}),0)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <erd-row class=\"m-0 p-0\">\n    <erd-spinner v-if=\"isLoading\" size=\"lg\" overlay absolute></erd-spinner>\n    <erd-col xl=\"12\" id=\"open-tickets\" v-if=\"!editor\">\n      <b-table :items=\"paged\" :fields=\"fields\" striped small>\n        <template v-slot:cell(user_id)=\"row\">\n          <router-link\n            :to=\"{\n              name: 'users',\n              params: { editor: true, id: row.item.user_id },\n            }\"\n            >{{ row.item.user_id }}</router-link\n          >\n        </template>\n        <template v-slot:cell(priority)=\"row\">\n          <erd-badge :variant=\"priorityVariant(row.item.priority)\">{{\n            $t(`priority.${row.item.priority}`)\n          }}</erd-badge>\n        </template>\n        <template v-slot:cell(departement)=\"row\">\n          {{ $t(`departement.${row.item.departement}`) }}\n        </template>\n        <template v-slot:cell(created)=\"row\">\n          {{ formatDate(row.item.created) }}\n        </template>\n        <template v-slot:cell(last_updated)=\"row\">\n          {{ formatDate(row.item.last_updated) }}\n        </template>\n        <template v-slot:cell(tags)=\"row\">\n          <erd-badge\n            v-for=\"(tag, index) in row.item.tags\"\n            :key=\"`tag-${row.item.id}-${index}`\"\n            >{{ tag }}</erd-badge\n          >\n        </template>\n        <template v-slot:cell(lang)=\"row\">\n          <span class=\"text-capitalize\">{{\n            languages[row.item.lang].name\n          }}</span>\n        </template>\n        <template v-slot:cell(actions)=\"row\">\n          <erd-button\n            variant=\"info\"\n            class=\"btn-table\"\n            @click=\"replyTicket(row.item)\"\n            ><i class=\"las la-reply\"></i\n          ></erd-button>\n          <erd-button\n            variant=\"primary\"\n            class=\"btn-table\"\n            @click=\"closeTicket(row.item.id)\"\n            ><i class=\"las la-times\"></i\n          ></erd-button>\n          <erd-button\n            variant=\"danger\"\n            class=\"btn-table\"\n            @click=\"deleteTicket(row.item.id)\"\n            ><i class=\"las la-trash\"></i\n          ></erd-button>\n        </template>\n      </b-table>\n      <b-pagination\n        class=\"w-100 my-3\"\n        size=\"sm\"\n        align=\"center\"\n        :total-rows=\"total\"\n        :per-page=\"perPage\"\n        v-model=\"currentPage\"\n      >\n        <template v-slot:next-text>\n          <i class=\"las la-angle-right\" />\n        </template>\n        <template v-slot:prev-text>\n          <i class=\"las la-angle-left\" />\n        </template>\n        <template v-slot:first-text>\n          <i class=\"las la-angle-double-left\" />\n        </template>\n        <template v-slot:last-text>\n          <i class=\"las la-angle-double-right\" />\n        </template>\n      </b-pagination>\n    </erd-col>\n    <erd-row v-if=\"editor\" class=\"m-0 p-0\">\n      <erd-col xl=\"3\" lg=\"4\" md=\"5\">\n        <label for=\"priority\">{{ $t(\"tickets.priority\") }}</label>\n        <erd-select\n          :items=\"priorities\"\n          v-model=\"editorTicket.priority\"\n          class=\"w-100 mb-2\"\n          id=\"priority\"\n        ></erd-select>\n        <label for=\"departement\">{{ $t(\"tickets.departement\") }}</label>\n        <erd-select\n          :items=\"departements\"\n          v-model=\"editorTicket.departement\"\n          class=\"w-100 mb-2\"\n          id=\"departement\"\n        ></erd-select>\n        <label for=\"title\">{{ $t(\"tickets.tags\") }}</label>\n        <erd-tag-input\n          class=\"mb-2 w-100\"\n          v-model=\"editorTicket.tags\"\n        ></erd-tag-input>\n        <label>{{ $t(\"tickets.notes\") }}</label>\n        <erd-textarea\n          class=\"mb-2 w-100\"\n          v-model=\"editorTicket.notes\"\n        ></erd-textarea>\n      </erd-col>\n      <erd-col xl=\"9\" lg=\"8\" md=\"7\">\n        <label for=\"title\">{{ $t(\"tickets.title\") }}</label>\n        <erd-input\n          v-model=\"editorTicket.title\"\n          class=\"w-100 mb-2\"\n          id=\"title\"\n        ></erd-input>\n        <label>{{ $t(\"tickets.message\") }}</label>\n        <wysiwyg class=\"mb-2\" v-model=\"editorMessage\" />\n      </erd-col>\n    </erd-row>\n    <erd-row class=\"m-0 p-0\" v-if=\"editor\">\n      <erd-col xl=\"12\" sm=\"12\" class=\"mt-0\">\n        <div\n          class=\"ticket-conversation reader\"\n          v-for=\"(conversation, index) in editorTicket.conversation\"\n          :key=\"`conversation-${index}`\"\n          id=\"ticket\"\n        >\n          <div class=\"ticket-title\">\n            <span class=\"sender\">\n              <i class=\"las la-2x\" :class=\"conversation.user.icon\"></i>\n              <span class=\"font-weight-bold\">{{\n                conversation.user.title\n              }}</span>\n              <erd-badge\n                :variant=\"roleVariant(conversation.user.role)\"\n                class=\"ml-2 pb-1\"\n                >{{ $t(`roles.${conversation.user.role}`) }}</erd-badge\n              >\n            </span>\n            <span class=\"date\">{{ formatDate(conversation.date) }}</span>\n          </div>\n          <div class=\"ticket-body\">\n            <div v-html=\"conversation.message\"></div>\n          </div>\n        </div>\n      </erd-col>\n    </erd-row>\n  </erd-row>\n</template>\n\n<script>\n/* eslint-disable vue/no-side-effects-in-computed-properties */\nimport { EventBus } from \"../../../services/ebus\";\nimport { httpService } from \"../../../services/http\";\nimport { mapGetters } from \"vuex\";\nimport { languages } from \"../../../helpers\";\n\nexport default {\n  data() {\n    return {\n      search: null,\n      isLoading: false,\n      from: 0,\n      to: 0,\n      total: 0,\n      currentPage: 1,\n      editor: false,\n      editorTicket: null,\n      editorMessage: \"\",\n      tickets: [],\n      languages,\n      fields: [\n        { key: \"user_id\", label: this.$t(\"users.id\"), sortable: true },\n        { key: \"priority\", label: this.$t(\"tickets.priority\"), sortable: true },\n        {\n          key: \"departement\",\n          label: this.$t(\"tickets.departement\"),\n          sortable: true,\n        },\n        { key: \"title\", label: this.$t(\"tickets.title\"), sortable: true },\n        { key: \"created\", label: this.$t(\"users.created\"), sortable: true },\n        {\n          key: \"last_updated\",\n          label: this.$t(\"users.last-updated\"),\n          sortable: true,\n        },\n        { key: \"notes\", label: this.$t(\"tickets.notes\"), sortable: true },\n        { key: \"tags\", label: this.$t(\"tickets.tags\"), sortable: true },\n        { key: \"lang\", label: this.$t(\"tickets.lang\"), sortable: true },\n        {\n          key: \"actions\",\n          label: this.$t(\"users.actions\"),\n          sortable: false,\n          thClass: \"text-right\",\n          tdClass: \"text-right\",\n        },\n      ],\n      priorities: [\n        { text: this.$t(\"priority.0\"), value: 0 },\n        { text: this.$t(\"priority.1\"), value: 1 },\n        { text: this.$t(\"priority.2\"), value: 2 },\n        { text: this.$t(\"priority.3\"), value: 3 },\n      ],\n      departements: [\n        { text: this.$t(\"departement.0\"), value: 0 },\n        { text: this.$t(\"departement.1\"), value: 1 },\n        { text: this.$t(\"departement.2\"), value: 2 },\n        { text: this.$t(\"departement.3\"), value: 3 },\n        { text: this.$t(\"departement.4\"), value: 4 },\n        { text: this.$t(\"departement.5\"), value: 5 },\n      ],\n    };\n  },\n  computed: {\n    ...mapGetters([\"currentUser\", \"settings\"]),\n    perPage() {\n      return this.settings.perPage;\n    },\n    searchFiltered() {\n      if (this.search === null) {\n        return this.tickets;\n      } else {\n        var re = new RegExp(this.search, \"i\");\n        return this.tickets.filter((ticket) => {\n          return (\n            String(ticket.user_id).match(re) ||\n            String(ticket.title).match(re) ||\n            this.formatDate(ticket.created).match(re) ||\n            this.formatDate(ticket.last_updated).match(re) ||\n            JSON.stringify(ticket.conversation).match(re) ||\n            String(ticket.attachments).match(re) ||\n            String(ticket.notes).match(re) ||\n            JSON.stringify(ticket.tags).match(re) ||\n            this.$t(`priority.${ticket.priority}`).match(re) ||\n            this.$t(`departement.${ticket.departement}`).match(re)\n          );\n        });\n      }\n    },\n    paged() {\n      this.total = this.searchFiltered.length;\n      this.from = (this.currentPage - 1) * this.perPage;\n      this.to =\n        this.from + this.perPage > this.total\n          ? this.total\n          : this.from + this.perPage;\n      return this.searchFiltered.slice(this.from, this.to);\n    },\n    userTitle() {\n      return this.currentUser.profile &&\n        this.currentUser.profile.name_first.length > 0 &&\n        this.currentUser.profile.name_last.length > 0\n        ? `${this.currentUser.profile.name_first} ${this.currentUser.profile.name_last}`\n        : this.currentUser.user.username;\n    },\n  },\n  methods: {\n    formatDate(date) {\n      return new Date(date).toLocaleString(\n        this.$t(\"date.locale\"),\n        this.dateOptions\n      );\n    },\n    priorityVariant(priority) {\n      switch (priority) {\n        case 0:\n          return \"success\";\n        case 1:\n          return \"info\";\n        case 2:\n          return \"warning\";\n        case 3:\n          return \"danger\";\n      }\n    },\n    roleVariant(role) {\n      switch (role) {\n        case 1:\n        case 1985:\n          return \"danger\";\n\n        case 2:\n        case 4:\n        case 5:\n          return \"info\";\n\n        case 3:\n          return \"primary\";\n      }\n    },\n    loadTickets() {\n      this.isLoading = true;\n      httpService\n        .get(\"administration/tickets/0\")\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.tickets = res.data;\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"tickets.load-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    deleteTicket(id) {\n      httpService\n        .post(\"administration/ticket/delete\", { id: id })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.$notify(\n              \"primary\",\n              this.$t(\"profile.success\"),\n              this.$t(\"tickets.delete-success\"),\n              \"la-user-shield\",\n              { duration: 5000, permanent: false }\n            );\n            this.loadTickets();\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"tickets.delete-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    closeTicket(id) {\n      httpService\n        .post(\"administration/ticket/close\", { id: id })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.$notify(\n              \"primary\",\n              this.$t(\"profile.success\"),\n              this.$t(\"tickets.save-success\"),\n              \"la-user-shield\",\n              { duration: 5000, permanent: false }\n            );\n            this.loadTickets();\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"tickets.save-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    replyTicket(ticket) {\n      this.editorTicket = Object.assign({}, ticket);\n      this.editorMessage = \"\";\n      this.editor = true;\n    },\n    cancelTicket() {\n      this.editor = false;\n    },\n    saveTicket() {\n      let ticket = Object.assign({}, this.editorTicket);\n      delete ticket.id;\n      ticket.ticket_status = 1;\n      ticket.last_updated = new Date();\n\n      if (this.editorMessage.length) {\n        ticket.conversation.unshift({\n          date: new Date(),\n          message: this.editorMessage,\n          user: {\n            icon: \"la-user-tie\",\n            role: this.currentUser.user.role,\n            title: this.userTitle,\n          },\n        });\n      }\n\n      let id = this.editorTicket.id;\n\n      httpService\n        .post(\"administration/ticket/update\", {\n          id: id,\n          ticket: ticket,\n        })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.$notify(\n              \"primary\",\n              this.$t(\"profile.success\"),\n              this.$t(\"tickets.save-success\"),\n              \"la-user-shield\",\n              { duration: 5000, permanent: false }\n            );\n            this.editor = false;\n            this.loadTickets();\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"tickets.save-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    searchTicket(search) {\n      if (search.length === 0) {\n        this.search = null;\n      } else {\n        this.search = search;\n      }\n    },\n    printTickets() {\n      if (this.editor) {\n        document.getElementById(\"ticket\").print();\n      } else {\n        document.getElementById(\"open-tickets\").print();\n      }\n    },\n  },\n  beforeMount() {\n    this.loadTickets();\n    EventBus.$on(\"refresh\", this.loadTickets);\n    EventBus.$on(\"search\", this.searchTicket);\n    EventBus.$on(\"print\", this.printTickets);\n    EventBus.$on(\"save\", this.saveTicket);\n    EventBus.$on(\"cancel\", this.cancelTicket);\n  },\n  beforeDestroy() {\n    EventBus.$off(\"refresh\", this.loadTickets);\n    EventBus.$off(\"search\", this.searchTicket);\n    EventBus.$off(\"print\", this.printTickets);\n    EventBus.$off(\"save\", this.saveTicket);\n    EventBus.$off(\"cancel\", this.cancelTicket);\n  },\n  watch: {\n    from: function (val) {\n      EventBus.$emit(\"update-from\", val);\n    },\n    to: function (val) {\n      EventBus.$emit(\"update-to\", val);\n    },\n    total: function (val) {\n      EventBus.$emit(\"update-total\", val);\n    },\n    editor: function (val) {\n      EventBus.$emit(\"update-editor\", val);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.ticket-conversation {\n  background-color: $background-color;\n  border-radius: 10px;\n  padding: 1rem 1rem;\n  border: 1px solid $separator-color;\n  margin-bottom: 0.5rem;\n\n  img {\n    max-width: 50%;\n    max-height: 50%;\n  }\n\n  .ticket-title {\n    display: flex;\n    justify-content: space-between;\n    line-height: 30px;\n  }\n\n  .ticket-body {\n    margin-top: 1rem;\n  }\n\n  &.reader {\n    background-color: $foreground-color;\n    margin-bottom: 0;\n    margin-top: 0.5rem;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./open.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./open.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./open.vue?vue&type=template&id=4cccc63f&scoped=true&\"\nimport script from \"./open.vue?vue&type=script&lang=js&\"\nexport * from \"./open.vue?vue&type=script&lang=js&\"\nimport style0 from \"./open.vue?vue&type=style&index=0&id=4cccc63f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cccc63f\",\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar enforceInternalState = require('../internals/internal-state').enforce;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.es/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) {\n      var state = enforceInternalState(result);\n      state.sticky = true;\n    }\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.es/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./open.vue?vue&type=style&index=0&id=4cccc63f&lang=scss&scoped=true&\"","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('erd-row',{staticClass:\"m-0 p-0\"},[(_vm.isLoading)?_c('erd-spinner',{attrs:{\"size\":\"lg\",\"overlay\":\"\",\"absolute\":\"\"}}):_vm._e(),(!_vm.editor)?_c('erd-col',{attrs:{\"xl\":\"12\",\"id\":\"closed-tickets\"}},[_c('b-table',{attrs:{\"items\":_vm.paged,\"fields\":_vm.fields,\"striped\":\"\",\"small\":\"\"},scopedSlots:_vm._u([{key:\"cell(user_id)\",fn:function(row){return [_c('router-link',{attrs:{\"to\":{\n            name: 'users',\n            params: { editor: true, id: row.item.user_id },\n          }}},[_vm._v(_vm._s(row.item.user_id))])]}},{key:\"cell(priority)\",fn:function(row){return [_c('erd-badge',{attrs:{\"variant\":_vm.priorityVariant(row.item.priority)}},[_vm._v(_vm._s(_vm.$t((\"priority.\" + (row.item.priority)))))])]}},{key:\"cell(departement)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.$t((\"departement.\" + (row.item.departement))))+\" \")]}},{key:\"cell(created)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.formatDate(row.item.created))+\" \")]}},{key:\"cell(last_updated)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.formatDate(row.item.last_updated))+\" \")]}},{key:\"cell(tags)\",fn:function(row){return _vm._l((row.item.tags),function(tag,index){return _c('erd-badge',{key:(\"tag-\" + (row.item.id) + \"-\" + index)},[_vm._v(_vm._s(tag))])})}},{key:\"cell(lang)\",fn:function(row){return [_c('span',{staticClass:\"text-capitalize\"},[_vm._v(_vm._s(_vm.languages[row.item.lang].name))])]}},{key:\"cell(actions)\",fn:function(row){return [_c('erd-button',{staticClass:\"btn-table\",attrs:{\"variant\":\"info\"},on:{\"click\":function($event){return _vm.replyTicket(row.item)}}},[_c('i',{staticClass:\"las la-reply\"})]),_c('erd-button',{staticClass:\"btn-table\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteTicket(row.item.id)}}},[_c('i',{staticClass:\"las la-trash\"})])]}}],null,false,3768742229)}),_c('b-pagination',{staticClass:\"w-100 my-3\",attrs:{\"size\":\"sm\",\"align\":\"center\",\"total-rows\":_vm.total,\"per-page\":_vm.perPage},scopedSlots:_vm._u([{key:\"next-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-right\"})]},proxy:true},{key:\"prev-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-left\"})]},proxy:true},{key:\"first-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-double-left\"})]},proxy:true},{key:\"last-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-double-right\"})]},proxy:true}],null,false,1414363887),model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1):_vm._e(),(_vm.editor)?_c('erd-row',{staticClass:\"m-0 p-0\"},[_c('erd-col',{attrs:{\"xl\":\"3\",\"lg\":\"4\",\"md\":\"5\"}},[_c('label',{attrs:{\"for\":\"priority\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.priority\")))]),_c('erd-select',{staticClass:\"w-100 mb-2\",attrs:{\"items\":_vm.priorities,\"id\":\"priority\"},model:{value:(_vm.editorTicket.priority),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"priority\", $$v)},expression:\"editorTicket.priority\"}}),_c('label',{attrs:{\"for\":\"departement\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.departement\")))]),_c('erd-select',{staticClass:\"w-100 mb-2\",attrs:{\"items\":_vm.departements,\"id\":\"departement\"},model:{value:(_vm.editorTicket.departement),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"departement\", $$v)},expression:\"editorTicket.departement\"}}),_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.tags\")))]),_c('erd-tag-input',{staticClass:\"mb-2 w-100\",model:{value:(_vm.editorTicket.tags),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"tags\", $$v)},expression:\"editorTicket.tags\"}}),_c('label',[_vm._v(_vm._s(_vm.$t(\"tickets.notes\")))]),_c('erd-textarea',{staticClass:\"mb-2 w-100\",model:{value:(_vm.editorTicket.notes),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"notes\", $$v)},expression:\"editorTicket.notes\"}})],1),_c('erd-col',{attrs:{\"xl\":\"9\",\"lg\":\"8\",\"md\":\"7\"}},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.title\")))]),_c('erd-input',{staticClass:\"w-100 mb-2\",attrs:{\"id\":\"title\"},model:{value:(_vm.editorTicket.title),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"title\", $$v)},expression:\"editorTicket.title\"}}),_c('label',[_vm._v(_vm._s(_vm.$t(\"tickets.message\")))]),_c('wysiwyg',{staticClass:\"mb-2\",model:{value:(_vm.editorMessage),callback:function ($$v) {_vm.editorMessage=$$v},expression:\"editorMessage\"}})],1)],1):_vm._e(),(_vm.editor)?_c('erd-row',{staticClass:\"m-0 p-0\"},[_c('erd-col',{staticClass:\"mt-0\",attrs:{\"xl\":\"12\",\"sm\":\"12\"}},_vm._l((_vm.editorTicket.conversation),function(conversation,index){return _c('div',{key:(\"conversation-\" + index),staticClass:\"ticket-conversation reader\",attrs:{\"id\":\"ticket\"}},[_c('div',{staticClass:\"ticket-title\"},[_c('span',{staticClass:\"sender\"},[_c('i',{staticClass:\"las la-2x\",class:conversation.user.icon}),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(conversation.user.title))]),_c('erd-badge',{staticClass:\"ml-2 pb-1\",attrs:{\"variant\":_vm.roleVariant(conversation.user.role)}},[_vm._v(_vm._s(_vm.$t((\"roles.\" + (conversation.user.role)))))])],1),_c('span',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.formatDate(conversation.date)))])]),_c('div',{staticClass:\"ticket-body\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(conversation.message)}})])])}),0)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <erd-row class=\"m-0 p-0\">\n    <erd-spinner v-if=\"isLoading\" size=\"lg\" overlay absolute></erd-spinner>\n    <erd-col xl=\"12\" id=\"closed-tickets\" v-if=\"!editor\">\n      <b-table :items=\"paged\" :fields=\"fields\" striped small>\n        <template v-slot:cell(user_id)=\"row\">\n          <router-link\n            :to=\"{\n              name: 'users',\n              params: { editor: true, id: row.item.user_id },\n            }\"\n            >{{ row.item.user_id }}</router-link\n          >\n        </template>\n        <template v-slot:cell(priority)=\"row\">\n          <erd-badge :variant=\"priorityVariant(row.item.priority)\">{{\n            $t(`priority.${row.item.priority}`)\n          }}</erd-badge>\n        </template>\n        <template v-slot:cell(departement)=\"row\">\n          {{ $t(`departement.${row.item.departement}`) }}\n        </template>\n        <template v-slot:cell(created)=\"row\">\n          {{ formatDate(row.item.created) }}\n        </template>\n        <template v-slot:cell(last_updated)=\"row\">\n          {{ formatDate(row.item.last_updated) }}\n        </template>\n        <template v-slot:cell(tags)=\"row\">\n          <erd-badge\n            v-for=\"(tag, index) in row.item.tags\"\n            :key=\"`tag-${row.item.id}-${index}`\"\n            >{{ tag }}</erd-badge\n          >\n        </template>\n        <template v-slot:cell(lang)=\"row\">\n          <span class=\"text-capitalize\">{{\n            languages[row.item.lang].name\n          }}</span>\n        </template>\n        <template v-slot:cell(actions)=\"row\">\n          <erd-button\n            variant=\"info\"\n            class=\"btn-table\"\n            @click=\"replyTicket(row.item)\"\n            ><i class=\"las la-reply\"></i\n          ></erd-button>\n          <erd-button\n            variant=\"danger\"\n            class=\"btn-table\"\n            @click=\"deleteTicket(row.item.id)\"\n            ><i class=\"las la-trash\"></i\n          ></erd-button>\n        </template>\n      </b-table>\n      <b-pagination\n        class=\"w-100 my-3\"\n        size=\"sm\"\n        align=\"center\"\n        :total-rows=\"total\"\n        :per-page=\"perPage\"\n        v-model=\"currentPage\"\n      >\n        <template v-slot:next-text>\n          <i class=\"las la-angle-right\" />\n        </template>\n        <template v-slot:prev-text>\n          <i class=\"las la-angle-left\" />\n        </template>\n        <template v-slot:first-text>\n          <i class=\"las la-angle-double-left\" />\n        </template>\n        <template v-slot:last-text>\n          <i class=\"las la-angle-double-right\" />\n        </template>\n      </b-pagination>\n    </erd-col>\n    <erd-row v-if=\"editor\" class=\"m-0 p-0\">\n      <erd-col xl=\"3\" lg=\"4\" md=\"5\">\n        <label for=\"priority\">{{ $t(\"tickets.priority\") }}</label>\n        <erd-select\n          :items=\"priorities\"\n          v-model=\"editorTicket.priority\"\n          class=\"w-100 mb-2\"\n          id=\"priority\"\n        ></erd-select>\n        <label for=\"departement\">{{ $t(\"tickets.departement\") }}</label>\n        <erd-select\n          :items=\"departements\"\n          v-model=\"editorTicket.departement\"\n          class=\"w-100 mb-2\"\n          id=\"departement\"\n        ></erd-select>\n        <label for=\"title\">{{ $t(\"tickets.tags\") }}</label>\n        <erd-tag-input\n          class=\"mb-2 w-100\"\n          v-model=\"editorTicket.tags\"\n        ></erd-tag-input>\n        <label>{{ $t(\"tickets.notes\") }}</label>\n        <erd-textarea\n          class=\"mb-2 w-100\"\n          v-model=\"editorTicket.notes\"\n        ></erd-textarea>\n      </erd-col>\n      <erd-col xl=\"9\" lg=\"8\" md=\"7\">\n        <label for=\"title\">{{ $t(\"tickets.title\") }}</label>\n        <erd-input\n          v-model=\"editorTicket.title\"\n          class=\"w-100 mb-2\"\n          id=\"title\"\n        ></erd-input>\n        <label>{{ $t(\"tickets.message\") }}</label>\n        <wysiwyg class=\"mb-2\" v-model=\"editorMessage\" />\n      </erd-col>\n    </erd-row>\n    <erd-row class=\"m-0 p-0\" v-if=\"editor\">\n      <erd-col xl=\"12\" sm=\"12\" class=\"mt-0\">\n        <div\n          class=\"ticket-conversation reader\"\n          v-for=\"(conversation, index) in editorTicket.conversation\"\n          :key=\"`conversation-${index}`\"\n          id=\"ticket\"\n        >\n          <div class=\"ticket-title\">\n            <span class=\"sender\">\n              <i class=\"las la-2x\" :class=\"conversation.user.icon\"></i>\n              <span class=\"font-weight-bold\">{{\n                conversation.user.title\n              }}</span>\n              <erd-badge\n                :variant=\"roleVariant(conversation.user.role)\"\n                class=\"ml-2 pb-1\"\n                >{{ $t(`roles.${conversation.user.role}`) }}</erd-badge\n              >\n            </span>\n            <span class=\"date\">{{ formatDate(conversation.date) }}</span>\n          </div>\n          <div class=\"ticket-body\">\n            <div v-html=\"conversation.message\"></div>\n          </div>\n        </div>\n      </erd-col>\n    </erd-row>\n  </erd-row>\n</template>\n\n<script>\n/* eslint-disable vue/no-side-effects-in-computed-properties */\nimport { EventBus } from \"../../../services/ebus\";\nimport { httpService } from \"../../../services/http\";\nimport { mapGetters } from \"vuex\";\nimport { languages } from \"../../../helpers\";\n\nexport default {\n  data() {\n    return {\n      search: null,\n      isLoading: false,\n      from: 0,\n      to: 0,\n      total: 0,\n      currentPage: 1,\n      editor: false,\n      editorTicket: null,\n      editorMessage: \"\",\n      tickets: [],\n      languages,\n      fields: [\n        { key: \"user_id\", label: this.$t(\"users.id\"), sortable: true },\n        { key: \"priority\", label: this.$t(\"tickets.priority\"), sortable: true },\n        {\n          key: \"departement\",\n          label: this.$t(\"tickets.departement\"),\n          sortable: true,\n        },\n        { key: \"title\", label: this.$t(\"tickets.title\"), sortable: true },\n        { key: \"created\", label: this.$t(\"users.created\"), sortable: true },\n        {\n          key: \"last_updated\",\n          label: this.$t(\"users.last-updated\"),\n          sortable: true,\n        },\n        { key: \"notes\", label: this.$t(\"tickets.notes\"), sortable: true },\n        { key: \"tags\", label: this.$t(\"tickets.tags\"), sortable: true },\n        { key: \"lang\", label: this.$t(\"tickets.lang\"), sortable: true },\n        {\n          key: \"actions\",\n          label: this.$t(\"users.actions\"),\n          sortable: false,\n          thClass: \"text-right\",\n          tdClass: \"text-right\",\n        },\n      ],\n      priorities: [\n        { text: this.$t(\"priority.0\"), value: 0 },\n        { text: this.$t(\"priority.1\"), value: 1 },\n        { text: this.$t(\"priority.2\"), value: 2 },\n        { text: this.$t(\"priority.3\"), value: 3 },\n      ],\n      departements: [\n        { text: this.$t(\"departement.0\"), value: 0 },\n        { text: this.$t(\"departement.1\"), value: 1 },\n        { text: this.$t(\"departement.2\"), value: 2 },\n        { text: this.$t(\"departement.3\"), value: 3 },\n        { text: this.$t(\"departement.4\"), value: 4 },\n        { text: this.$t(\"departement.5\"), value: 5 },\n      ],\n    };\n  },\n  computed: {\n    ...mapGetters([\"currentUser\", \"settings\"]),\n    perPage() {\n      return this.settings.perPage;\n    },\n    searchFiltered() {\n      if (this.search === null) {\n        return this.tickets;\n      } else {\n        var re = new RegExp(this.search, \"i\");\n        return this.tickets.filter((ticket) => {\n          return (\n            String(ticket.user_id).match(re) ||\n            String(ticket.title).match(re) ||\n            this.formatDate(ticket.created).match(re) ||\n            this.formatDate(ticket.last_updated).match(re) ||\n            JSON.stringify(ticket.conversation).match(re) ||\n            String(ticket.attachments).match(re) ||\n            String(ticket.notes).match(re) ||\n            JSON.stringify(ticket.tags).match(re) ||\n            this.$t(`priority.${ticket.priority}`).match(re) ||\n            this.$t(`departement.${ticket.departement}`).match(re)\n          );\n        });\n      }\n    },\n    paged() {\n      this.total = this.searchFiltered.length;\n      this.from = (this.currentPage - 1) * this.perPage;\n      this.to =\n        this.from + this.perPage > this.total\n          ? this.total\n          : this.from + this.perPage;\n      return this.searchFiltered.slice(this.from, this.to);\n    },\n    userTitle() {\n      return this.currentUser.profile &&\n        this.currentUser.profile.name_first.length > 0 &&\n        this.currentUser.profile.name_last.length > 0\n        ? `${this.currentUser.profile.name_first} ${this.currentUser.profile.name_last}`\n        : this.currentUser.user.username;\n    },\n  },\n  methods: {\n    formatDate(date) {\n      return new Date(date).toLocaleString(\n        this.$t(\"date.locale\"),\n        this.dateOptions\n      );\n    },\n    priorityVariant(priority) {\n      switch (priority) {\n        case 0:\n          return \"success\";\n        case 1:\n          return \"info\";\n        case 2:\n          return \"warning\";\n        case 3:\n          return \"danger\";\n      }\n    },\n    roleVariant(role) {\n      switch (role) {\n        case 1:\n        case 1985:\n          return \"danger\";\n\n        case 2:\n        case 4:\n        case 5:\n          return \"info\";\n\n        case 3:\n          return \"primary\";\n      }\n    },\n    loadTickets() {\n      this.isLoading = true;\n      httpService\n        .get(\"administration/tickets/2\")\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.tickets = res.data;\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"tickets.load-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    deleteTicket(id) {\n      httpService\n        .post(\"administration/ticket/delete\", { id: id })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.$notify(\n              \"primary\",\n              this.$t(\"profile.success\"),\n              this.$t(\"tickets.delete-success\"),\n              \"la-user-shield\",\n              { duration: 5000, permanent: false }\n            );\n            this.loadTickets();\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"tickets.delete-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    replyTicket(ticket) {\n      this.editorTicket = Object.assign({}, ticket);\n      this.editorMessage = \"\";\n      this.editor = true;\n    },\n    cancelTicket() {\n      this.editor = false;\n    },\n    saveTicket() {\n      let ticket = Object.assign({}, this.editorTicket);\n      delete ticket.id;\n      ticket.ticket_status = 1;\n      ticket.last_updated = new Date();\n\n      if (this.editorMessage.length) {\n        ticket.conversation.unshift({\n          date: new Date(),\n          message: this.editorMessage,\n          user: {\n            icon: \"la-user-tie\",\n            role: this.currentUser.user.role,\n            title: this.userTitle,\n          },\n        });\n      }\n\n      let id = this.editorTicket.id;\n\n      httpService\n        .post(\"administration/ticket/update\", {\n          id: id,\n          ticket: ticket,\n        })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.$notify(\n              \"primary\",\n              this.$t(\"profile.success\"),\n              this.$t(\"tickets.save-success\"),\n              \"la-user-shield\",\n              { duration: 5000, permanent: false }\n            );\n            this.editor = false;\n            this.loadTickets();\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"tickets.save-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    searchTicket(search) {\n      if (search.length === 0) {\n        this.search = null;\n      } else {\n        this.search = search;\n      }\n    },\n    printTickets() {\n      if (this.editor) {\n        document.getElementById(\"ticket\").print();\n      } else {\n        document.getElementById(\"closed-tickets\").print();\n      }\n    },\n  },\n  beforeMount() {\n    this.loadTickets();\n    EventBus.$on(\"refresh\", this.loadTickets);\n    EventBus.$on(\"search\", this.searchTicket);\n    EventBus.$on(\"print\", this.printTickets);\n    EventBus.$on(\"save\", this.saveTicket);\n    EventBus.$on(\"cancel\", this.cancelTicket);\n  },\n  beforeDestroy() {\n    EventBus.$off(\"refresh\", this.loadTickets);\n    EventBus.$off(\"search\", this.searchTicket);\n    EventBus.$off(\"print\", this.printTickets);\n    EventBus.$off(\"save\", this.saveTicket);\n    EventBus.$off(\"cancel\", this.cancelTicket);\n  },\n  watch: {\n    from: function (val) {\n      EventBus.$emit(\"update-from\", val);\n    },\n    to: function (val) {\n      EventBus.$emit(\"update-to\", val);\n    },\n    total: function (val) {\n      EventBus.$emit(\"update-total\", val);\n    },\n    editor: function (val) {\n      EventBus.$emit(\"update-editor\", val);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.ticket-conversation {\n  background-color: $background-color;\n  border-radius: 10px;\n  padding: 1rem 1rem;\n  border: 1px solid $separator-color;\n  margin-bottom: 0.5rem;\n\n  img {\n    max-width: 50%;\n    max-height: 50%;\n  }\n\n  .ticket-title {\n    display: flex;\n    justify-content: space-between;\n    line-height: 30px;\n  }\n\n  .ticket-body {\n    margin-top: 1rem;\n  }\n\n  &.reader {\n    background-color: $foreground-color;\n    margin-bottom: 0;\n    margin-top: 0.5rem;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./closed.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./closed.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./closed.vue?vue&type=template&id=9490d414&scoped=true&\"\nimport script from \"./closed.vue?vue&type=script&lang=js&\"\nexport * from \"./closed.vue?vue&type=script&lang=js&\"\nimport style0 from \"./closed.vue?vue&type=style&index=0&id=9490d414&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9490d414\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.es/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./answered.vue?vue&type=style&index=0&id=6b24bf0b&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./archived.vue?vue&type=style&index=0&id=1f050b45&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('erd-row',{staticClass:\"m-0 p-0\"},[(_vm.isLoading)?_c('erd-spinner',{attrs:{\"size\":\"lg\",\"overlay\":\"\",\"absolute\":\"\"}}):_vm._e(),(!_vm.editor)?_c('erd-col',{attrs:{\"xl\":\"12\",\"id\":\"archived-tickets\"}},[_c('b-table',{attrs:{\"items\":_vm.paged,\"fields\":_vm.fields,\"striped\":\"\",\"small\":\"\"},scopedSlots:_vm._u([{key:\"cell(user_id)\",fn:function(row){return [_c('router-link',{attrs:{\"to\":{\n            name: 'users',\n            params: { editor: true, id: row.item.user_id },\n          }}},[_vm._v(_vm._s(row.item.user_id))])]}},{key:\"cell(priority)\",fn:function(row){return [_c('erd-badge',{attrs:{\"variant\":_vm.priorityVariant(row.item.priority)}},[_vm._v(_vm._s(_vm.$t((\"priority.\" + (row.item.priority)))))])]}},{key:\"cell(departement)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.$t((\"departement.\" + (row.item.departement))))+\" \")]}},{key:\"cell(created)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.formatDate(row.item.created))+\" \")]}},{key:\"cell(last_updated)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.formatDate(row.item.last_updated))+\" \")]}},{key:\"cell(tags)\",fn:function(row){return _vm._l((row.item.tags),function(tag,index){return _c('erd-badge',{key:(\"tag-\" + (row.item.id) + \"-\" + index)},[_vm._v(_vm._s(tag))])})}},{key:\"cell(lang)\",fn:function(row){return [_c('span',{staticClass:\"text-capitalize\"},[_vm._v(_vm._s(_vm.languages[row.item.lang].name))])]}},{key:\"cell(actions)\",fn:function(row){return [_c('erd-button',{staticClass:\"btn-table\",attrs:{\"variant\":\"info\"},on:{\"click\":function($event){return _vm.replyTicket(row.item)}}},[_c('i',{staticClass:\"las la-reply\"})]),_c('erd-button',{staticClass:\"btn-table\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteTicket(row.item.id)}}},[_c('i',{staticClass:\"las la-trash\"})])]}}],null,false,3768742229)}),_c('b-pagination',{staticClass:\"w-100 my-3\",attrs:{\"size\":\"sm\",\"align\":\"center\",\"total-rows\":_vm.total,\"per-page\":_vm.perPage},scopedSlots:_vm._u([{key:\"next-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-right\"})]},proxy:true},{key:\"prev-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-left\"})]},proxy:true},{key:\"first-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-double-left\"})]},proxy:true},{key:\"last-text\",fn:function(){return [_c('i',{staticClass:\"las la-angle-double-right\"})]},proxy:true}],null,false,1414363887),model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1):_vm._e(),(_vm.editor)?_c('erd-row',{staticClass:\"m-0 p-0\"},[_c('erd-col',{attrs:{\"xl\":\"3\",\"lg\":\"4\",\"md\":\"5\"}},[_c('label',{attrs:{\"for\":\"priority\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.priority\")))]),_c('erd-select',{staticClass:\"w-100 mb-2\",attrs:{\"items\":_vm.priorities,\"id\":\"priority\"},model:{value:(_vm.editorTicket.priority),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"priority\", $$v)},expression:\"editorTicket.priority\"}}),_c('label',{attrs:{\"for\":\"departement\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.departement\")))]),_c('erd-select',{staticClass:\"w-100 mb-2\",attrs:{\"items\":_vm.departements,\"id\":\"departement\"},model:{value:(_vm.editorTicket.departement),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"departement\", $$v)},expression:\"editorTicket.departement\"}}),_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.tags\")))]),_c('erd-tag-input',{staticClass:\"mb-2 w-100\",model:{value:(_vm.editorTicket.tags),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"tags\", $$v)},expression:\"editorTicket.tags\"}}),_c('label',[_vm._v(_vm._s(_vm.$t(\"tickets.notes\")))]),_c('erd-textarea',{staticClass:\"mb-2 w-100\",model:{value:(_vm.editorTicket.notes),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"notes\", $$v)},expression:\"editorTicket.notes\"}})],1),_c('erd-col',{attrs:{\"xl\":\"9\",\"lg\":\"8\",\"md\":\"7\"}},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(_vm._s(_vm.$t(\"tickets.title\")))]),_c('erd-input',{staticClass:\"w-100 mb-2\",attrs:{\"id\":\"title\"},model:{value:(_vm.editorTicket.title),callback:function ($$v) {_vm.$set(_vm.editorTicket, \"title\", $$v)},expression:\"editorTicket.title\"}}),_c('label',[_vm._v(_vm._s(_vm.$t(\"tickets.message\")))]),_c('wysiwyg',{staticClass:\"mb-2\",model:{value:(_vm.editorMessage),callback:function ($$v) {_vm.editorMessage=$$v},expression:\"editorMessage\"}})],1)],1):_vm._e(),(_vm.editor)?_c('erd-row',{staticClass:\"m-0 p-0\"},[_c('erd-col',{staticClass:\"mt-0\",attrs:{\"xl\":\"12\",\"sm\":\"12\"}},_vm._l((_vm.editorTicket.conversation),function(conversation,index){return _c('div',{key:(\"conversation-\" + index),staticClass:\"ticket-conversation reader\",attrs:{\"id\":\"ticket\"}},[_c('div',{staticClass:\"ticket-title\"},[_c('span',{staticClass:\"sender\"},[_c('i',{staticClass:\"las la-2x\",class:conversation.user.icon}),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(conversation.user.title))]),_c('erd-badge',{staticClass:\"ml-2 pb-1\",attrs:{\"variant\":_vm.roleVariant(conversation.user.role)}},[_vm._v(_vm._s(_vm.$t((\"roles.\" + (conversation.user.role)))))])],1),_c('span',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.formatDate(conversation.date)))])]),_c('div',{staticClass:\"ticket-body\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(conversation.message)}})])])}),0)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <erd-row class=\"m-0 p-0\">\n    <erd-spinner v-if=\"isLoading\" size=\"lg\" overlay absolute></erd-spinner>\n    <erd-col xl=\"12\" id=\"archived-tickets\" v-if=\"!editor\">\n      <b-table :items=\"paged\" :fields=\"fields\" striped small>\n        <template v-slot:cell(user_id)=\"row\">\n          <router-link\n            :to=\"{\n              name: 'users',\n              params: { editor: true, id: row.item.user_id },\n            }\"\n            >{{ row.item.user_id }}</router-link\n          >\n        </template>\n        <template v-slot:cell(priority)=\"row\">\n          <erd-badge :variant=\"priorityVariant(row.item.priority)\">{{\n            $t(`priority.${row.item.priority}`)\n          }}</erd-badge>\n        </template>\n        <template v-slot:cell(departement)=\"row\">\n          {{ $t(`departement.${row.item.departement}`) }}\n        </template>\n        <template v-slot:cell(created)=\"row\">\n          {{ formatDate(row.item.created) }}\n        </template>\n        <template v-slot:cell(last_updated)=\"row\">\n          {{ formatDate(row.item.last_updated) }}\n        </template>\n        <template v-slot:cell(tags)=\"row\">\n          <erd-badge\n            v-for=\"(tag, index) in row.item.tags\"\n            :key=\"`tag-${row.item.id}-${index}`\"\n            >{{ tag }}</erd-badge\n          >\n        </template>\n        <template v-slot:cell(lang)=\"row\">\n          <span class=\"text-capitalize\">{{\n            languages[row.item.lang].name\n          }}</span>\n        </template>\n        <template v-slot:cell(actions)=\"row\">\n          <erd-button\n            variant=\"info\"\n            class=\"btn-table\"\n            @click=\"replyTicket(row.item)\"\n            ><i class=\"las la-reply\"></i\n          ></erd-button>\n          <erd-button\n            variant=\"danger\"\n            class=\"btn-table\"\n            @click=\"deleteTicket(row.item.id)\"\n            ><i class=\"las la-trash\"></i\n          ></erd-button>\n        </template>\n      </b-table>\n      <b-pagination\n        class=\"w-100 my-3\"\n        size=\"sm\"\n        align=\"center\"\n        :total-rows=\"total\"\n        :per-page=\"perPage\"\n        v-model=\"currentPage\"\n      >\n        <template v-slot:next-text>\n          <i class=\"las la-angle-right\" />\n        </template>\n        <template v-slot:prev-text>\n          <i class=\"las la-angle-left\" />\n        </template>\n        <template v-slot:first-text>\n          <i class=\"las la-angle-double-left\" />\n        </template>\n        <template v-slot:last-text>\n          <i class=\"las la-angle-double-right\" />\n        </template>\n      </b-pagination>\n    </erd-col>\n    <erd-row v-if=\"editor\" class=\"m-0 p-0\">\n      <erd-col xl=\"3\" lg=\"4\" md=\"5\">\n        <label for=\"priority\">{{ $t(\"tickets.priority\") }}</label>\n        <erd-select\n          :items=\"priorities\"\n          v-model=\"editorTicket.priority\"\n          class=\"w-100 mb-2\"\n          id=\"priority\"\n        ></erd-select>\n        <label for=\"departement\">{{ $t(\"tickets.departement\") }}</label>\n        <erd-select\n          :items=\"departements\"\n          v-model=\"editorTicket.departement\"\n          class=\"w-100 mb-2\"\n          id=\"departement\"\n        ></erd-select>\n        <label for=\"title\">{{ $t(\"tickets.tags\") }}</label>\n        <erd-tag-input\n          class=\"mb-2 w-100\"\n          v-model=\"editorTicket.tags\"\n        ></erd-tag-input>\n        <label>{{ $t(\"tickets.notes\") }}</label>\n        <erd-textarea\n          class=\"mb-2 w-100\"\n          v-model=\"editorTicket.notes\"\n        ></erd-textarea>\n      </erd-col>\n      <erd-col xl=\"9\" lg=\"8\" md=\"7\">\n        <label for=\"title\">{{ $t(\"tickets.title\") }}</label>\n        <erd-input\n          v-model=\"editorTicket.title\"\n          class=\"w-100 mb-2\"\n          id=\"title\"\n        ></erd-input>\n        <label>{{ $t(\"tickets.message\") }}</label>\n        <wysiwyg class=\"mb-2\" v-model=\"editorMessage\" />\n      </erd-col>\n    </erd-row>\n    <erd-row class=\"m-0 p-0\" v-if=\"editor\">\n      <erd-col xl=\"12\" sm=\"12\" class=\"mt-0\">\n        <div\n          class=\"ticket-conversation reader\"\n          v-for=\"(conversation, index) in editorTicket.conversation\"\n          :key=\"`conversation-${index}`\"\n          id=\"ticket\"\n        >\n          <div class=\"ticket-title\">\n            <span class=\"sender\">\n              <i class=\"las la-2x\" :class=\"conversation.user.icon\"></i>\n              <span class=\"font-weight-bold\">{{\n                conversation.user.title\n              }}</span>\n              <erd-badge\n                :variant=\"roleVariant(conversation.user.role)\"\n                class=\"ml-2 pb-1\"\n                >{{ $t(`roles.${conversation.user.role}`) }}</erd-badge\n              >\n            </span>\n            <span class=\"date\">{{ formatDate(conversation.date) }}</span>\n          </div>\n          <div class=\"ticket-body\">\n            <div v-html=\"conversation.message\"></div>\n          </div>\n        </div>\n      </erd-col>\n    </erd-row>\n  </erd-row>\n</template>\n\n<script>\n/* eslint-disable vue/no-side-effects-in-computed-properties */\nimport { EventBus } from \"../../../services/ebus\";\nimport { httpService } from \"../../../services/http\";\nimport { mapGetters } from \"vuex\";\nimport { languages } from \"../../../helpers\";\n\nexport default {\n  data() {\n    return {\n      search: null,\n      isLoading: false,\n      from: 0,\n      to: 0,\n      total: 0,\n      currentPage: 1,\n      editor: false,\n      editorTicket: null,\n      editorMessage: \"\",\n      tickets: [],\n      languages,\n      fields: [\n        { key: \"user_id\", label: this.$t(\"users.id\"), sortable: true },\n        { key: \"priority\", label: this.$t(\"tickets.priority\"), sortable: true },\n        {\n          key: \"departement\",\n          label: this.$t(\"tickets.departement\"),\n          sortable: true,\n        },\n        { key: \"title\", label: this.$t(\"tickets.title\"), sortable: true },\n        { key: \"created\", label: this.$t(\"users.created\"), sortable: true },\n        {\n          key: \"last_updated\",\n          label: this.$t(\"users.last-updated\"),\n          sortable: true,\n        },\n        { key: \"notes\", label: this.$t(\"tickets.notes\"), sortable: true },\n        { key: \"tags\", label: this.$t(\"tickets.tags\"), sortable: true },\n        { key: \"lang\", label: this.$t(\"tickets.lang\"), sortable: true },\n        {\n          key: \"actions\",\n          label: this.$t(\"users.actions\"),\n          sortable: false,\n          thClass: \"text-right\",\n          tdClass: \"text-right\",\n        },\n      ],\n      priorities: [\n        { text: this.$t(\"priority.0\"), value: 0 },\n        { text: this.$t(\"priority.1\"), value: 1 },\n        { text: this.$t(\"priority.2\"), value: 2 },\n        { text: this.$t(\"priority.3\"), value: 3 },\n      ],\n      departements: [\n        { text: this.$t(\"departement.0\"), value: 0 },\n        { text: this.$t(\"departement.1\"), value: 1 },\n        { text: this.$t(\"departement.2\"), value: 2 },\n        { text: this.$t(\"departement.3\"), value: 3 },\n        { text: this.$t(\"departement.4\"), value: 4 },\n        { text: this.$t(\"departement.5\"), value: 5 },\n      ],\n    };\n  },\n  computed: {\n    ...mapGetters([\"currentUser\", \"settings\"]),\n    perPage() {\n      return this.settings.perPage;\n    },\n    searchFiltered() {\n      if (this.search === null) {\n        return this.tickets;\n      } else {\n        var re = new RegExp(this.search, \"i\");\n        return this.tickets.filter((ticket) => {\n          return (\n            String(ticket.user_id).match(re) ||\n            String(ticket.title).match(re) ||\n            this.formatDate(ticket.created).match(re) ||\n            this.formatDate(ticket.last_updated).match(re) ||\n            JSON.stringify(ticket.conversation).match(re) ||\n            String(ticket.attachments).match(re) ||\n            String(ticket.notes).match(re) ||\n            JSON.stringify(ticket.tags).match(re) ||\n            this.$t(`priority.${ticket.priority}`).match(re) ||\n            this.$t(`departement.${ticket.departement}`).match(re)\n          );\n        });\n      }\n    },\n    paged() {\n      this.total = this.searchFiltered.length;\n      this.from = (this.currentPage - 1) * this.perPage;\n      this.to =\n        this.from + this.perPage > this.total\n          ? this.total\n          : this.from + this.perPage;\n      return this.searchFiltered.slice(this.from, this.to);\n    },\n    userTitle() {\n      return this.currentUser.profile &&\n        this.currentUser.profile.name_first.length > 0 &&\n        this.currentUser.profile.name_last.length > 0\n        ? `${this.currentUser.profile.name_first} ${this.currentUser.profile.name_last}`\n        : this.currentUser.user.username;\n    },\n  },\n  methods: {\n    formatDate(date) {\n      return new Date(date).toLocaleString(\n        this.$t(\"date.locale\"),\n        this.dateOptions\n      );\n    },\n    priorityVariant(priority) {\n      switch (priority) {\n        case 0:\n          return \"success\";\n        case 1:\n          return \"info\";\n        case 2:\n          return \"warning\";\n        case 3:\n          return \"danger\";\n      }\n    },\n    roleVariant(role) {\n      switch (role) {\n        case 1:\n        case 1985:\n          return \"danger\";\n\n        case 2:\n        case 4:\n        case 5:\n          return \"info\";\n\n        case 3:\n          return \"primary\";\n      }\n    },\n    loadTickets() {\n      this.isLoading = true;\n      httpService\n        .get(\"administration/tickets/3\")\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.tickets = res.data;\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"tickets.load-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    deleteTicket(id) {\n      httpService\n        .post(\"administration/ticket/delete\", { id: id })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.$notify(\n              \"primary\",\n              this.$t(\"profile.success\"),\n              this.$t(\"tickets.delete-success\"),\n              \"la-user-shield\",\n              { duration: 5000, permanent: false }\n            );\n            this.loadTickets();\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"tickets.delete-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    replyTicket(ticket) {\n      this.editorTicket = Object.assign({}, ticket);\n      this.editorMessage = \"\";\n      this.editor = true;\n    },\n    cancelTicket() {\n      this.editor = false;\n    },\n    saveTicket() {\n      let ticket = Object.assign({}, this.editorTicket);\n      delete ticket.id;\n      ticket.ticket_status = 1;\n      ticket.last_updated = new Date();\n\n      if (this.editorMessage.length) {\n        ticket.conversation.unshift({\n          date: new Date(),\n          message: this.editorMessage,\n          user: {\n            icon: \"la-user-tie\",\n            role: this.currentUser.user.role,\n            title: this.userTitle,\n          },\n        });\n      }\n\n      let id = this.editorTicket.id;\n\n      httpService\n        .post(\"administration/ticket/update\", {\n          id: id,\n          ticket: ticket,\n        })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.status === true) {\n            this.editor = false;\n            this.$notify(\n              \"primary\",\n              this.$t(\"profile.success\"),\n              this.$t(\"tickets.save-success\"),\n              \"la-user-shield\",\n              { duration: 5000, permanent: false }\n            );\n            this.loadTickets();\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$notify(\n            \"error\",\n            this.$t(\"profile.failed\"),\n            this.$t(\"tickets.save-error\"),\n            \"la-user-shield\",\n            { duration: 5000, permanent: false }\n          );\n        });\n    },\n    searchTicket(search) {\n      if (search.length === 0) {\n        this.search = null;\n      } else {\n        this.search = search;\n      }\n    },\n    printTickets() {\n      if (this.editor) {\n        document.getElementById(\"ticket\").print();\n      } else {\n        document.getElementById(\"archived-tickets\").print();\n      }\n    },\n  },\n  beforeMount() {\n    this.loadTickets();\n    EventBus.$on(\"refresh\", this.loadTickets);\n    EventBus.$on(\"search\", this.searchTicket);\n    EventBus.$on(\"print\", this.printTickets);\n    EventBus.$on(\"save\", this.saveTicket);\n    EventBus.$on(\"cancel\", this.cancelTicket);\n  },\n  beforeDestroy() {\n    EventBus.$off(\"refresh\", this.loadTickets);\n    EventBus.$off(\"search\", this.searchTicket);\n    EventBus.$off(\"print\", this.printTickets);\n    EventBus.$off(\"save\", this.saveTicket);\n    EventBus.$off(\"cancel\", this.cancelTicket);\n  },\n  watch: {\n    from: function (val) {\n      EventBus.$emit(\"update-from\", val);\n    },\n    to: function (val) {\n      EventBus.$emit(\"update-to\", val);\n    },\n    total: function (val) {\n      EventBus.$emit(\"update-total\", val);\n    },\n    editor: function (val) {\n      EventBus.$emit(\"update-editor\", val);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.ticket-conversation {\n  background-color: $background-color;\n  border-radius: 10px;\n  padding: 1rem 1rem;\n  border: 1px solid $separator-color;\n  margin-bottom: 0.5rem;\n\n  img {\n    max-width: 50%;\n    max-height: 50%;\n  }\n\n  .ticket-title {\n    display: flex;\n    justify-content: space-between;\n    line-height: 30px;\n  }\n\n  .ticket-body {\n    margin-top: 1rem;\n  }\n\n  &.reader {\n    background-color: $foreground-color;\n    margin-bottom: 0;\n    margin-top: 0.5rem;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./archived.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./archived.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./archived.vue?vue&type=template&id=1f050b45&scoped=true&\"\nimport script from \"./archived.vue?vue&type=script&lang=js&\"\nexport * from \"./archived.vue?vue&type=script&lang=js&\"\nimport style0 from \"./archived.vue?vue&type=style&index=0&id=1f050b45&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f050b45\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('erd-row',[_c('erd-breadcrumb',{attrs:{\"items\":_vm.breadcrumb,\"heading\":_vm.heading}},[(_vm.editor)?_c('erd-button',{staticClass:\"mr-1 py-1 px-2\",attrs:{\"icon\":\"las la-save\",\"variant\":\"success\"},on:{\"click\":_vm.doSave}},[_vm._v(_vm._s(_vm.$t(\"general.save\")))]):_vm._e(),(_vm.editor)?_c('erd-button',{staticClass:\"py-1 px-2\",attrs:{\"icon\":\"las la-ban\",\"variant\":\"danger\"},on:{\"click\":_vm.doCancel}},[_vm._v(_vm._s(_vm.$t(\"general.cancel\")))]):_vm._e(),(!_vm.editor)?_c('erd-button',{staticClass:\"mr-2 py-1 px-2\",attrs:{\"icon\":\"las la-sync\"},on:{\"click\":_vm.doRefresh}},[_vm._v(_vm._s(_vm.$t(\"general.refresh\")))]):_vm._e(),(!_vm.editor)?_c('span',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.$t(\"general.from-to-total\").format( this.total > 0 ? this.from + 1 : this.from, this.to, this.total )))]):_vm._e()],1),_c('div',{staticClass:\"seperator page\"}),_c('router-view',{staticClass:\"px-0 mt-0\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <erd-row>\n    <erd-breadcrumb :items=\"breadcrumb\" :heading=\"heading\">\n      <erd-button\n        class=\"mr-1 py-1 px-2\"\n        icon=\"las la-save\"\n        @click=\"doSave\"\n        v-if=\"editor\"\n        variant=\"success\"\n        >{{ $t(\"general.save\") }}</erd-button\n      >\n      <erd-button\n        class=\"py-1 px-2\"\n        icon=\"las la-ban\"\n        @click=\"doCancel\"\n        v-if=\"editor\"\n        variant=\"danger\"\n        >{{ $t(\"general.cancel\") }}</erd-button\n      >\n      <erd-button\n        class=\"mr-2 py-1 px-2\"\n        icon=\"las la-sync\"\n        @click=\"doRefresh\"\n        v-if=\"!editor\"\n        >{{ $t(\"general.refresh\") }}</erd-button\n      >\n      <span class=\"text-muted\" v-if=\"!editor\">{{\n        $t(\"general.from-to-total\").format(\n          this.total > 0 ? this.from + 1 : this.from,\n          this.to,\n          this.total\n        )\n      }}</span>\n    </erd-breadcrumb>\n    <div class=\"seperator page\"></div>\n    <router-view class=\"px-0 mt-0\"></router-view>\n  </erd-row>\n</template>\n\n<script>\nimport { EventBus } from \"../../../services/ebus\";\nexport default {\n  data() {\n    return {\n      from: 0,\n      to: 0,\n      total: 0,\n      editor: false,\n    };\n  },\n  computed: {\n    breadcrumb() {\n      let res = [];\n      this.$route.matched.map((item) => {\n        res.push({\n          text: this.$t(`menu.${item.name.toLowerCase()}`),\n          to: item.path !== \"\" ? item.path : \"/\",\n        });\n      });\n      return res;\n    },\n    heading() {\n      let br = this.breadcrumb;\n      return br[br.length - 1].text;\n    },\n  },\n  methods: {\n    updateFrom(from) {\n      this.from = from;\n    },\n    updateTo(to) {\n      this.to = to;\n    },\n    updateTotal(total) {\n      this.total = total;\n    },\n    updateEditor(editor) {\n      this.editor = editor;\n    },\n    doRefresh() {\n      EventBus.$emit(\"refresh\");\n    },\n    doCancel() {\n      EventBus.$emit(\"cancel\");\n    },\n    doSave() {\n      EventBus.$emit(\"save\");\n    },\n  },\n  watch: {\n    $route: function () {\n      if (this.$route.params.editor !== true) {\n        this.editor = false;\n      }\n    },\n  },\n  beforeMount() {\n    EventBus.$on(\"update-from\", this.updateFrom);\n    EventBus.$on(\"update-to\", this.updateTo);\n    EventBus.$on(\"update-total\", this.updateTotal);\n    EventBus.$on(\"update-editor\", this.updateEditor);\n  },\n  beforeDestroy() {\n    EventBus.$off(\"update-from\", this.updateFrom);\n    EventBus.$off(\"update-to\", this.updateTo);\n    EventBus.$off(\"update-total\", this.updateTotal);\n    EventBus.$off(\"update-editor\", this.updateEditor);\n  },\n};\n</script>\n\n<style scoped>\n.seperator.page {\n  margin-left: 15px;\n  margin-right: 15px;\n  width: calc(100% - 30px);\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3d8809ff&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3d8809ff&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d8809ff\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3d8809ff&scoped=true&lang=css&\""],"sourceRoot":""}