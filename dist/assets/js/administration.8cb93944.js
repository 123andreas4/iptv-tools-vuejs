(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["administration"],{"0ab7":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("erd-row",{staticClass:"m-0 p-0"},[t.isLoading?a("erd-spinner",{attrs:{size:"lg",overlay:"",absolute:""}}):t._e(),a("erd-col",{attrs:{xl:"12",id:"forgots"}},[a("b-table",{attrs:{items:t.paged,fields:t.fields,striped:"",small:""},scopedSlots:t._u([{key:"cell(user_id)",fn:function(e){return[a("router-link",{attrs:{to:{name:"users",params:{editor:!0,id:e.item.user_id}}}},[t._v(t._s(e.item.user_id))])]}},{key:"cell(expiry)",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.item.expiry))+" ")]}},{key:"cell(actions)",fn:function(e){return[a("erd-button",{staticClass:"btn-table",attrs:{variant:"info"},on:{click:function(a){return t.user(e.item.user_id)}}},[a("i",{staticClass:"las la-user"})]),a("erd-button",{staticClass:"btn-table",attrs:{variant:"danger"},on:{click:function(a){return t.deleteForgot(e.item.id)}}},[a("i",{staticClass:"las la-trash"})])]}}])}),a("b-pagination",{staticClass:"w-100 my-3",attrs:{size:"sm",align:"center","total-rows":t.total,"per-page":t.perPage},scopedSlots:t._u([{key:"next-text",fn:function(){return[a("i",{staticClass:"las la-angle-right"})]},proxy:!0},{key:"prev-text",fn:function(){return[a("i",{staticClass:"las la-angle-left"})]},proxy:!0},{key:"first-text",fn:function(){return[a("i",{staticClass:"las la-angle-double-left"})]},proxy:!0},{key:"last-text",fn:function(){return[a("i",{staticClass:"las la-angle-double-right"})]},proxy:!0}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},s=[],r=a("5530"),n=(a("ac1f"),a("841c"),a("4d63"),a("25f0"),a("4de4"),a("466d"),a("fb6a"),a("2ebf")),o=a("0dcc"),l=a("2f62"),u={data:function(){return{search:null,isLoading:!1,from:0,to:0,total:0,currentPage:1,forgots:[],fields:[{key:"user_id",label:this.$t("users.id"),sortable:!0},{key:"code",label:this.$t("forgot.code"),sortable:!0},{key:"expiry",label:this.$t("forgot.expiry"),sortable:!0},{key:"actions",label:this.$t("users.actions"),sortable:!1,thClass:"text-right",tdClass:"text-right"}]}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])(["currentUser","settings"])),{},{perPage:function(){return this.settings.perPage},searchFiltered:function(){var t=this;if(null===this.search)return this.forgots;var e=new RegExp(this.search,"i");return this.forgots.filter((function(a){return String(a.user_id).match(e)||String(a.code).match(e)||String(a.expiry).match(e)||t.formatDate(a.expiry).match(e)}))},paged:function(){return this.total=this.searchFiltered.length,this.from=(this.currentPage-1)*this.perPage,this.to=this.from+this.perPage>this.total?this.total:this.from+this.perPage,this.searchFiltered.slice(this.from,this.to)}}),methods:{formatDate:function(t){return new Date(t).toLocaleString(this.$t("date.locale"),this.dateOptions)},loadForgots:function(){var t=this;this.isLoading=!0,o["a"].get("administration/forgots").then((function(e){t.isLoading=!1,!0===e.status&&(t.forgots=e.data)})).catch((function(){t.isLoading=!1,t.$notify("error",t.$t("profile.failed"),t.$t("forgot.load-error"),"la-user-shield",{duration:5e3,permanent:!1})}))},deleteForgot:function(t){var e=this;o["a"].post("administration/forgot/delete",{id:t}).then((function(t){e.isLoading=!1,!0===t.status&&(e.$notify("primary",e.$t("profile.success"),e.$t("forgot.delete-success"),"la-user-shield",{duration:5e3,permanent:!1}),e.loadForgots())})).catch((function(){e.isLoading=!1,e.$notify("error",e.$t("profile.failed"),e.$t("forgot.delete-error"),"la-user-shield",{duration:5e3,permanent:!1})}))},user:function(t){this.$router.push({name:"users",params:{editor:!0,id:t}})},searchForgot:function(t){0===t.length?this.search=null:this.search=t},printForgots:function(){document.getElementById("forgots").print()}},beforeMount:function(){this.loadForgots(),n["a"].$on("refresh",this.loadForgots),n["a"].$on("search",this.searchForgot),n["a"].$on("print",this.printForgots)},beforeDestroy:function(){n["a"].$off("refresh",this.loadForgots),n["a"].$off("search",this.searchForgot),n["a"].$off("print",this.printForgots)},watch:{from:function(t){n["a"].$emit("update-from",t)},to:function(t){n["a"].$emit("update-to",t)},total:function(t){n["a"].$emit("update-total",t)}}},c=u,d=a("2877"),f=Object(d["a"])(c,i,s,!1,null,null,null);e["default"]=f.exports},"17a2":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("erd-row",{staticClass:"m-0 p-0"},[t.isLoading?a("erd-spinner",{attrs:{size:"lg",overlay:"",absolute:""}}):t._e(),t.editor?t._e():a("erd-col",{attrs:{xl:"12",id:"subscriptions"}},[a("b-table",{attrs:{items:t.paged,fields:t.fields,striped:"",small:""},scopedSlots:t._u([{key:"cell(user_id)",fn:function(e){return[a("router-link",{attrs:{to:{name:"users",params:{editor:!0,id:e.item.user_id}}}},[t._v(t._s(e.item.user_id))])]}},{key:"cell(subscription_type)",fn:function(e){return[t._v(" "+t._s(t.$t("status."+e.item.subscription_type))+" ")]}},{key:"cell(enabled)",fn:function(e){return[a("erd-badge",{staticClass:"py-1",attrs:{variant:e.item.enabled?"success":"danger"}},[t._v(t._s(e.item.enabled?t.$t("general.yes"):t.$t("general.no")))])]}},{key:"cell(created)",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.item.created))+" ")]}},{key:"cell(last_updated)",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.item.last_updated))+" ")]}},{key:"cell(end_date)",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.item.end_date))+" ")]}},{key:"cell(actions)",fn:function(e){return[a("erd-button",{staticClass:"btn-table",attrs:{variant:"info"},on:{click:function(a){return t.user(e.item.user_id)}}},[a("i",{staticClass:"las la-user"})]),a("erd-button",{staticClass:"btn-table",attrs:{variant:"primary"},on:{click:function(a){return t.editSubscription(e.item)}}},[a("i",{staticClass:"las la-user-edit"})]),a("erd-button",{staticClass:"btn-table",attrs:{variant:"danger"},on:{click:function(a){return t.deleteSubscription(e.item.id)}}},[a("i",{staticClass:"las la-trash"})])]}}],null,!1,1926622696)}),a("b-pagination",{staticClass:"w-100 my-3",attrs:{size:"sm",align:"center","total-rows":t.total,"per-page":t.perPage},scopedSlots:t._u([{key:"next-text",fn:function(){return[a("i",{staticClass:"las la-angle-right"})]},proxy:!0},{key:"prev-text",fn:function(){return[a("i",{staticClass:"las la-angle-left"})]},proxy:!0},{key:"first-text",fn:function(){return[a("i",{staticClass:"las la-angle-double-left"})]},proxy:!0},{key:"last-text",fn:function(){return[a("i",{staticClass:"las la-angle-double-right"})]},proxy:!0}],null,!1,1414363887),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),t.editor?a("erd-col",{attrs:{xl:"12"}},[a("label",{attrs:{for:"subscription-type"}},[t._v(t._s(t.$t("subscriptions.type")))]),a("erd-select",{staticClass:"mt-1 mb-2 w-100",attrs:{id:"subscription-type",items:t.subscriptionTypes},model:{value:t.editorSubscription.subscription_type,callback:function(e){t.$set(t.editorSubscription,"subscription_type",e)},expression:"editorSubscription.subscription_type"}}),a("label",{attrs:{for:"subscription-type"}},[t._v(t._s(t.$t("subscriptions.playlist-type")))]),a("erd-select",{staticClass:"mt-1 mb-2 w-100",attrs:{id:"playlist-type",items:t.playlistTypes},model:{value:t.editorSubscription.playlist_type,callback:function(e){t.$set(t.editorSubscription,"playlist_type",e)},expression:"editorSubscription.playlist_type"}}),a("label",{attrs:{for:"enabled"}},[t._v(t._s(t.$t("subscriptions.enabled")))]),a("erd-select",{staticClass:"mt-1 mb-2 w-100",attrs:{id:"enabled",items:t.enabledTypes},model:{value:t.editorSubscription.enabled,callback:function(e){t.$set(t.editorSubscription,"enabled",e)},expression:"editorSubscription.enabled"}}),a("label",{attrs:{for:"custom"}},[t._v(t._s(t.$t("subscriptions.custom")))]),a("erd-select",{staticClass:"mt-1 mb-2 w-100",attrs:{id:"custom",items:t.enabledTypes},model:{value:t.editorSubscription.custom_plan,callback:function(e){t.$set(t.editorSubscription,"custom_plan",e)},expression:"editorSubscription.custom_plan"}}),t.editorSubscription&&1==t.editorSubscription.custom_plan?a("div",[a("label",{attrs:{for:"custom"}},[t._v(t._s(t.$t("subscriptions.max-playlists")))]),a("erd-input",{staticClass:"mt-1 mb-2 w-100",attrs:{type:"number"},model:{value:t.editorSubscription.max_playlist,callback:function(e){t.$set(t.editorSubscription,"max_playlist",e)},expression:"editorSubscription.max_playlist"}})],1):t._e(),null!==t.editorSubscription.end_date?a("label",{attrs:{for:"end-date"}},[t._v(t._s(t.$t("subscriptions.end_date")))]):t._e(),null!==t.editorSubscription.end_date?a("erd-calendar",{staticClass:"form-control mt-1 mb-2",attrs:{id:"end-date","date-locale":t.$t("date.locale")},model:{value:t.editorSubscription.end_date,callback:function(e){t.$set(t.editorSubscription,"end_date",e)},expression:"editorSubscription.end_date"}}):t._e()],1):t._e()],1)},s=[],r=a("5530"),n=(a("ac1f"),a("841c"),a("4d63"),a("25f0"),a("4de4"),a("466d"),a("fb6a"),a("7db0"),a("2ebf")),o=a("0dcc"),l=a("2f62"),u={data:function(){return{search:null,isLoading:!1,from:0,to:0,total:0,currentPage:1,editor:!1,editorSubscription:null,subscriptions:[],fields:[{key:"user_id",label:this.$t("users.id"),sortable:!0},{key:"subscription_type",label:this.$t("subscriptions.type"),sortable:!0},{key:"enabled",label:this.$t("subscriptions.enabled"),sortable:!0},{key:"created",label:this.$t("users.created"),sortable:!0},{key:"last_updated",label:this.$t("users.last-updated"),sortable:!0},{key:"end_date",label:this.$t("subscriptions.end_date"),sortable:!0},{key:"actions",label:this.$t("users.actions"),sortable:!1,thClass:"text-right",tdClass:"text-right"}],subscriptionTypes:[{value:0,text:this.$t("status.0")},{value:1,text:this.$t("status.1")},{value:2,text:this.$t("status.2")},{value:3,text:this.$t("status.3")},{value:4,text:this.$t("status.4")},{value:5,text:this.$t("status.5")},{value:1985,text:this.$t("status.1985")}],playlistTypes:[{value:0,text:this.$t("playlist-type.0")},{value:1,text:this.$t("playlist-type.1")},{value:2,text:this.$t("playlist-type.2")},{value:3,text:this.$t("playlist-type.3")}],enabledTypes:[{value:0,text:this.$t("general.no")},{value:1,text:this.$t("general.yes")}]}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])(["currentUser","settings"])),{},{perPage:function(){return this.settings.perPage},searchFiltered:function(){var t=this;if(null===this.search)return this.subscriptions;var e=new RegExp(this.search,"i");return this.subscriptions.filter((function(a){return String(a.subscription_type).match(e)||String(a.enabled).match(e)||String(a.user_id).match(e)||JSON.stringify(a.note).match(e)||String(a.end_date).match(e)||String(a.created).match(e)||String(a.last_updated).match(e)||t.formatDate(a.end_date).match(e)||t.formatDate(a.created).match(e)||t.formatDate(a.last_updated).match(e)}))},paged:function(){return this.total=this.searchFiltered.length,this.from=(this.currentPage-1)*this.perPage,this.to=this.from+this.perPage>this.total?this.total:this.from+this.perPage,this.searchFiltered.slice(this.from,this.to)}}),methods:{formatDate:function(t){return null==t||void 0==t?"-":new Date(t).toLocaleString(this.$t("date.locale"),this.dateOptions)},loadSubscriptions:function(){var t=this;this.isLoading=!0,o["a"].get("administration/subscriptions").then((function(e){t.isLoading=!1,!0===e.status&&(t.subscriptions=e.data)})).catch((function(){t.isLoading=!1,t.$notify("error",t.$t("profile.failed"),t.$t("subscriptions.load-error"),"la-user-shield",{duration:5e3,permanent:!1})}))},editSubscription:function(t){this.editorSubscription=Object.assign({},t),this.editorSubscription.end_date=null!=this.editorSubscription.end_date&&void 0!=this.editorSubscription.end_date?new Date(this.editorSubscription.end_date):null,this.editor=!0},saveSubscription:function(){var t=this;this.editor=!1;var e=Object.assign({},this.editorSubscription);e.last_updated=new Date,delete e.id,o["a"].post("administration/subscription/update",{id:this.editorSubscription.id,subscription:e}).then((function(e){t.isLoading=!1,!0===e.status&&(t.$notify("primary",t.$t("profile.success"),t.$t("subscriptions.save-success"),"la-user-shield",{duration:5e3,permanent:!1}),t.loadSubscriptions(),t.editor=!1)})).catch((function(){t.isLoading=!1,t.$notify("error",t.$t("profile.failed"),t.$t("subscriptions.save-error"),"la-user-shield",{duration:5e3,permanent:!1})}))},deleteSubscription:function(t){var e=this;o["a"].post("administration/subscription/delete",{id:t}).then((function(t){e.isLoading=!1,!0===t.status&&(e.$notify("primary",e.$t("profile.success"),e.$t("subscriptions.delete-success"),"la-user-shield",{duration:5e3,permanent:!1}),e.loadSubscriptions())})).catch((function(){e.isLoading=!1,e.$notify("error",e.$t("profile.failed"),e.$t("subscriptions.delete-error"),"la-user-shield",{duration:5e3,permanent:!1})}))},cancelSubscription:function(){this.editor=!1},user:function(t){this.$router.push({name:"users",params:{editor:!0,id:t}})},searchSubscription:function(t){0===t.length?this.search=null:this.search=t},printSubscriptions:function(){document.getElementById("subscriptions").print()}},beforeMount:function(){var t=this;this.$route.params.editor&&void 0!==this.$route.params.id?o["a"].get("administration/subscriptions").then((function(e){if(t.isLoading=!1,!0===e.status){t.subscriptions=e.data;var a=t.subscriptions.find((function(e){return e.user_id===t.$route.params.id}));a&&t.editSubscription(a)}})).catch((function(){t.isLoading=!1,t.$notify("error",t.$t("profile.failed"),t.$t("subscriptions.load-error"),"la-user-shield",{duration:5e3,permanent:!1})})):this.loadSubscriptions(),n["a"].$on("refresh",this.loadSubscriptions),n["a"].$on("save",this.saveSubscription),n["a"].$on("cancel",this.cancelSubscription),n["a"].$on("search",this.searchSubscription),n["a"].$on("print",this.printSubscriptions)},beforeDestroy:function(){n["a"].$off("refresh",this.loadSubscriptions),n["a"].$off("save",this.saveSubscription),n["a"].$off("cancel",this.cancelSubscription),n["a"].$off("search",this.searchSubscription),n["a"].$off("print",this.printSubscriptions)},watch:{from:function(t){n["a"].$emit("update-from",t)},to:function(t){n["a"].$emit("update-to",t)},total:function(t){n["a"].$emit("update-total",t)},editor:function(t){n["a"].$emit("update-editor",t)},"editorSubscription.subscription_type":function(t){1985===t.value||1985===t?this.editorSubscription.end_date=null:this.editorSubscription.end_date=null===this.editorSubscription.end_date?new Date:this.editorSubscription.end_date}}},c=u,d=a("2877"),f=Object(d["a"])(c,i,s,!1,null,null,null);e["default"]=f.exports},"3d18":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("erd-row",{staticClass:"m-0 p-0"},[t.isLoading?a("erd-spinner",{attrs:{size:"lg",overlay:"",absolute:""}}):t._e(),a("erd-col",{attrs:{xl:"12",id:"logins"}},[a("b-table",{attrs:{items:t.paged,fields:t.fields,striped:"",small:""},scopedSlots:t._u([{key:"cell(user_id)",fn:function(e){return[a("router-link",{attrs:{to:{name:"users",params:{editor:!0,id:e.item.user_id}}}},[t._v(t._s(e.item.user_id))])]}},{key:"cell(action)",fn:function(e){return[a("erd-badge",{staticClass:"py-1",attrs:{variant:1===e.item.action?"primary":"secondary"}},[t._v(t._s(t.$t("login-action."+e.item.action)))])]}},{key:"cell(status)",fn:function(e){return[a("erd-badge",{staticClass:"py-1",attrs:{variant:1===e.item.status?"success":"danger"}},[t._v(t._s(t.$t("login-status."+e.item.status)))])]}},{key:"cell(datetime)",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.item.datetime))+" ")]}},{key:"cell(ipaddress)",fn:function(e){return[a("a",{attrs:{target:"_blank",href:"https://whatismyipaddress.com/ip/"+e.item.ipaddress}},[t._v(t._s(e.item.ipaddress))])]}},{key:"cell(error)",fn:function(e){return[e.item.error?a("span",{domProps:{innerHTML:t._s(t.$t("login-status.error").format(e.item.error.username,e.item.error.password))}}):t._e()]}},{key:"cell(actions)",fn:function(e){return[a("erd-button",{staticClass:"btn-table",attrs:{variant:"info"},on:{click:function(a){return t.user(e.item.user_id)}}},[a("i",{staticClass:"las la-user"})]),a("erd-button",{staticClass:"btn-table",attrs:{variant:"danger"},on:{click:function(a){return t.deleteLogin(e.item.id)}}},[a("i",{staticClass:"las la-trash"})])]}}])}),a("b-pagination",{staticClass:"w-100 my-3",attrs:{size:"sm",align:"center","total-rows":t.total,"per-page":t.perPage},scopedSlots:t._u([{key:"next-text",fn:function(){return[a("i",{staticClass:"las la-angle-right"})]},proxy:!0},{key:"prev-text",fn:function(){return[a("i",{staticClass:"las la-angle-left"})]},proxy:!0},{key:"first-text",fn:function(){return[a("i",{staticClass:"las la-angle-double-left"})]},proxy:!0},{key:"last-text",fn:function(){return[a("i",{staticClass:"las la-angle-double-right"})]},proxy:!0}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},s=[],r=a("5530"),n=(a("ac1f"),a("841c"),a("4d63"),a("25f0"),a("4de4"),a("466d"),a("fb6a"),a("2ebf")),o=a("0dcc"),l=a("2f62"),u={data:function(){return{search:null,isLoading:!1,from:0,to:0,total:0,currentPage:1,logins:[],fields:[{key:"user_id",label:this.$t("users.id"),sortable:!0},{key:"action",label:this.$t("logins.action"),sortable:!0},{key:"status",label:this.$t("logins.status"),sortable:!0},{key:"datetime",label:this.$t("logins.datetime"),sortable:!0},{key:"ipaddress",label:this.$t("logins.ip-address"),sortable:!0},{key:"useragent",label:this.$t("logins.useragent"),sortable:!0},{key:"error",label:this.$t("logins.error"),sortable:!0},{key:"actions",label:this.$t("users.actions"),sortable:!1,thClass:"text-right",tdClass:"text-right"}],statusList:[{value:1,text:this.$t("user-status.1")},{value:2,text:this.$t("user-status.2")},{value:3,text:this.$t("user-status.3")},{value:4,text:this.$t("user-status.4")},{value:5,text:this.$t("user-status.5")}],roleList:[{value:1,text:this.$t("roles.1")},{value:2,text:this.$t("roles.2")},{value:3,text:this.$t("roles.3")},{value:4,text:this.$t("roles.4")},{value:5,text:this.$t("roles.5")},{value:1985,text:this.$t("roles.1985")}]}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])(["currentUser","settings"])),{},{perPage:function(){return this.settings.perPage},searchFiltered:function(){var t=this;if(null===this.search)return this.logins;var e=new RegExp(this.search,"i");return this.logins.filter((function(a){return String(a.user_id).match(e)||String(a.datetime).match(e)||t.formatDate(a.datetime).match(e)||String(a.ipaddress).match(e)||String(a.useragent).match(e)||String(a.error).match(e)||t.$t("login-action.".concat(a.action)).match(e)||t.$t("login-status.".concat(a.status)).match(e)}))},paged:function(){return this.total=this.searchFiltered.length,this.from=(this.currentPage-1)*this.perPage,this.to=this.from+this.perPage>this.total?this.total:this.from+this.perPage,this.searchFiltered.slice(this.from,this.to)}}),methods:{formatDate:function(t){return new Date(t).toLocaleString(this.$t("date.locale"),this.dateOptions)},loadLogins:function(){var t=this;this.isLoading=!0,o["a"].get("administration/logins").then((function(e){t.isLoading=!1,!0===e.status&&(t.logins=e.data)})).catch((function(){t.isLoading=!1,t.$notify("error",t.$t("profile.failed"),t.$t("logins.load-error"),"la-user-shield",{duration:5e3,permanent:!1})}))},deleteLogin:function(t){var e=this;o["a"].post("administration/login/delete",{id:t}).then((function(t){e.isLoading=!1,!0===t.status&&(e.$notify("primary",e.$t("profile.success"),e.$t("logins.delete-success"),"la-user-shield",{duration:5e3,permanent:!1}),e.loadLogins())})).catch((function(){e.isLoading=!1,e.$notify("error",e.$t("profile.failed"),e.$t("logins.delete-error"),"la-user-shield",{duration:5e3,permanent:!1})}))},user:function(t){this.$router.push({name:"users",params:{editor:!0,id:t}})},searchLogin:function(t){0===t.length?this.search=null:this.search=t},printLogins:function(){document.getElementById("logins").print()}},beforeMount:function(){this.loadLogins(),n["a"].$on("refresh",this.loadLogins),n["a"].$on("search",this.searchLogin),n["a"].$on("print",this.printLogins)},beforeDestroy:function(){n["a"].$off("refresh",this.loadLogins),n["a"].$off("search",this.searchLogin),n["a"].$off("print",this.printLogins)},watch:{from:function(t){n["a"].$emit("update-from",t)},to:function(t){n["a"].$emit("update-to",t)},total:function(t){n["a"].$emit("update-total",t)}}},c=u,d=a("2877"),f=Object(d["a"])(c,i,s,!1,null,null,null);e["default"]=f.exports},"4fab":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("erd-row",{staticClass:"m-0 p-0"},[t.isLoading?a("erd-spinner",{attrs:{size:"lg",overlay:"",absolute:""}}):t._e(),t.editor?t._e():a("erd-col",{attrs:{xl:"12",id:"users"}},[a("b-table",{attrs:{items:t.paged,fields:t.fields,striped:"",small:""},scopedSlots:t._u([{key:"cell(created)",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.item.created))+" ")]}},{key:"cell(last_updated)",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.item.last_updated))+" ")]}},{key:"cell(username)",fn:function(e){return[a("span",{staticClass:"text-capitalize"},[t._v(t._s(e.item.username))])]}},{key:"cell(status)",fn:function(e){return[t._v(" "+t._s(t.$t("user-status."+e.item.status))+" ")]}},{key:"cell(role)",fn:function(e){return[t._v(" "+t._s(t.$t("roles."+e.item.role))+" ")]}},{key:"cell(actions)",fn:function(e){return[a("erd-button",{staticClass:"btn-table",attrs:{variant:"info"},on:{click:function(a){return t.userSubscription(e.item.id)}}},[a("i",{staticClass:"las la-user-tag"})]),a("erd-button",{staticClass:"btn-table",attrs:{variant:"info"},on:{click:function(a){return t.userProfile(e.item.id)}}},[a("i",{staticClass:"las la-user"})]),a("erd-button",{staticClass:"btn-table",attrs:{variant:"primary"},on:{click:function(a){return t.editUser(e.item)}}},[a("i",{staticClass:"las la-user-edit"})]),a("erd-button",{staticClass:"btn-table",attrs:{variant:"danger"},on:{click:function(a){return t.deleteUser(e.item.id)}}},[a("i",{staticClass:"las la-trash"})])]}}],null,!1,3622588094)}),a("b-pagination",{staticClass:"w-100 my-3",attrs:{size:"sm",align:"center","total-rows":t.total,"per-page":t.perPage},scopedSlots:t._u([{key:"next-text",fn:function(){return[a("i",{staticClass:"las la-angle-right"})]},proxy:!0},{key:"prev-text",fn:function(){return[a("i",{staticClass:"las la-angle-left"})]},proxy:!0},{key:"first-text",fn:function(){return[a("i",{staticClass:"las la-angle-double-left"})]},proxy:!0},{key:"last-text",fn:function(){return[a("i",{staticClass:"las la-angle-double-right"})]},proxy:!0}],null,!1,1414363887),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),t.editor?a("erd-col",{attrs:{xl:"12"}},[a("label",{attrs:{for:"username"}},[t._v(t._s(t.$t("users.username")))]),a("erd-input",{staticClass:"mt-1 mb-2 w-100",attrs:{id:"username",placeholder:t.$t("users.username")},model:{value:t.editorUser.username,callback:function(e){t.$set(t.editorUser,"username",e)},expression:"editorUser.username"}}),a("label",{attrs:{for:"password"}},[t._v(t._s(t.$t("users.password")))]),a("erd-input",{staticClass:"mt-1 mb-2 w-100",attrs:{id:"password",placeholder:t.$t("users.password")},model:{value:t.editorUser.password,callback:function(e){t.$set(t.editorUser,"password",e)},expression:"editorUser.password"}}),a("label",{attrs:{for:"status"}},[t._v(t._s(t.$t("users.status")))]),a("erd-select",{staticClass:"mt-1 mb-2 w-100",attrs:{id:"status",items:t.statusList},model:{value:t.editorUser.status,callback:function(e){t.$set(t.editorUser,"status",e)},expression:"editorUser.status"}}),a("label",{attrs:{for:"role"}},[t._v(t._s(t.$t("users.role")))]),a("erd-select",{staticClass:"mt-1 mb-2 w-100",attrs:{id:"role",items:t.filteredRoleList},model:{value:t.editorUser.role,callback:function(e){t.$set(t.editorUser,"role",e)},expression:"editorUser.role"}})],1):t._e()],1)},s=[],r=a("2909"),n=a("5530"),o=(a("ac1f"),a("841c"),a("4d63"),a("25f0"),a("4de4"),a("466d"),a("fb6a"),a("d81d"),a("7db0"),a("2ebf")),l=a("0dcc"),u=a("2f62"),c={data:function(){return{search:null,isLoading:!1,from:0,to:0,total:0,currentPage:1,editor:!1,editorUser:null,users:[],fields:[{key:"id",label:this.$t("users.id"),sortable:!0},{key:"username",label:this.$t("users.username"),sortable:!0},{key:"status",label:this.$t("users.status"),sortable:!0},{key:"role",label:this.$t("users.role"),sortable:!0},{key:"created",label:this.$t("users.created"),sortable:!0},{key:"last_updated",label:this.$t("users.last-updated"),sortable:!0},{key:"actions",label:this.$t("users.actions"),sortable:!1,thClass:"text-right",tdClass:"text-right"}],statusList:[{value:1,text:this.$t("user-status.1")},{value:2,text:this.$t("user-status.2")},{value:3,text:this.$t("user-status.3")},{value:4,text:this.$t("user-status.4")},{value:5,text:this.$t("user-status.5")}],roleList:[{value:1,text:this.$t("roles.1")},{value:2,text:this.$t("roles.2")},{value:3,text:this.$t("roles.3")},{value:4,text:this.$t("roles.4")},{value:5,text:this.$t("roles.5")},{value:1985,text:this.$t("roles.1985")}]}},computed:Object(n["a"])(Object(n["a"])({},Object(u["c"])(["currentUser","settings"])),{},{perPage:function(){return this.settings.perPage},searchFiltered:function(){var t=this;if(null===this.search)return this.users;var e=new RegExp(this.search,"i");return this.users.filter((function(a){return String(a.id).match(e)||String(a.username).match(e)||String(a.created).match(e)||String(a.last_updated).match(e)||t.formatDate(a.created).match(e)||t.formatDate(a.last_updated).match(e)}))},paged:function(){return this.total=this.searchFiltered.length,this.from=(this.currentPage-1)*this.perPage,this.to=this.from+this.perPage>this.total?this.total:this.from+this.perPage,this.searchFiltered.slice(this.from,this.to)},filteredRoleList:function(){var t=this,e=Object(r["a"])(this.roleList);return e.map((function(e){1985===t.currentUser.user.role?e.disabled=!1:1985===e.value?e.disabled=!0:e.disabled=e.value<=t.currentUser.user.role})),e}}),methods:{updatePerPage:function(t){this.perPage=t},formatDate:function(t){return new Date(t).toLocaleString(this.$t("date.locale"),this.dateOptions)},loadUsers:function(){var t=this;this.isLoading=!0,l["a"].get("administration/users").then((function(e){t.isLoading=!1,!0===e.status&&(t.users=e.data)})).catch((function(){t.isLoading=!1,t.$notify("error",t.$t("profile.failed"),t.$t("users.load-error"),"la-user-shield",{duration:5e3,permanent:!1})}))},editUser:function(t){this.editorUser=Object.assign({},t),this.editor=!0},saveUser:function(){var t=this;this.editor=!1;var e=Object.assign({},this.editorUser);delete e.id,l["a"].post("administration/user/update",{id:this.editorUser.id,user:e}).then((function(e){t.isLoading=!1,!0===e.status&&(t.$notify("primary",t.$t("profile.success"),t.$t("users.save-success"),"la-user-shield",{duration:5e3,permanent:!1}),t.loadUsers(),t.editor=!1)})).catch((function(){t.isLoading=!1,t.$notify("error",t.$t("profile.failed"),t.$t("users.save-error"),"la-user-shield",{duration:5e3,permanent:!1})}))},deleteUser:function(t){var e=this;l["a"].post("administration/user/delete",{id:t}).then((function(t){e.isLoading=!1,!0===t.status&&(e.$notify("primary",e.$t("profile.success"),e.$t("users.delete-success"),"la-user-shield",{duration:5e3,permanent:!1}),e.loadUsers())})).catch((function(){e.isLoading=!1,e.$notify("error",e.$t("profile.failed"),e.$t("users.delete-error"),"la-user-shield",{duration:5e3,permanent:!1})}))},cancelUser:function(){this.editor=!1},userProfile:function(t){this.$router.push({name:"profiles",params:{editor:!0,id:t}})},userSubscription:function(t){this.$router.push({name:"subscriptions",params:{editor:!0,id:t}})},searchUser:function(t){0===t.length?this.search=null:this.search=t},printUsers:function(){document.getElementById("users").print()}},beforeMount:function(){var t=this;this.$route.params.editor&&void 0!==this.$route.params.id?l["a"].get("administration/users").then((function(e){if(t.isLoading=!1,!0===e.status){t.users=e.data;var a=t.users.find((function(e){return e.id===t.$route.params.id}));a&&t.editUser(a)}})).catch((function(){t.isLoading=!1,t.$notify("error",t.$t("profile.failed"),t.$t("users.load-error"),"la-user-shield",{duration:5e3,permanent:!1})})):this.loadUsers(),o["a"].$on("refresh",this.loadUsers),o["a"].$on("save",this.saveUser),o["a"].$on("cancel",this.cancelUser),o["a"].$on("search",this.searchUser),o["a"].$on("print",this.printUsers)},beforeDestroy:function(){o["a"].$off("refresh",this.loadUsers),o["a"].$off("save",this.saveUser),o["a"].$off("cancel",this.cancelUser),o["a"].$off("search",this.searchUser),o["a"].$off("print",this.printUsers)},watch:{from:function(t){o["a"].$emit("update-from",t)},to:function(t){o["a"].$emit("update-to",t)},total:function(t){o["a"].$emit("update-total",t)},editor:function(t){o["a"].$emit("update-editor",t)}}},d=c,f=a("2877"),h=Object(f["a"])(d,i,s,!1,null,null,null);e["default"]=h.exports},5998:function(t,e,a){},cbe2:function(t,e,a){"use strict";a("5998")},ddee:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("erd-row",{staticClass:"m-0 p-0"},[t.isLoading?a("erd-spinner",{attrs:{size:"lg",overlay:"",absolute:""}}):t._e(),t.editor?t._e():a("erd-col",{attrs:{xl:"12",id:"profiles"}},[a("b-table",{attrs:{items:t.paged,fields:t.fields,striped:"",small:""},scopedSlots:t._u([{key:"cell(user_id)",fn:function(e){return[a("router-link",{attrs:{to:{name:"users",params:{editor:!0,id:e.item.user_id}}}},[t._v(t._s(e.item.user_id))])]}},{key:"cell(email)",fn:function(e){return[a("a",{attrs:{href:"mailto:"+e.item.email}},[t._v(t._s(e.item.email))])]}},{key:"cell(phone)",fn:function(e){return[a("a",{attrs:{href:"tel:"+e.item.phone}},[t._v(t._s(e.item.phone))])]}},{key:"cell(gender)",fn:function(e){return[t._v(" "+t._s(t.$t("profile."+e.item.gender.toLowerCase()))+" ")]}},{key:"cell(actions)",fn:function(e){return[a("erd-button",{staticClass:"btn-table",attrs:{variant:"info"},on:{click:function(a){return t.user(e.item.user_id)}}},[a("i",{staticClass:"las la-user"})]),a("erd-button",{staticClass:"btn-table",attrs:{variant:"primary"},on:{click:function(a){return t.editProfile(e.item)}}},[a("i",{staticClass:"las la-user-edit"})]),a("erd-button",{staticClass:"btn-table",attrs:{variant:"danger"},on:{click:function(a){return t.deleteProfile(e.item.id)}}},[a("i",{staticClass:"las la-trash"})])]}}],null,!1,2786221843)}),a("b-pagination",{staticClass:"w-100 my-3",attrs:{size:"sm",align:"center","total-rows":t.total,"per-page":t.perPage},scopedSlots:t._u([{key:"next-text",fn:function(){return[a("i",{staticClass:"las la-angle-right"})]},proxy:!0},{key:"prev-text",fn:function(){return[a("i",{staticClass:"las la-angle-left"})]},proxy:!0},{key:"first-text",fn:function(){return[a("i",{staticClass:"las la-angle-double-left"})]},proxy:!0},{key:"last-text",fn:function(){return[a("i",{staticClass:"las la-angle-double-right"})]},proxy:!0}],null,!1,1414363887),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),t.editor?a("erd-col",{attrs:{xl:"12"}},[a("label",{attrs:{for:"name_first"}},[t._v(t._s(t.$t("profiles.name_first")))]),a("erd-input",{staticClass:"mt-1 mb-2 w-100",attrs:{id:"name_first",placeholder:t.$t("profiles.name_first")},model:{value:t.editorProfile.name_first,callback:function(e){t.$set(t.editorProfile,"name_first",e)},expression:"editorProfile.name_first"}}),a("label",{attrs:{for:"name_last"}},[t._v(t._s(t.$t("profiles.name_last")))]),a("erd-input",{staticClass:"mt-1 mb-2 w-100",attrs:{id:"name_last",placeholder:t.$t("profiles.name_last")},model:{value:t.editorProfile.name_last,callback:function(e){t.$set(t.editorProfile,"name_last",e)},expression:"editorProfile.name_last"}}),a("label",{attrs:{for:"gender"}},[t._v(t._s(t.$t("profiles.gender")))]),a("erd-select",{staticClass:"w-100 mt-1 mb-2",attrs:{id:"gender",items:t.genders},model:{value:t.editorProfile.gender,callback:function(e){t.$set(t.editorProfile,"gender",e)},expression:"editorProfile.gender"}}),a("label",{attrs:{for:"address"}},[t._v(t._s(t.$t("profiles.address")))]),a("erd-input",{staticClass:"mt-1 mb-2 w-100",attrs:{id:"address",placeholder:t.$t("profiles.address")},model:{value:t.editorProfile.address,callback:function(e){t.$set(t.editorProfile,"address",e)},expression:"editorProfile.address"}}),a("label",{attrs:{for:"city"}},[t._v(t._s(t.$t("profiles.city")))]),a("erd-input",{staticClass:"mt-1 mb-2 w-100",attrs:{id:"city",placeholder:t.$t("profiles.city")},model:{value:t.editorProfile.city,callback:function(e){t.$set(t.editorProfile,"city",e)},expression:"editorProfile.city"}}),a("label",{attrs:{for:"zipcode"}},[t._v(t._s(t.$t("profiles.zipcode")))]),a("erd-input",{staticClass:"mt-1 mb-2 w-100",attrs:{id:"zipcode",placeholder:t.$t("profiles.zipcode")},model:{value:t.editorProfile.zipcode,callback:function(e){t.$set(t.editorProfile,"zipcode",e)},expression:"editorProfile.zipcode"}}),a("label",{attrs:{for:"country"}},[t._v(t._s(t.$t("profiles.country")))]),a("erd-select",{staticClass:"w-100 mt-1 mb-2",attrs:{id:"country",items:t.countries},model:{value:t.editorProfile.country,callback:function(e){t.$set(t.editorProfile,"country",e)},expression:"editorProfile.country"}}),a("label",{attrs:{for:"phone"}},[t._v(t._s(t.$t("profiles.phone")))]),a("erd-input",{staticClass:"mt-1 mb-2 w-100",attrs:{id:"phone",placeholder:t.$t("profiles.phone")},model:{value:t.editorProfile.phone,callback:function(e){t.$set(t.editorProfile,"phone",e)},expression:"editorProfile.phone"}}),a("label",{attrs:{for:"email"}},[t._v(t._s(t.$t("profiles.email")))]),a("erd-input",{staticClass:"mt-1 mb-2 w-100",attrs:{id:"email",placeholder:t.$t("profiles.email")},model:{value:t.editorProfile.email,callback:function(e){t.$set(t.editorProfile,"email",e)},expression:"editorProfile.email"}})],1):t._e()],1)},s=[],r=a("5530"),n=(a("ac1f"),a("841c"),a("4d63"),a("25f0"),a("4de4"),a("466d"),a("fb6a"),a("7db0"),a("2ebf")),o=a("0dcc"),l=a("2f62"),u={data:function(){return{search:null,isLoading:!1,from:0,to:0,total:0,currentPage:1,editor:!1,editorProfile:null,profiles:[],fields:[{key:"user_id",label:this.$t("profiles.user_id"),sortable:!0},{key:"name_first",label:this.$t("profiles.name_first"),sortable:!0},{key:"name_last",label:this.$t("profiles.name_last"),sortable:!0},{key:"address",label:this.$t("profiles.address"),sortable:!0},{key:"country",label:this.$t("profiles.country"),sortable:!0},{key:"city",label:this.$t("profiles.city"),sortable:!0},{key:"zipcode",label:this.$t("profiles.zipcode"),sortable:!0},{key:"phone",label:this.$t("profiles.phone"),sortable:!0},{key:"email",label:this.$t("profiles.email"),sortable:!0},{key:"gender",label:this.$t("profiles.gender"),sortable:!0},{key:"actions",label:this.$t("users.actions"),sortable:!1,thClass:"text-right",tdClass:"text-right"}],countries:[{text:"Afghanistan",value:"AF"},{text:"Ã…land Islands",value:"AX"},{text:"Albania",value:"AL"},{text:"Algeria",value:"DZ"},{text:"American Samoa",value:"AS"},{text:"AndorrA",value:"AD"},{text:"Angola",value:"AO"},{text:"Anguilla",value:"AI"},{text:"Antarctica",value:"AQ"},{text:"Antigua and Barbuda",value:"AG"},{text:"Argentina",value:"AR"},{text:"Armenia",value:"AM"},{text:"Aruba",value:"AW"},{text:"Australia",value:"AU"},{text:"Austria",value:"AT"},{text:"Azerbaijan",value:"AZ"},{text:"Bahamas",value:"BS"},{text:"Bahrain",value:"BH"},{text:"Bangladesh",value:"BD"},{text:"Barbados",value:"BB"},{text:"Belarus",value:"BY"},{text:"Belgium",value:"BE"},{text:"Belize",value:"BZ"},{text:"Benin",value:"BJ"},{text:"Bermuda",value:"BM"},{text:"Bhutan",value:"BT"},{text:"Bolivia",value:"BO"},{text:"Bosnia and Herzegovina",value:"BA"},{text:"Botswana",value:"BW"},{text:"Bouvet Island",value:"BV"},{text:"Brazil",value:"BR"},{text:"British Indian Ocean Territory",value:"IO"},{text:"Brunei Darussalam",value:"BN"},{text:"Bulgaria",value:"BG"},{text:"Burkina Faso",value:"BF"},{text:"Burundi",value:"BI"},{text:"Cambodia",value:"KH"},{text:"Cameroon",value:"CM"},{text:"Canada",value:"CA"},{text:"Cape Verde",value:"CV"},{text:"Cayman Islands",value:"KY"},{text:"Central African Republic",value:"CF"},{text:"Chad",value:"TD"},{text:"Chile",value:"CL"},{text:"China",value:"CN"},{text:"Christmas Island",value:"CX"},{text:"Cocos (Keeling) Islands",value:"CC"},{text:"Colombia",value:"CO"},{text:"Comoros",value:"KM"},{text:"Congo",value:"CG"},{text:"Congo, The Democratic Republic of the",value:"CD"},{text:"Cook Islands",value:"CK"},{text:"Costa Rica",value:"CR"},{text:"Cote D'Ivoire",value:"CI"},{text:"Croatia",value:"HR"},{text:"Cuba",value:"CU"},{text:"Cyprus",value:"CY"},{text:"Czech Republic",value:"CZ"},{text:"Denmark",value:"DK"},{text:"Djibouti",value:"DJ"},{text:"Dominica",value:"DM"},{text:"Dominican Republic",value:"DO"},{text:"Ecuador",value:"EC"},{text:"Egypt",value:"EG"},{text:"El Salvador",value:"SV"},{text:"Equatorial Guinea",value:"GQ"},{text:"Eritrea",value:"ER"},{text:"Estonia",value:"EE"},{text:"Ethiopia",value:"ET"},{text:"Falkland Islands (Malvinas)",value:"FK"},{text:"Faroe Islands",value:"FO"},{text:"Fiji",value:"FJ"},{text:"Finland",value:"FI"},{text:"France",value:"FR"},{text:"French Guiana",value:"GF"},{text:"French Polynesia",value:"PF"},{text:"French Southern Territories",value:"TF"},{text:"Gabon",value:"GA"},{text:"Gambia",value:"GM"},{text:"Georgia",value:"GE"},{text:"Germany",value:"DE"},{text:"Ghana",value:"GH"},{text:"Gibraltar",value:"GI"},{text:"Greece",value:"GR"},{text:"Greenland",value:"GL"},{text:"Grenada",value:"GD"},{text:"Guadeloupe",value:"GP"},{text:"Guam",value:"GU"},{text:"Guatemala",value:"GT"},{text:"Guernsey",value:"GG"},{text:"Guinea",value:"GN"},{text:"Guinea-Bissau",value:"GW"},{text:"Guyana",value:"GY"},{text:"Haiti",value:"HT"},{text:"Heard Island and Mcdonald Islands",value:"HM"},{text:"Holy See (Vatican City State)",value:"VA"},{text:"Honduras",value:"HN"},{text:"Hong Kong",value:"HK"},{text:"Hungary",value:"HU"},{text:"Iceland",value:"IS"},{text:"India",value:"IN"},{text:"Indonesia",value:"ID"},{text:"Iran, Islamic Republic Of",value:"IR"},{text:"Iraq",value:"IQ"},{text:"Ireland",value:"IE"},{text:"Isle of Man",value:"IM"},{text:"Israel",value:"IL"},{text:"Italy",value:"IT"},{text:"Jamaica",value:"JM"},{text:"Japan",value:"JP"},{text:"Jersey",value:"JE"},{text:"Jordan",value:"JO"},{text:"Kazakhstan",value:"KZ"},{text:"Kenya",value:"KE"},{text:"Kiribati",value:"KI"},{text:"Korea, Democratic People'S Republic of",value:"KP"},{text:"Korea, Republic of",value:"KR"},{text:"Kuwait",value:"KW"},{text:"Kyrgyzstan",value:"KG"},{text:"Lao People'S Democratic Republic",value:"LA"},{text:"Latvia",value:"LV"},{text:"Lebanon",value:"LB"},{text:"Lesotho",value:"LS"},{text:"Liberia",value:"LR"},{text:"Libyan Arab Jamahiriya",value:"LY"},{text:"Liechtenstein",value:"LI"},{text:"Lithuania",value:"LT"},{text:"Luxembourg",value:"LU"},{text:"Macao",value:"MO"},{text:"Macedonia, The Former Yugoslav Republic of",value:"MK"},{text:"Madagascar",value:"MG"},{text:"Malawi",value:"MW"},{text:"Malaysia",value:"MY"},{text:"Maldives",value:"MV"},{text:"Mali",value:"ML"},{text:"Malta",value:"MT"},{text:"Marshall Islands",value:"MH"},{text:"Martinique",value:"MQ"},{text:"Mauritania",value:"MR"},{text:"Mauritius",value:"MU"},{text:"Mayotte",value:"YT"},{text:"Mexico",value:"MX"},{text:"Micronesia, Federated States of",value:"FM"},{text:"Moldova, Republic of",value:"MD"},{text:"Monaco",value:"MC"},{text:"Mongolia",value:"MN"},{text:"Montserrat",value:"MS"},{text:"Morocco",value:"MA"},{text:"Mozambique",value:"MZ"},{text:"Myanmar",value:"MM"},{text:"Namibia",value:"NA"},{text:"Nauru",value:"NR"},{text:"Nepal",value:"NP"},{text:"Netherlands",value:"NL"},{text:"Netherlands Antilles",value:"AN"},{text:"New Caledonia",value:"NC"},{text:"New Zealand",value:"NZ"},{text:"Nicaragua",value:"NI"},{text:"Niger",value:"NE"},{text:"Nigeria",value:"NG"},{text:"Niue",value:"NU"},{text:"Norfolk Island",value:"NF"},{text:"Northern Mariana Islands",value:"MP"},{text:"Norway",value:"NO"},{text:"Oman",value:"OM"},{text:"Pakistan",value:"PK"},{text:"Palau",value:"PW"},{text:"Palestinian Territory, Occupied",value:"PS"},{text:"Panama",value:"PA"},{text:"Papua New Guinea",value:"PG"},{text:"Paraguay",value:"PY"},{text:"Peru",value:"PE"},{text:"Philippines",value:"PH"},{text:"Pitcairn",value:"PN"},{text:"Poland",value:"PL"},{text:"Portugal",value:"PT"},{text:"Puerto Rico",value:"PR"},{text:"Qatar",value:"QA"},{text:"Reunion",value:"RE"},{text:"Romania",value:"RO"},{text:"Russian Federation",value:"RU"},{text:"RWANDA",value:"RW"},{text:"Saint Helena",value:"SH"},{text:"Saint Kitts and Nevis",value:"KN"},{text:"Saint Lucia",value:"LC"},{text:"Saint Pierre and Miquelon",value:"PM"},{text:"Saint Vincent and the Grenadines",value:"VC"},{text:"Samoa",value:"WS"},{text:"San Marino",value:"SM"},{text:"Sao Tome and Principe",value:"ST"},{text:"Saudi Arabia",value:"SA"},{text:"Senegal",value:"SN"},{text:"Serbia and Montenegro",value:"CS"},{text:"Seychelles",value:"SC"},{text:"Sierra Leone",value:"SL"},{text:"Singapore",value:"SG"},{text:"Slovakia",value:"SK"},{text:"Slovenia",value:"SI"},{text:"Solomon Islands",value:"SB"},{text:"Somalia",value:"SO"},{text:"South Africa",value:"ZA"},{text:"South Georgia and the South Sandwich Islands",value:"GS"},{text:"Spain",value:"ES"},{text:"Sri Lanka",value:"LK"},{text:"Sudan",value:"SD"},{text:"Suriname",value:"SR"},{text:"Svalbard and Jan Mayen",value:"SJ"},{text:"Swaziland",value:"SZ"},{text:"Sweden",value:"SE"},{text:"Switzerland",value:"CH"},{text:"Syrian Arab Republic",value:"SY"},{text:"Taiwan, Province of China",value:"TW"},{text:"Tajikistan",value:"TJ"},{text:"Tanzania, United Republic of",value:"TZ"},{text:"Thailand",value:"TH"},{text:"Timor-Leste",value:"TL"},{text:"Togo",value:"TG"},{text:"Tokelau",value:"TK"},{text:"Tonga",value:"TO"},{text:"Trinidad and Tobago",value:"TT"},{text:"Tunisia",value:"TN"},{text:"Turkey",value:"TR"},{text:"Turkmenistan",value:"TM"},{text:"Turks and Caicos Islands",value:"TC"},{text:"Tuvalu",value:"TV"},{text:"Uganda",value:"UG"},{text:"Ukraine",value:"UA"},{text:"United Arab Emirates",value:"AE"},{text:"United Kingdom",value:"GB"},{text:"United States",value:"US"},{text:"United States Minor Outlying Islands",value:"UM"},{text:"Uruguay",value:"UY"},{text:"Uzbekistan",value:"UZ"},{text:"Vanuatu",value:"VU"},{text:"Venezuela",value:"VE"},{text:"Viet Nam",value:"VN"},{text:"Virgin Islands, British",value:"VG"},{text:"Virgin Islands, U.S.",value:"VI"},{text:"Wallis and Futuna",value:"WF"},{text:"Western Sahara",value:"EH"},{text:"Yemen",value:"YE"},{text:"Zambia",value:"ZM"},{text:"Zimbabwe",value:"ZW"}]}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])(["currentUser","settings"])),{},{perPage:function(){return this.settings.perPage},searchFiltered:function(){if(null===this.search)return this.profiles;var t=new RegExp(this.search,"i");return this.profiles.filter((function(e){return String(e.user_id).match(t)||String(e.name_first).match(t)||String(e.name_last).match(t)||String(e.address).match(t)||String(e.country).match(t)||String(e.city).match(t)||String(e.zipcode).match(t)||String(e.phone).match(t)||String(e.email).match(t)||String(e.gender).match(t)||String(e.tags).match(t)}))},paged:function(){return this.total=this.searchFiltered.length,this.from=(this.currentPage-1)*this.perPage,this.to=this.from+this.perPage>this.total?this.total:this.from+this.perPage,this.searchFiltered.slice(this.from,this.to)},genders:function(){return[{text:this.$t("profile.male"),value:"Male"},{text:this.$t("profile.female"),value:"Female"},{text:this.$t("profile.transgender"),value:"Transgender"},{text:this.$t("profile.non-binary"),value:"Non Binary"},{text:this.$t("profile.gender-fluid"),value:"Gender Fluid"},{text:this.$t("profile.gender-neutral"),value:"Gender Neutral"},{text:this.$t("profile.other"),value:"Other"},{text:this.$t("profile.neutral"),value:"Neutral"}]}}),methods:{formatDate:function(t){return new Date(t).toLocaleString(this.$t("date.locale"),this.dateOptions)},loadProfiles:function(){var t=this;this.isLoading=!0,o["a"].get("administration/profiles").then((function(e){t.isLoading=!1,!0===e.status&&(t.profiles=e.data)})).catch((function(){t.isLoading=!1,t.$notify("error",t.$t("profile.failed"),t.$t("profiles.load-error"),"la-user-shield",{duration:5e3,permanent:!1})}))},editProfile:function(t){this.editorProfile=Object.assign({},t),this.editor=!0},saveProfile:function(){var t=this;this.editor=!1;var e=Object.assign({},this.editorProfile);e.last_updated=new Date,delete e.id,o["a"].post("administration/profile/update",{id:this.editorProfile.id,profile:e}).then((function(e){t.isLoading=!1,!0===e.status&&(t.$notify("primary",t.$t("profile.success"),t.$t("profiles.save-success"),"la-user-shield",{duration:5e3,permanent:!1}),t.loadProfiles(),t.editor=!1)})).catch((function(){t.isLoading=!1,t.$notify("error",t.$t("profile.failed"),t.$t("profiles.save-error"),"la-user-shield",{duration:5e3,permanent:!1})}))},deleteProfile:function(t){var e=this;o["a"].post("administration/profile/delete",{id:t}).then((function(t){e.isLoading=!1,!0===t.status&&(e.$notify("primary",e.$t("profile.success"),e.$t("profiles.delete-success"),"la-user-shield",{duration:5e3,permanent:!1}),e.loadProfiles())})).catch((function(){e.isLoading=!1,e.$notify("error",e.$t("profile.failed"),e.$t("profiles.delete-error"),"la-user-shield",{duration:5e3,permanent:!1})}))},cancelProfile:function(){this.editor=!1},user:function(t){this.$router.push({name:"users",params:{editor:!0,id:t}})},searchProfile:function(t){0===t.length?this.search=null:this.search=t},printProfiles:function(){document.getElementById("profiles").print()}},beforeMount:function(){var t=this;this.$route.params.editor&&void 0!==this.$route.params.id?o["a"].get("administration/profiles").then((function(e){if(t.isLoading=!1,!0===e.status){t.profiles=e.data;var a=t.profiles.find((function(e){return e.user_id===t.$route.params.id}));a&&t.editProfile(a)}})).catch((function(){t.isLoading=!1,t.$notify("error",t.$t("profile.failed"),t.$t("profiles.load-error"),"la-user-shield",{duration:5e3,permanent:!1})})):this.loadProfiles(),n["a"].$on("refresh",this.loadProfiles),n["a"].$on("save",this.saveProfile),n["a"].$on("cancel",this.cancelProfile),n["a"].$on("search",this.searchProfile),n["a"].$on("print",this.printProfiles)},beforeDestroy:function(){n["a"].$off("refresh",this.loadProfiles),n["a"].$off("save",this.saveProfile),n["a"].$off("cancel",this.cancelProfile),n["a"].$off("search",this.searchProfile),n["a"].$off("print",this.printProfiles)},watch:{from:function(t){n["a"].$emit("update-from",t)},to:function(t){n["a"].$emit("update-to",t)},total:function(t){n["a"].$emit("update-total",t)},editor:function(t){n["a"].$emit("update-editor",t)}}},c=u,d=a("2877"),f=Object(d["a"])(c,i,s,!1,null,null,null);e["default"]=f.exports},e2ec:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("erd-row",{staticClass:"m-0 p-0"},[t.isLoading?a("erd-spinner",{attrs:{size:"lg",overlay:"",absolute:""}}):t._e(),a("erd-col",{attrs:{xl:"12",id:"confirms"}},[a("b-table",{attrs:{items:t.paged,fields:t.fields,striped:"",small:""},scopedSlots:t._u([{key:"cell(user_id)",fn:function(e){return[a("router-link",{attrs:{to:{name:"users",params:{editor:!0,id:e.item.user_id}}}},[t._v(t._s(e.item.user_id))])]}},{key:"cell(expiry)",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.item.expiry))+" ")]}},{key:"cell(actions)",fn:function(e){return[a("erd-button",{staticClass:"btn-table",attrs:{variant:"info"},on:{click:function(a){return t.user(e.item.user_id)}}},[a("i",{staticClass:"las la-user"})]),a("erd-button",{staticClass:"btn-table",attrs:{variant:"danger"},on:{click:function(a){return t.deleteConfirm(e.item.id)}}},[a("i",{staticClass:"las la-trash"})])]}}])}),a("b-pagination",{staticClass:"w-100 my-3",attrs:{size:"sm",align:"center","total-rows":t.total,"per-page":t.perPage},scopedSlots:t._u([{key:"next-text",fn:function(){return[a("i",{staticClass:"las la-angle-right"})]},proxy:!0},{key:"prev-text",fn:function(){return[a("i",{staticClass:"las la-angle-left"})]},proxy:!0},{key:"first-text",fn:function(){return[a("i",{staticClass:"las la-angle-double-left"})]},proxy:!0},{key:"last-text",fn:function(){return[a("i",{staticClass:"las la-angle-double-right"})]},proxy:!0}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},s=[],r=a("5530"),n=(a("ac1f"),a("841c"),a("4d63"),a("25f0"),a("4de4"),a("466d"),a("fb6a"),a("2ebf")),o=a("0dcc"),l=a("2f62"),u={data:function(){return{search:null,isLoading:!1,from:0,to:0,total:0,currentPage:1,confirms:[],fields:[{key:"user_id",label:this.$t("users.id"),sortable:!0},{key:"code",label:this.$t("confirm.code"),sortable:!0},{key:"expiry",label:this.$t("confirm.expiry"),sortable:!0},{key:"actions",label:this.$t("users.actions"),sortable:!1,thClass:"text-right",tdClass:"text-right"}]}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])(["currentUser","settings"])),{},{perPage:function(){return this.settings.perPage},searchFiltered:function(){var t=this;if(null===this.search)return this.confirms;var e=new RegExp(this.search,"i");return this.confirms.filter((function(a){return String(a.user_id).match(e)||String(a.code).match(e)||String(a.expiry).match(e)||t.formatDate(a.expiry).match(e)}))},paged:function(){return this.total=this.searchFiltered.length,this.from=(this.currentPage-1)*this.perPage,this.to=this.from+this.perPage>this.total?this.total:this.from+this.perPage,this.searchFiltered.slice(this.from,this.to)}}),methods:{formatDate:function(t){return new Date(t).toLocaleString(this.$t("date.locale"),this.dateOptions)},loadConfirms:function(){var t=this;this.isLoading=!0,o["a"].get("administration/confirms").then((function(e){t.isLoading=!1,!0===e.status&&(t.confirms=e.data)})).catch((function(){t.isLoading=!1,t.$notify("error",t.$t("profile.failed"),t.$t("confirm.load-error"),"la-user-shield",{duration:5e3,permanent:!1})}))},deleteConfirm:function(t){var e=this;o["a"].post("administration/confirm/delete",{id:t}).then((function(t){e.isLoading=!1,!0===t.status&&(e.$notify("primary",e.$t("profile.success"),e.$t("confirm.delete-success"),"la-user-shield",{duration:5e3,permanent:!1}),e.loadConfirms())})).catch((function(){e.isLoading=!1,e.$notify("error",e.$t("profile.failed"),e.$t("confirm.delete-error"),"la-user-shield",{duration:5e3,permanent:!1})}))},user:function(t){this.$router.push({name:"users",params:{editor:!0,id:t}})},searchConfirm:function(t){0===t.length?this.search=null:this.search=t},printConfirms:function(){document.getElementById("confirms").print()}},beforeMount:function(){this.loadConfirms(),n["a"].$on("refresh",this.loadConfirms),n["a"].$on("search",this.searchConfirm),n["a"].$on("print",this.printConfirms)},beforeDestroy:function(){n["a"].$off("refresh",this.loadConfirms),n["a"].$off("search",this.searchConfirm),n["a"].$off("print",this.printConfirms)},watch:{from:function(t){n["a"].$emit("update-from",t)},to:function(t){n["a"].$emit("update-to",t)},total:function(t){n["a"].$emit("update-total",t)}}},c=u,d=a("2877"),f=Object(d["a"])(c,i,s,!1,null,null,null);e["default"]=f.exports},e59c:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("erd-row",[a("erd-breadcrumb",{attrs:{items:t.breadcrumb,heading:t.heading}},[t.editor?a("erd-button",{staticClass:"mr-1 py-1 px-2",attrs:{icon:"las la-save",variant:"success"},on:{click:t.doSave}},[t._v(t._s(t.$t("general.save")))]):t._e(),t.editor?a("erd-button",{staticClass:"py-1 px-2",attrs:{icon:"las la-ban",variant:"danger"},on:{click:t.doCancel}},[t._v(t._s(t.$t("general.cancel")))]):t._e(),t.editor?t._e():a("erd-button",{staticClass:"mr-2 py-1 px-2",attrs:{icon:"las la-sync"},on:{click:t.doRefresh}},[t._v(t._s(t.$t("general.refresh")))]),t.editor?t._e():a("span",{staticClass:"text-muted"},[t._v(t._s(t.$t("general.from-to-total").format(this.total>0?this.from+1:this.from,this.to,this.total)))])],1),a("div",{staticClass:"seperator page"}),a("router-view",{staticClass:"px-0 mt-0"})],1)},s=[],r=(a("d81d"),a("b0c0"),a("2ebf")),n={data:function(){return{from:0,to:0,total:0,editor:!1}},computed:{breadcrumb:function(){var t=this,e=[];return this.$route.matched.map((function(a){e.push({text:t.$t("menu.".concat(a.name.toLowerCase())),to:""!==a.path?a.path:"/"})})),e},heading:function(){var t=this.breadcrumb;return t[t.length-1].text}},methods:{updateFrom:function(t){this.from=t},updateTo:function(t){this.to=t},updateTotal:function(t){this.total=t},updateEditor:function(t){this.editor=t},doRefresh:function(){r["a"].$emit("refresh")},doCancel:function(){r["a"].$emit("cancel")},doSave:function(){r["a"].$emit("save")}},watch:{$route:function(){this.to=0,this.from=0,this.total=0,!0!==this.$route.params.editor&&(this.editor=!1)}},beforeMount:function(){r["a"].$on("update-from",this.updateFrom),r["a"].$on("update-to",this.updateTo),r["a"].$on("update-total",this.updateTotal),r["a"].$on("update-editor",this.updateEditor)},beforeDestroy:function(){r["a"].$off("update-from",this.updateFrom),r["a"].$off("update-to",this.updateTo),r["a"].$off("update-total",this.updateTotal),r["a"].$off("update-editor",this.updateEditor)}},o=n,l=(a("cbe2"),a("2877")),u=Object(l["a"])(o,i,s,!1,null,"128d1267",null);e["default"]=u.exports}}]);